(function(R,D){'object'==typeof exports&&'object'==typeof module?module.exports=D():'function'==typeof define&&define.amd?define([],D):'object'==typeof exports?exports.ML=D():R.ML=D()})(this,function(){return function(I){function R(O){if(D[O])return D[O].exports;var E=D[O]={exports:{},id:O,loaded:!1};return I[O].call(E.exports,E,E.exports,R),E.loaded=!0,E.exports}var D={};return R.m=I,R.c=D,R.p='',R(0)}([function(I,R,D){'use strict';R.ArrayUtils=R.AU=D(1),R.BitArray=D(9),R.HashTable=D(11),R.Matrix=D(14),R.PadArray=D(34),R.Regression=D(36),R.BinarySearch=D(8);var O=R.Math={},E=D(59);O.Distance=E.distance,O.Similarity=E.similarity,O.SG=D(114),O.SGG=D(116),O.Matrix=R.Matrix,O.SparseMatrix=D(120),O.BellOptimizer=D(121),O.CurveFitting=D(122),O.Kernel=D(45);var G=R.Stat={};G.array=D(3).array,G.matrix=D(3).matrix,G.PCA=D(125),G.Performance=D(126);var Z=R.RNG={};Z.XSadd=D(128);var $=R.SL={};$.CV=D(129),$.CrossValidation=$.CV,$.SVM=D(132),$.KNN=D(133),$.NaiveBayes=D(136),$.PLS=D(138);var ee=R.Clust={};ee.kmeans=D(142),ee.hclust=D(144);var te=R.NN=R.nn={};te.SOM=D(155),te.FNN=D(158)},function(I,R,D){I.exports=R=D(2),R.getEquallySpacedData=D(6).getEquallySpacedData,R.SNV=D(7).SNV,R.binarySearch=D(8)},function(I,R,D){'use strict';function O(G){for(var Z=Array(G[0].length),$=0;$<Z.length;++$)Z[$]=Array(G.length);for($=0;$<G.length;++$)for(var ee=0;ee<G[0].length;++ee)Z[ee][$]=G[$][ee];return Z}const E=D(3).array;I.exports={coordArrayToPoints:function(Z,$){if(0!=Z.length%$)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var ee=Z.length/$,te=Array(ee),ie=0,ne=0;ne<Z.length;ne+=$){for(var oe=Array($),se=0;se<$;++se)oe[se]=Z[ne+se];te[ie]=oe,ie++}return te},coordArrayToCoordMatrix:function(Z,$){if(0!=Z.length%$)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var ee=Array($),te=Z.length/$,ie=0;ie<ee.length;ie++)ee[ie]=Array(te);for(ie=0;ie<Z.length;ie+=$)for(var ne=0;ne<$;++ne){var oe=Math.floor(ie/$);ee[ne][oe]=Z[ie+ne]}return ee},coordMatrixToCoordArray:function(Z){for(var $=Array(Z.length*Z[0].length),ee=0,te=0;te<Z[0].length;++te)for(var ie=0;ie<Z.length;++ie)$[ee]=Z[ie][te],++ee;return $},coordMatrixToPoints:O,pointsToCoordArray:function(Z){for(var $=Array(Z.length*Z[0].length),ee=0,te=0;te<Z.length;++te)for(var ie=0;ie<Z[0].length;++ie)$[ee]=Z[te][ie],++ee;return $},pointsToCoordMatrix:O,applyDotProduct:function(Z,$){var ee,te;Z.length<=$.length?(te=Z,ee=$):(te=$,ee=Z);for(var ie=ee.length-te.length+1,ne=Array(ie),oe=0;oe<ie;++oe){for(var se=0,ae=0;ae<te.length;++ae)se+=te[ae]*ee[oe+ae];ne[oe]=se}return ne},scale:function(Z,$){var ee;ee=$.inPlace?Z:Array(Z.length);const te=$.max,ie=$.min;if('number'==typeof te){if('number'==typeof ie)for(var ne=E.minMax(Z),oe=(te-ie)/(ne.max-ne.min),se=0;se<ee.length;se++)ee[se]=(Z[se]-ne.min)*oe+ie;else for(var ae=E.max(Z),oe=te/ae,se=0;se<ee.length;se++)ee[se]=Z[se]*oe;}else if('number'==typeof ie)for(var ae=E.min(Z),oe=ie/ae,se=0;se<ee.length;se++)ee[se]=Z[se]*oe;return ee}}},function(I,R,D){'use strict';R.array=D(4),R.matrix=D(5)},function(I,R){'use strict';function D(O,E){return O-E}R.sum=function(E){for(var O=0,G=0;G<E.length;G++)O+=E[G];return O},R.max=function(E){for(var O=E[0],G=E.length,Z=1;Z<G;Z++)E[Z]>O&&(O=E[Z]);return O},R.min=function(E){for(var O=E[0],G=E.length,Z=1;Z<G;Z++)E[Z]<O&&(O=E[Z]);return O},R.minMax=function(E){for(var G=E[0],Z=E[0],$=E.length,ee=1;ee<$;ee++)E[ee]<G&&(G=E[ee]),E[ee]>Z&&(Z=E[ee]);return{min:G,max:Z}},R.arithmeticMean=function(E){for(var G=0,Z=E.length,$=0;$<Z;$++)G+=E[$];return G/Z},R.mean=R.arithmeticMean,R.geometricMean=function(E){for(var G=1,Z=E.length,$=0;$<Z;$++)G*=E[$];return Math.pow(G,1/Z)},R.logMean=function(E){for(var G=0,Z=E.length,$=0;$<Z;$++)G+=Math.log(E[$]);return G/Z},R.grandMean=function(E,G){for(var Z=0,$=0,ee=E.length,te=0;te<ee;te++)Z+=G[te]*E[te],$+=G[te];return Z/$},R.truncatedMean=function(E,G,Z){Z===void 0&&(Z=!1),Z||(E=[].concat(E).sort(D));for(var $=E.length,ee=Math.floor($*G),te=0,ie=ee;ie<$-ee;ie++)te+=E[ie];return te/($-2*ee)},R.harmonicMean=function(E){for(var G=0,Z=E.length,$=0;$<Z;$++){if(0===E[$])throw new RangeError('value at index '+$+'is zero');G+=1/E[$]}return Z/G},R.contraHarmonicMean=function(E){for(var G=0,Z=0,$=E.length,ee=0;ee<$;ee++)G+=E[ee]*E[ee],Z+=E[ee];if(0>Z)throw new RangeError('sum of values is negative');return G/Z},R.median=function(E,G){G===void 0&&(G=!1),G||(E=[].concat(E).sort(D));var Z=E.length,$=Math.floor(Z/2);return 0==Z%2?0.5*(E[$-1]+E[$]):E[$]},R.variance=function(E,G){G===void 0&&(G=!0);for(var Z=R.mean(E),$=0,ee=E.length,te=0;te<ee;te++){var ie=E[te]-Z;$+=ie*ie}return G?$/(ee-1):$/ee},R.standardDeviation=function(E,G){return Math.sqrt(R.variance(E,G))},R.standardError=function(E){return R.standardDeviation(E)/Math.sqrt(E.length)},R.robustMeanAndStdev=function(E){var G=0,Z=0,$=E.length,ee=0;for(ee=0;ee<$;ee++)G+=E[ee];G/=$;var te=Array($);for(ee=0;ee<$;ee++)te[ee]=Math.abs(E[ee]-G);return te.sort(D),Z=1==$%2?te[($-1)/2]/0.6745:0.5*(te[$/2]+te[$/2-1])/0.6745,{mean:G,stdev:Z}},R.quartiles=function(E,G){'undefined'==typeof G&&(G=!1),G||(E=[].concat(E).sort(D));var Z=E.length/4,$=E[Math.ceil(Z)-1],ee=R.median(E,!0),te=E[Math.ceil(3*Z)-1];return{q1:$,q2:ee,q3:te}},R.pooledStandardDeviation=function(E,G){return Math.sqrt(R.pooledVariance(E,G))},R.pooledVariance=function(E,G){'undefined'==typeof G&&(G=!0);for(var Z=0,$=0,ee=E.length,te=0;te<ee;te++){var ie=E[te],ne=R.variance(ie);Z+=(ie.length-1)*ne,$+=G?ie.length-1:ie.length}return Z/$},R.mode=function(E){var G=E.length,Z=Array(G),$;for($=0;$<G;$++)Z[$]=0;var ee=Array(G),te=0;for($=0;$<G;$++){var ie=ee.indexOf(E[$]);0<=ie?Z[ie]++:(ee[te]=E[$],Z[te]=1,te++)}var ne=0,oe=0;for($=0;$<te;$++)Z[$]>ne&&(ne=Z[$],oe=$);return ee[oe]},R.covariance=function(E,G,Z){'undefined'==typeof Z&&(Z=!0);var $=R.mean(E),ee=R.mean(G);if(E.length!==G.length)throw'Vectors do not have the same dimensions';for(var te=0,ie=E.length,ne=0;ne<ie;ne++){var oe=E[ne]-$,se=G[ne]-ee;te+=oe*se}return Z?te/(ie-1):te/ie},R.skewness=function(E,G){'undefined'==typeof G&&(G=!0);for(var Z=R.mean(E),$=0,ee=0,te=E.length,ie=0;ie<te;ie++){var ne=E[ie]-Z;$+=ne*ne,ee+=ne*ne*ne}var oe=$/te,se=ee/te,ae=se/Math.pow(oe,3/2);if(G){var le=Math.sqrt(te*(te-1));return le/(te-2)*ae}return ae},R.kurtosis=function(E,G){'undefined'==typeof G&&(G=!0);for(var Z=R.mean(E),$=E.length,ee=0,te=0,ie=0;ie<$;ie++){var ne=E[ie]-Z;ee+=ne*ne,te+=ne*ne*ne*ne}var oe=ee/$,se=te/$;if(G){var ae=ee/($-1),le=te/(ae*ae);return $*($+1)/(($-1)*($-2)*($-3))*le-3*(($-1)*($-1)/(($-2)*($-3)))}return se/(oe*oe)-3},R.entropy=function(E,G){'undefined'==typeof G&&(G=0);for(var Z=0,$=E.length,ee=0;ee<$;ee++)Z+=E[ee]*Math.log(E[ee]+G);return-Z},R.weightedMean=function(E,G){for(var Z=0,$=E.length,ee=0;ee<$;ee++)Z+=E[ee]*G[ee];return Z},R.weightedStandardDeviation=function(E,G){return Math.sqrt(R.weightedVariance(E,G))},R.weightedVariance=function(E,G){for(var Z=R.weightedMean(E,G),$=0,ee=E.length,te=0,ie=0,ne=0;ne<ee;ne++){var oe=E[ne]-Z,se=G[ne];$+=se*(oe*oe),ie+=se,te+=se*se}return $*(ie/(ie*ie-te))},R.center=function(E,G){'undefined'==typeof G&&(G=!1);var Z=E;G||(Z=[].concat(E));for(var $=R.mean(Z),ee=Z.length,te=0;te<ee;te++)Z[te]-=$},R.standardize=function(E,G,Z){'undefined'==typeof G&&(G=R.standardDeviation(E)),'undefined'==typeof Z&&(Z=!1);for(var $=E.length,ee=Z?E:Array($),te=0;te<$;te++)ee[te]=E[te]/G;return ee},R.cumulativeSum=function(E){var G=E.length,Z=Array(G);Z[0]=E[0];for(var $=1;$<G;$++)Z[$]=Z[$-1]+E[$];return Z}},function(I,R,D){'use strict';function O(G,Z){return G-Z}var E=D(4);R.max=function(Z){for(var G=-(1/0),$=0;$<Z.length;$++)for(var ee=0;ee<Z[$].length;ee++)Z[$][ee]>G&&(G=Z[$][ee]);return G},R.min=function(Z){for(var G=1/0,$=0;$<Z.length;$++)for(var ee=0;ee<Z[$].length;ee++)Z[$][ee]<G&&(G=Z[$][ee]);return G},R.minMax=function(Z){for(var $=1/0,ee=-(1/0),te=0;te<Z.length;te++)for(var ie=0;ie<Z[te].length;ie++)Z[te][ie]<$&&($=Z[te][ie]),Z[te][ie]>ee&&(ee=Z[te][ie]);return{min:$,max:ee}},R.entropy=function(Z,$){'undefined'==typeof $&&($=0);for(var ee=0,te=Z.length,ie=Z[0].length,ne=0;ne<te;ne++)for(var oe=0;oe<ie;oe++)ee+=Z[ne][oe]*Math.log(Z[ne][oe]+$);return-ee},R.mean=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe,se;if(-1===$){for(ie=[0],ne=ee*te,oe=0;oe<ee;oe++)for(se=0;se<te;se++)ie[0]+=Z[oe][se];ie[0]/=ne}else if(0===$)for(ie=Array(te),ne=ee,se=0;se<te;se++){for(ie[se]=0,oe=0;oe<ee;oe++)ie[se]+=Z[oe][se];ie[se]/=ne}else if(1===$)for(ie=Array(ee),ne=te,se=0;se<ee;se++){for(ie[se]=0,oe=0;oe<te;oe++)ie[se]+=Z[se][oe];ie[se]/=ne}else throw new Error('Invalid dimension');return ie},R.sum=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe;if(-1===$)for(ie=[0],ne=0;ne<ee;ne++)for(oe=0;oe<te;oe++)ie[0]+=Z[ne][oe];else if(0===$)for(ie=Array(te),oe=0;oe<te;oe++)for(ie[oe]=0,ne=0;ne<ee;ne++)ie[oe]+=Z[ne][oe];else if(1===$)for(ie=Array(ee),oe=0;oe<ee;oe++)for(ie[oe]=0,ne=0;ne<te;ne++)ie[oe]+=Z[oe][ne];else throw new Error('Invalid dimension');return ie},R.product=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe;if(-1===$)for(ie=[1],ne=0;ne<ee;ne++)for(oe=0;oe<te;oe++)ie[0]*=Z[ne][oe];else if(0===$)for(ie=Array(te),oe=0;oe<te;oe++)for(ie[oe]=1,ne=0;ne<ee;ne++)ie[oe]*=Z[ne][oe];else if(1===$)for(ie=Array(ee),oe=0;oe<ee;oe++)for(ie[oe]=1,ne=0;ne<te;ne++)ie[oe]*=Z[oe][ne];else throw new Error('Invalid dimension');return ie},R.standardDeviation=function(Z,$,ee){for(var te=R.variance(Z,$,ee),ie=te.length,ne=0;ne<ie;ne++)te[ne]=Math.sqrt(te[ne]);return te},R.variance=function(Z,$,ee){'undefined'==typeof ee&&(ee=!0),$=$||R.mean(Z);var te=Z.length;if(0===te)return[];for(var ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0,de=0;de<te;de++)le=Z[de][oe]-$[oe],se+=le,ae+=le*le;ne[oe]=ee?(ae-se*se/te)/(te-1):(ae-se*se/te)/te}return ne},R.median=function(Z){for(var $=Z.length,ee=Z[0].length,te=Array(ee),ie=0;ie<ee;ie++){for(var ne=Array($),oe=0;oe<$;oe++)ne[oe]=Z[oe][ie];ne.sort(O);var se=ne.length;te[ie]=0==se%2?0.5*(ne[se/2]+ne[se/2-1]):ne[Math.floor(se/2)]}return te},R.mode=function(Z){var $=Z.length,ee=Z[0].length,te=Array(ee),ie,ne;for(ie=0;ie<ee;ie++){for(var oe=Array($),se=0;se<$;se++)oe[se]=0;var ae=Array($),le=0;for(ne=0;ne<$;ne++){var de=ae.indexOf(Z[ne][ie]);0<=de?oe[de]++:(ae[le]=Z[ne][ie],oe[le]=1,le++)}var ue=0,ce=0;for(ne=0;ne<le;ne++)oe[ne]>ue&&(ue=oe[ne],ce=ne);te[ie]=ae[ce]}return te},R.skewness=function(Z,$){'undefined'==typeof $&&($=!0);for(var ee=R.mean(Z),te=Z.length,ie=ee.length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0;le<te;le++){var de=Z[le][oe]-ee[oe];se+=de*de,ae+=de*de*de}var ue=se/te,ce=ae/te,me=ce/Math.pow(ue,3/2);if($){var pe=Math.sqrt(te*(te-1));ne[oe]=pe/(te-2)*me}else ne[oe]=me}return ne},R.kurtosis=function(Z,$){'undefined'==typeof $&&($=!0);for(var ee=R.mean(Z),te=Z.length,ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0;le<te;le++){var de=Z[le][oe]-ee[oe];se+=de*de,ae+=de*de*de*de}var ue=se/te,ce=ae/te;if($){var me=se/(te-1),pe=ae/(me*me);ne[oe]=te*(te+1)/((te-1)*(te-2)*(te-3))*pe-3*((te-1)*(te-1)/((te-2)*(te-3)))}else ne[oe]=ce/(ue*ue)-3}return ne},R.standardError=function(Z){for(var $=Z.length,ee=R.standardDeviation(Z),te=ee.length,ie=Array(te),ne=Math.sqrt($),oe=0;oe<te;oe++)ie[oe]=ee[oe]/ne;return ie},R.covariance=function(Z,$){return R.scatter(Z,void 0,$)},R.scatter=function(Z,$,ee){'undefined'==typeof ee&&(ee=0),'undefined'==typeof $&&(0===ee?$=Z.length-1:1==ee&&($=Z[0].length-1));var te=R.mean(Z,ee),ie=Z.length;if(0===ie)return[[]];var ne=Z[0].length,oe,se,ae,le,de;if(0===ee){for(oe=Array(ne),se=0;se<ne;se++)oe[se]=Array(ne);for(se=0;se<ne;se++)for(ae=se;ae<ne;ae++){for(le=0,de=0;de<ie;de++)le+=(Z[de][ae]-te[ae])*(Z[de][se]-te[se]);le/=$,oe[se][ae]=le,oe[ae][se]=le}}else if(1===ee){for(oe=Array(ie),se=0;se<ie;se++)oe[se]=Array(ie);for(se=0;se<ie;se++)for(ae=se;ae<ie;ae++){for(le=0,de=0;de<ne;de++)le+=(Z[ae][de]-te[ae])*(Z[se][de]-te[se]);le/=$,oe[se][ae]=le,oe[ae][se]=le}}else throw new Error('Invalid dimension');return oe},R.correlation=function(Z){var $=R.mean(Z),ee=R.standardDeviation(Z,!0,$),te=R.zScores(Z,$,ee),ie=Z.length,ne=Z[0].length,oe,se,ae=Array(ne);for(oe=0;oe<ne;oe++)ae[oe]=Array(ne);for(oe=0;oe<ne;oe++)for(se=oe;se<ne;se++){for(var le=0,de=0,ue=te.length;de<ue;de++)le+=te[de][se]*te[de][oe];le/=ie-1,ae[oe][se]=le,ae[se][oe]=le}return ae},R.zScores=function(Z,$,ee){return $=$||R.mean(Z),'undefined'==typeof ee&&(ee=R.standardDeviation(Z,!0,$)),R.standardize(R.center(Z,$,!1),ee,!0)},R.center=function(Z,$,ee){$=$||R.mean(Z);var te=Z,ie=Z.length,ne,oe,se;if(!ee)for(te=Array(ie),ne=0;ne<ie;ne++)te[ne]=Array(Z[ne].length);for(ne=0;ne<ie;ne++){var ae=te[ne];for(oe=0,se=ae.length;oe<se;oe++)ae[oe]=Z[ne][oe]-$[oe]}return te},R.standardize=function(Z,$,ee){'undefined'==typeof $&&($=R.standardDeviation(Z));var te=Z,ie=Z.length,ne,oe,se;if(!ee)for(te=Array(ie),ne=0;ne<ie;ne++)te[ne]=Array(Z[ne].length);for(ne=0;ne<ie;ne++){var ae=te[ne],le=Z[ne];for(oe=0,se=ae.length;oe<se;oe++)0===$[oe]||isNaN($[oe])||(ae[oe]=le[oe]/$[oe])}return te},R.weightedVariance=function(Z,$){var ee=R.mean(Z),te=Z.length;if(0===te)return[];for(var ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0,de=0;de<te;de++){var ue=Z[de][oe]-ee[oe],ce=$[de];se+=ce*(ue*ue),le+=ce,ae+=ce*ce}ne[oe]=se*(le/(le*le-ae))}return ne},R.weightedMean=function(Z,$,ee){'undefined'==typeof ee&&(ee=0);var te=Z.length;if(0===te)return[];var ie=Z[0].length,ne,oe,se,ae,le,de;if(0===ee){for(ne=Array(ie),oe=0;oe<ie;oe++)ne[oe]=0;for(oe=0;oe<te;oe++)for(de=Z[oe],le=$[oe],ae=0;ae<ie;ae++)ne[ae]+=de[ae]*le}else if(1===ee){for(ne=Array(te),oe=0;oe<te;oe++)ne[oe]=0;for(ae=0;ae<te;ae++)for(de=Z[ae],le=$[ae],oe=0;oe<ie;oe++)ne[ae]+=de[oe]*le}else throw new Error('Invalid dimension');var ue=E.sum($);if(0!==ue)for(oe=0,se=ne.length;oe<se;oe++)ne[oe]/=ue;return ne},R.weightedCovariance=function(Z,$,ee,te){te=te||0,ee=ee||R.weightedMean(Z,$,te);for(var ie=0,ne=0,oe=0,se=$.length;oe<se;oe++)ie+=$[oe],ne+=$[oe]*$[oe];var ae=ie/(ie*ie-ne);return R.weightedScatter(Z,$,ee,ae,te)},R.weightedScatter=function(Z,$,ee,te,ie){ie=ie||0,ee=ee||R.weightedMean(Z,$,ie),'undefined'==typeof te&&(te=1);var ne=Z.length;if(0===ne)return[[]];var oe=Z[0].length,se,ae,le,de,ue;if(0===ie){for(se=Array(oe),ae=0;ae<oe;ae++)se[ae]=Array(oe);for(ae=0;ae<oe;ae++)for(le=ae;le<oe;le++){for(ue=0,de=0;de<ne;de++)ue+=$[de]*(Z[de][le]-ee[le])*(Z[de][ae]-ee[ae]);se[ae][le]=ue*te,se[le][ae]=ue*te}}else if(1===ie){for(se=Array(ne),ae=0;ae<ne;ae++)se[ae]=Array(ne);for(ae=0;ae<ne;ae++)for(le=ae;le<ne;le++){for(ue=0,de=0;de<oe;de++)ue+=$[de]*(Z[le][de]-ee[le])*(Z[ae][de]-ee[ae]);se[ae][le]=ue*te,se[le][ae]=ue*te}}else throw new Error('Invalid dimension');return se}},function(I,R){'use strict';function D(G,Z,$,ee,te){function ie(Se,Me,ze,qe){return(qe-Me)/(ze-Se)}var ne=G.length,oe=(ee-$)/(te-1),se=$-oe/2,ae=Array(te),le=G[1]-G[0],de=G[G.length-1]-G[G.length-2],ue=se,ce=se+oe,me=Number.MIN_VALUE,pe=0,ge=G[0]-le,he=0,xe=0,fe=0,ye=0,je=0,ke=0,we=0,be=0;main:for(;!0;){for(;0<=ge-ce;){var ve=E(0,ce-me,fe,pe);if(ke=xe+ve,ae[be]=(ke-je)/oe,be++,be===te)break main;ue=ce,ce+=oe,je=ke}me<=ue&&ue<=ge&&(ve=E(0,ue-me,fe,pe),je=xe+ve),xe+=E(me,ge,fe,ye),me=ge,pe=he,we<ne?(ge=G[we],he=Z[we],we++):we===ne&&(ge+=de,he=0),fe=ie(me,pe,ge,he),ye=-fe*me+pe}return ae}function O(G,Z,$,ee,te){var ie=G.length,ne=(ee-$)/(te-1),oe=G[G.length-1]-G[G.length-2],se=$-ne/2,ae=Array(te),le=se,de=se+ne,ue=-Number.MAX_VALUE,ce=0,me=G[0],pe=Z[0],ge=0,he=!0,xe=0,fe=0,ye=1,je=0;main:for(;!0;){if(ue>=me)throw new Error('x must be an increasing serie');for(;0<ue-de;){if(he&&(fe++,he=!1),ae[je]=0>=fe?0:xe/fe,je++,je===te)break main;le=de,de+=ne,xe=0,fe=0}ue>le&&(xe+=ce,fe++),(ue==-Number.MAX_VALUE||1<ge)&&fe--,ue=me,ce=pe,ye<ie?(me=G[ye],pe=Z[ye],ye++):(me+=oe,pe=0,ge++)}return ae}function E(G,Z,$,ee){return 0.5*$*Z*Z+ee*Z-(0.5*$*G*G+ee*G)}R.getEquallySpacedData=function(Z,$,ee){1<Z.length&&Z[0]>Z[1]&&(Z=Z.slice().reverse(),$=$.slice().reverse());var te=Z.length;if(te!==$.length)throw new RangeError('the x and y vector doesn\'t have the same size.');ee===void 0&&(ee={});var ie=ee.from===void 0?Z[0]:ee.from;if(isNaN(ie)||!isFinite(ie))throw new RangeError('\'From\' value must be a number');var ne=ee.to===void 0?Z[Z.length-1]:ee.to;if(isNaN(ne)||!isFinite(ne))throw new RangeError('\'To\' value must be a number');var oe=ie>ne;if(oe){var se=ie;ie=ne,ne=se}var ae=ee.numberOfPoints===void 0?100:ee.numberOfPoints;if(isNaN(ae)||!isFinite(ae))throw new RangeError('\'Number of points\' value must be a number');if(1>ae)throw new RangeError('the number of point must be higher than 1');var le='slot'===ee.variant?'slot':'smooth',de='slot'==le?O(Z,$,ie,ne,ae):D(Z,$,ie,ne,ae);return oe?de.reverse():de},R.integral=E},function(I,R,D){'use strict';R.SNV=function(G){for(var Z=O.mean(G),$=O.standardDeviation(G),ee=G.slice(),te=0;te<G.length;te++)ee[te]=(ee[te]-Z)/$;return ee};var O=D(3).array},function(I,R){I.exports=function(O,E,G){G=G||{};for(var Z=G.from||0,$=G.to||O.length-1;Z<=$;){var ee=Z+$>>>1,te=O[ee];if(te<E)Z=ee+1;else if(te>E)$=ee-1;else return ee}return-(Z+1)}},function(I,R,D){'use strict';function O(G){for(var Z='',$=0;$<G.length;$++){var ee=(G[$]>>>0).toString(2);Z+='00000000000000000000000000000000'.substr(ee.length)+ee}return Z}var E=D(10);I.exports={count:function(Z){for(var $=0,ee=0;ee<Z.length;ee++)$+=E[255&Z[ee]]+E[255&Z[ee]>>8]+E[255&Z[ee]>>16]+E[255&Z[ee]>>24];return $},and:function(Z,$){for(var ee=Array(Z.length),te=0;te<Z.length;te++)ee[te]=Z[te]&$[te];return ee},or:function(Z,$){for(var ee=Array(Z.length),te=0;te<Z.length;te++)ee[te]=Z[te]|$[te];return ee},xor:function(Z,$){for(var ee=Array(Z.length),te=0;te<Z.length;te++)ee[te]=Z[te]^$[te];return ee},not:function(Z){for(var $=Array(Z.length),ee=0;ee<$.length;ee++)$[ee]=~Z[ee];return $},getBit:function(Z,$){return!!(Z[$>>5]&1<<31-$%32)},setBit:function(Z,$,ee){var te=$>>5,ie=1<<31-$%32;return Z[te]=ee?ie|Z[te]:~ie&Z[te],Z},toBinaryString:O,parseBinaryString:function(Z){for(var $=Z.length/32,ee=Array($),te=0;te<$;te++)ee[te]=0|parseInt(Z.substr(32*te,32),2);return ee},toHexString:function(Z){for(var $='',ee=0;ee<Z.length;ee++){var te=(Z[ee]>>>0).toString(16);$+='00000000'.substr(te.length)+te}return $},parseHexString:function(Z){for(var $=Z.length/8,ee=Array($),te=0;te<$;te++)ee[te]=0|parseInt(Z.substr(8*te,8),16);return ee},toDebug:function(Z){for(var $=O(Z),ee='',te=0;te<Z.length;te++){ee+='0000'.substr((32*te).toString(16).length)+(32*te).toString(16)+':';for(var ie=0;32>ie;ie+=4)ee+=' '+$.substr(32*te+ie,4);te<Z.length-1&&(ee+='\n')}return ee}}},function(I,R){for(var D=Array(256),O=0;256>O;O++){for(var E=O,G=0;E;)E=E&E-1,G++;D[O]=G}I.exports=D},function(I,R,D){'use strict';function O(le,de){return 0|le*de}function E(le,de){return Math.min(le-2,0|le*de)}function G(le,de,ue){return te(Math.max(le+1,0|4*le/(3*de+ue)))}function Z(le,de,ue){return te(Math.max(le+1,0|4*le/(de+3*ue)))}const $=D(12),ee=D(13),te=ee.nextPrime,ie=ee.largestPrime,ne=0,oe=1,se=2;class le{constructor(de={}){if(de instanceof le)return this.table=de.table.slice(),this.values=de.values.slice(),this.state=de.state.slice(),this.minLoadFactor=de.minLoadFactor,this.maxLoadFactor=de.maxLoadFactor,this.distinct=de.distinct,this.freeEntries=de.freeEntries,this.lowWaterMark=de.lowWaterMark,void(this.highWaterMark=de.maxLoadFactor);const ue=de.initialCapacity===void 0?150:de.initialCapacity;if(0>ue)throw new RangeError(`initial capacity must not be less than zero: ${ue}`);const ce=de.minLoadFactor===void 0?1/6:de.minLoadFactor,me=de.maxLoadFactor===void 0?2/3:de.maxLoadFactor;if(0>ce||1<=ce)throw new RangeError(`invalid minLoadFactor: ${ce}`);if(0>=me||1<=me)throw new RangeError(`invalid maxLoadFactor: ${me}`);if(ce>=me)throw new RangeError(`minLoadFactor (${ce}) must be smaller than maxLoadFactor (${me})`);let pe=ue;pe=0|pe/me,pe=te(pe),0===pe&&(pe=1),this.table=$(pe,0),this.values=$(pe,0),this.state=$(pe,0),this.minLoadFactor=ce,this.maxLoadFactor=pe===ie?1:me,this.distinct=0,this.freeEntries=pe,this.lowWaterMark=0,this.highWaterMark=E(pe,this.maxLoadFactor)}clone(){return new le(this)}get size(){return this.distinct}get(de){const ue=this.indexOfKey(de);return 0>ue?0:this.values[ue]}set(de,ue){let ce=this.indexOfInsertion(de);if(0>ce)return ce=-ce-1,this.values[ce]=ue,!1;if(this.distinct>this.highWaterMark){const me=G(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(me),this.set(de,ue)}if(this.table[ce]=de,this.values[ce]=ue,this.state[ce]===ne&&this.freeEntries--,this.state[ce]=oe,this.distinct++,1>this.freeEntries){const me=G(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(me)}return!0}remove(de,ue){const ce=this.indexOfKey(de);return!(0>ce)}delete(de,ue){const ce=this.indexOfKey(de);return!(0>ce)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){const de=Z(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(de)}}containsKey(de){return 0<=this.indexOfKey(de)}indexOfKey(de){const ue=this.table,ce=this.state,me=this.table.length,pe=2147483647&de;let ge=pe%me,he=pe%(me-2);for(0==he&&(he=1);ce[ge]!==ne&&(ce[ge]===se||ue[ge]!==de);)ge-=he,0>ge&&(ge+=me);return ce[ge]===ne?-1:ge}containsValue(de){return 0<=this.indexOfValue(de)}indexOfValue(de){const ue=this.values,ce=this.state;for(var me=0;me<ce.length;me++)if(ce[me]===oe&&ue[me]===de)return me;return-1}indexOfInsertion(de){const ue=this.table,ce=this.state,me=ue.length,pe=2147483647&de;let ge=pe%me,he=pe%(me-2);for(0==he&&(he=1);ce[ge]===oe&&ue[ge]!==de;)ge-=he,0>ge&&(ge+=me);if(ce[ge]===se){for(const xe=ge;ce[ge]!==ne&&(ce[ge]===se||ue[ge]!==de);)ge-=he,0>ge&&(ge+=me);ce[ge]===ne&&(ge=xe)}return ce[ge]===oe?-ge-1:ge}ensureCapacity(de){if(this.table.length<de){const ue=te(de);this.rehash(ue)}}rehash(de){const ue=this.table.length;if(de<=this.distinct)throw new Error('Unexpected');const ce=this.table,me=this.values,pe=this.state,ge=$(de,0),he=$(de,0),xe=$(de,0);this.lowWaterMark=O(de,this.minLoadFactor),this.highWaterMark=E(de,this.maxLoadFactor),this.table=ge,this.values=he,this.state=xe,this.freeEntries=de-this.distinct;for(var fe=0;fe<ue;fe++)if(pe[fe]===oe){var ye=ce[fe],je=this.indexOfInsertion(ye);ge[je]=ye,he[je]=me[fe],xe[je]=oe}}forEachKey(de){for(var ue=0;ue<this.state.length;ue++)if(this.state[ue]===oe&&!de(this.table[ue]))return!1;return!0}forEachValue(de){for(var ue=0;ue<this.state.length;ue++)if(this.state[ue]===oe&&!de(this.values[ue]))return!1;return!0}forEachPair(de){for(var ue=0;ue<this.state.length;ue++)if(this.state[ue]===oe&&!de(this.table[ue],this.values[ue]))return!1;return!0}}I.exports=le},function(I,R){I.exports=function(O,E){O=O||0;for(var G=Array(O),Z=0;Z<O;Z++)G[Z]=E;return G}},function(I,R,D){const O=D(8),E=2147483647,G=[E,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];G.sort((Z,$)=>Z-$),R.nextPrime=function($){let ee=O(G,$);return 0>ee&&(ee=-ee-1),G[ee]},R.largestPrime=E},function(I,R,D){'use strict';I.exports=D(15),I.exports.Decompositions=I.exports.DC=D(27)},function(I,R,D){'use strict';D(16);var O=D(17),E=D(18);class Z extends O(Array){constructor($,ee){if(1===arguments.length&&'number'==typeof $)return Array($);if(Z.isMatrix($))return $.clone();if(Number.isInteger($)&&0<$){if(super($),Number.isInteger(ee)&&0<ee)for(var te=0;te<$;te++)this[te]=Array(ee);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray($)){var ie=$;if($=ie.length,ee=ie[0].length,'number'!=typeof ee||0===ee)throw new TypeError('Data must be a 2D array with at least one element');super($);for(var te=0;te<$;te++){if(ie[te].length!==ee)throw new RangeError('Inconsistent array dimensions');this[te]=[].concat(ie[te])}}else throw new TypeError('First argument must be a positive number or an array');this.rows=$,this.columns=ee}set($,ee,te){return this[$][ee]=te,this}get($,ee){return this[$][ee]}clone(){for(var $=new this.constructor[Symbol.species](this.rows,this.columns),ee=0;ee<this.rows;ee++)for(var te=0;te<this.columns;te++)$.set(ee,te,this.get(ee,te));return $}removeRow($){if(E.checkRowIndex(this,$),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice($,1),this.rows-=1,this}addRow($,ee){return void 0===ee&&(ee=$,$=this.rows),E.checkRowIndex(this,$,!0),ee=E.checkRowVector(this,ee,!0),this.splice($,0,ee),this.rows+=1,this}removeColumn($){if(E.checkColumnIndex(this,$),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var ee=0;ee<this.rows;ee++)this[ee].splice($,1);return this.columns-=1,this}addColumn($,ee){'undefined'==typeof ee&&(ee=$,$=this.columns),E.checkColumnIndex(this,$,!0),ee=E.checkColumnVector(this,ee);for(var te=0;te<this.rows;te++)this[te].splice($,0,ee[te]);return this.columns+=1,this}}I.exports=Z,Z.abstractMatrix=O},function(I,R){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(module,exports,__webpack_require__){'use strict';module.exports=function(superCtor){function compareNumbers(I,R){return I-R}function fillTemplateFunction(I,R){for(var D in R)I=I.replace(new RegExp('%'+D+'%','g'),R[D]);return I}superCtor===void 0&&(superCtor=Object);class I extends superCtor{static get[Symbol.species](){return this}static from1DArray(R,D,O){if(R*D!==O.length)throw new RangeError('Data length does not match given dimensions');for(var E=new this(R,D),G=0;G<R;G++)for(var Z=0;Z<D;Z++)E.set(G,Z,O[G*D+Z]);return E}static rowVector(R){for(var D=new this(1,R.length),O=0;O<R.length;O++)D.set(0,O,R[O]);return D}static columnVector(R){for(var D=new this(R.length,1),O=0;O<R.length;O++)D.set(O,0,R[O]);return D}static empty(R,D){return new this(R,D)}static zeros(R,D){return this.empty(R,D).fill(0)}static ones(R,D){return this.empty(R,D).fill(1)}static rand(R,D,O){O===void 0&&(O=Math.random);for(var E=this.empty(R,D),G=0;G<R;G++)for(var Z=0;Z<D;Z++)E.set(G,Z,O());return E}static eye(R,D){D===void 0&&(D=R);for(var O=Math.min(R,D),E=this.zeros(R,D),G=0;G<O;G++)E.set(G,G,1);return E}static diag(R,D,O){var E=R.length;D===void 0&&(D=E),O===void 0&&(O=D);for(var G=Math.min(E,D,O),Z=this.zeros(D,O),$=0;$<G;$++)Z.set($,$,R[$]);return Z}static min(R,D){R=this.checkMatrix(R),D=this.checkMatrix(D);for(var O=R.rows,E=R.columns,G=new this(O,E),Z=0;Z<O;Z++)for(var $=0;$<E;$++)G.set(Z,$,Math.min(R.get(Z,$),D.get(Z,$)));return G}static max(R,D){R=this.checkMatrix(R),D=this.checkMatrix(D);for(var O=R.rows,E=R.columns,G=new this(O,E),Z=0;Z<O;Z++)for(var $=0;$<E;$++)G.set(Z,$,Math.max(R.get(Z,$),D.get(Z,$)));return G}static checkMatrix(R){return I.isMatrix(R)?R:new this(R)}static isMatrix(R){return null!=R&&'Matrix'===R.klass}get size(){return this.rows*this.columns}apply(R){if('function'!=typeof R)throw new TypeError('callback must be a function');for(var D=this.rows,O=this.columns,E=0;E<D;E++)for(var G=0;G<O;G++)R.call(this,E,G);return this}to1DArray(){for(var R=Array(this.size),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R[D*this.columns+O]=this.get(D,O);return R}to2DArray(){for(var R=Array(this.rows),D=0;D<this.rows;D++){R[D]=Array(this.columns);for(var O=0;O<this.columns;O++)R[D][O]=this.get(D,O)}return R}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var R=0;R<this.rows;R++)for(var D=0;D<=R;D++)if(this.get(R,D)!==this.get(D,R))return!1;return!0}return!1}set(R,D,O){throw new Error('set method is unimplemented')}get(R,D){throw new Error('get method is unimplemented')}repeat(R,D){R=R||1,D=D||1;for(var O=new this.constructor[Symbol.species](this.rows*R,this.columns*D),E=0;E<R;E++)for(var G=0;G<D;G++)O.setSubMatrix(this,this.rows*E,this.columns*G);return O}fill(R){for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,R);return this}neg(){return this.mulS(-1)}getRow(R){util.checkRowIndex(this,R);for(var D=Array(this.columns),O=0;O<this.columns;O++)D[O]=this.get(R,O);return D}getRowVector(R){return this.constructor.rowVector(this.getRow(R))}setRow(R,D){util.checkRowIndex(this,R),D=util.checkRowVector(this,D);for(var O=0;O<this.columns;O++)this.set(R,O,D[O]);return this}swapRows(R,D){util.checkRowIndex(this,R),util.checkRowIndex(this,D);for(var O=0;O<this.columns;O++){var E=this.get(R,O);this.set(R,O,this.get(D,O)),this.set(D,O,E)}return this}getColumn(R){util.checkColumnIndex(this,R);for(var D=Array(this.rows),O=0;O<this.rows;O++)D[O]=this.get(O,R);return D}getColumnVector(R){return this.constructor.columnVector(this.getColumn(R))}setColumn(R,D){util.checkColumnIndex(this,R),D=util.checkColumnVector(this,D);for(var O=0;O<this.rows;O++)this.set(O,R,D[O]);return this}swapColumns(R,D){util.checkColumnIndex(this,R),util.checkColumnIndex(this,D);for(var O=0;O<this.rows;O++){var E=this.get(O,R);this.set(O,R,this.get(O,D)),this.set(O,D,E)}return this}addRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)+R[O]);return this}subRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)-R[O]);return this}mulRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)*R[O]);return this}divRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)/R[O]);return this}addColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)+R[D]);return this}subColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)-R[D]);return this}mulColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)*R[D]);return this}divColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)/R[D]);return this}mulRow(R,D){util.checkRowIndex(this,R);for(var O=0;O<this.columns;O++)this.set(R,O,this.get(R,O)*D);return this}mulColumn(R,D){util.checkColumnIndex(this,R);for(var O=0;O<this.rows;O++)this.set(O,R,this.get(O,R)*D)}max(){for(var R=this.get(0,0),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.get(D,O)>R&&(R=this.get(D,O));return R}maxIndex(){for(var R=this.get(0,0),D=[0,0],O=0;O<this.rows;O++)for(var E=0;E<this.columns;E++)this.get(O,E)>R&&(R=this.get(O,E),D[0]=O,D[1]=E);return D}min(){for(var R=this.get(0,0),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.get(D,O)<R&&(R=this.get(D,O));return R}minIndex(){for(var R=this.get(0,0),D=[0,0],O=0;O<this.rows;O++)for(var E=0;E<this.columns;E++)this.get(O,E)<R&&(R=this.get(O,E),D[0]=O,D[1]=E);return D}maxRow(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=1;O<this.columns;O++)this.get(R,O)>D&&(D=this.get(R,O));return D}maxRowIndex(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=[R,0],E=1;E<this.columns;E++)this.get(R,E)>D&&(D=this.get(R,E),O[1]=E);return O}minRow(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=1;O<this.columns;O++)this.get(R,O)<D&&(D=this.get(R,O));return D}minRowIndex(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=[R,0],E=1;E<this.columns;E++)this.get(R,E)<D&&(D=this.get(R,E),O[1]=E);return O}maxColumn(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=1;O<this.rows;O++)this.get(O,R)>D&&(D=this.get(O,R));return D}maxColumnIndex(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=[0,R],E=1;E<this.rows;E++)this.get(E,R)>D&&(D=this.get(E,R),O[0]=E);return O}minColumn(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=1;O<this.rows;O++)this.get(O,R)<D&&(D=this.get(O,R));return D}minColumnIndex(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=[0,R],E=1;E<this.rows;E++)this.get(E,R)<D&&(D=this.get(E,R),O[0]=E);return O}diag(){for(var R=Math.min(this.rows,this.columns),D=Array(R),O=0;O<R;O++)D[O]=this.get(O,O);return D}sum(){for(var R=0,D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R+=this.get(D,O);return R}mean(){return this.sum()/this.size}prod(){for(var R=1,D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R*=this.get(D,O);return R}cumulativeSum(){for(var R=0,D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R+=this.get(D,O),this.set(D,O,R);return this}dot(R){I.isMatrix(R)&&(R=R.to1DArray());var D=this.to1DArray();if(D.length!==R.length)throw new RangeError('vectors do not have the same size');for(var O=0,E=0;E<D.length;E++)O+=D[E]*R[E];return O}mmul(R){R=this.constructor.checkMatrix(R),this.columns!==R.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var D=this.rows,O=this.columns,E=R.columns,G=new this.constructor[Symbol.species](D,E),Z=Array(O),$=0;$<E;$++){for(var ee=0;ee<O;ee++)Z[ee]=R.get(ee,$);for(var te=0;te<D;te++){var ie=0;for(ee=0;ee<O;ee++)ie+=this.get(te,ee)*Z[ee];G.set(te,$,ie)}}return G}scaleRows(R,D){if(R=void 0===R?0:R,D=void 0===D?1:D,R>=D)throw new RangeError('min should be strictly smaller than max');for(var O=this.constructor.empty(this.rows,this.columns),E=0;E<this.rows;E++){var G=arrayUtils.scale(this.getRow(E),{min:R,max:D});O.setRow(E,G)}return O}scaleColumns(R,D){if(R=void 0===R?0:R,D=void 0===D?1:D,R>=D)throw new RangeError('min should be strictly smaller than max');for(var O=this.constructor.empty(this.rows,this.columns),E=0;E<this.columns;E++){var G=arrayUtils.scale(this.getColumn(E),{min:R,max:D});O.setColumn(E,G)}return O}kroneckerProduct(R){R=this.constructor.checkMatrix(R);for(var D=this.rows,O=this.columns,E=R.rows,G=R.columns,Z=new this.constructor[Symbol.species](D*E,O*G),$=0;$<D;$++)for(var ee=0;ee<O;ee++)for(var te=0;te<E;te++)for(var ie=0;ie<G;ie++)Z[E*$+te][G*ee+ie]=this.get($,ee)*R.get(te,ie);return Z}transpose(){for(var R=new this.constructor[Symbol.species](this.columns,this.rows),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R.set(O,D,this.get(D,O));return R}sortRows(R){R===void 0&&(R=compareNumbers);for(var D=0;D<this.rows;D++)this.setRow(D,this.getRow(D).sort(R));return this}sortColumns(R){R===void 0&&(R=compareNumbers);for(var D=0;D<this.columns;D++)this.setColumn(D,this.getColumn(D).sort(R));return this}subMatrix(R,D,O,E){util.checkRange(this,R,D,O,E);for(var G=new this.constructor[Symbol.species](D-R+1,E-O+1),Z=R;Z<=D;Z++)for(var $=O;$<=E;$++)G[Z-R][$-O]=this.get(Z,$);return G}subMatrixRow(R,D,O){if(void 0===D&&(D=0),void 0===O&&(O=this.columns-1),D>O||0>D||D>=this.columns||0>O||O>=this.columns)throw new RangeError('Argument out of range');for(var E=new this.constructor[Symbol.species](R.length,O-D+1),G=0;G<R.length;G++)for(var Z=D;Z<=O;Z++){if(0>R[G]||R[G]>=this.rows)throw new RangeError('Row index out of range: '+R[G]);E.set(G,Z-D,this.get(R[G],Z))}return E}subMatrixColumn(R,D,O){if(void 0===D&&(D=0),void 0===O&&(O=this.rows-1),D>O||0>D||D>=this.rows||0>O||O>=this.rows)throw new RangeError('Argument out of range');for(var E=new this.constructor[Symbol.species](O-D+1,R.length),G=0;G<R.length;G++)for(var Z=D;Z<=O;Z++){if(0>R[G]||R[G]>=this.columns)throw new RangeError('Column index out of range: '+R[G]);E.set(Z-D,G,this.get(Z,R[G]))}return E}setSubMatrix(R,D,O){R=this.constructor.checkMatrix(R);var E=D+R.rows-1,G=O+R.columns-1;if(D>E||O>G||0>D||D>=this.rows||0>E||E>=this.rows||0>O||O>=this.columns||0>G||G>=this.columns)throw new RangeError('Argument out of range');for(var Z=0;Z<R.rows;Z++)for(var $=0;$<R.columns;$++)this[D+Z][O+$]=R.get(Z,$);return this}selection(R,D){for(var O=util.checkIndices(this,R,D),E=new this.constructor(R.length,D.length),G=0;G<O.row.length;G++)for(var Z=O.row[G],$=0;$<O.column.length;$++){var ee=O.column[$];E[G][$]=this.get(Z,ee)}return E}trace(){for(var R=Math.min(this.rows,this.columns),D=0,O=0;O<R;O++)D+=this.get(O,O);return D}transposeView(){return new MatrixTransposeView(this)}rowView(R){return util.checkRowIndex(this,R),new MatrixRowView(this,R)}columnView(R){return util.checkColumnIndex(this,R),new MatrixColumnView(this,R)}flipRowView(){return new MatrixFlipRowView(this)}flipColumnView(){return new MatrixFlipColumnView(this)}subMatrixView(R,D,O,E){return new MatrixSubView(this,R,D,O,E)}selectionView(R,D){return new MatrixSelectionView(this,R,D)}}I.prototype.klass='Matrix',I.random=I.rand,I.diagonal=I.diag,I.prototype.diagonal=I.prototype.diag,I.identity=I.eye,I.prototype.negate=I.prototype.neg,I.prototype.tensorProduct=I.prototype.kroneckerProduct;var inplaceOperator=`
	(function %name%(value) {
	    if (typeof value === 'number') return this.%name%S(value);
	    return this.%name%M(value);
	})
	`,inplaceOperatorScalar=`
	(function %name%S(value) {
	    for (var i = 0; i < this.rows; i++) {
	        for (var j = 0; j < this.columns; j++) {
	            this.set(i, j, this.get(i, j) %op% value);
	        }
	    }
	    return this;
	})
	`,inplaceOperatorMatrix=`
	(function %name%M(matrix) {
	    matrix = this.constructor.checkMatrix(matrix);
	    checkDimensions(this, matrix);
	    for (var i = 0; i < this.rows; i++) {
	        for (var j = 0; j < this.columns; j++) {
	            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
	        }
	    }
	    return this;
	})
	`,staticOperator=`
	(function %name%(matrix, value) {
	    var newMatrix = new this(matrix);
	    return newMatrix.%name%(value);
	})
	`,inplaceMethod=`
	(function %name%() {
	    for (var i = 0; i < this.rows; i++) {
	        for (var j = 0; j < this.columns; j++) {
	            this.set(i, j, %method%(this.get(i, j)));
	        }
	    }
	    return this;
	})
	`,staticMethod=`
	(function %name%(matrix) {
	    var newMatrix = new this(matrix);
	    return newMatrix.%name%();
	})
	`,inplaceMethodWithArgs=`
	(function %name%(%args%) {
	    for (var i = 0; i < this.rows; i++) {
	        for (var j = 0; j < this.columns; j++) {
	            this.set(i, j, %method%(this.get(i, j), %args%));
	        }
	    }
	    return this;
	})
	`,staticMethodWithArgs=`
	(function %name%(matrix, %args%) {
	    var newMatrix = new this(matrix);
	    return newMatrix.%name%(%args%);
	})
	`,inplaceMethodWithOneArgScalar=`
	(function %name%S(value) {
	    for (var i = 0; i < this.rows; i++) {
	        for (var j = 0; j < this.columns; j++) {
	            this.set(i, j, %method%(this.get(i, j), value));
	        }
	    }
	    return this;
	})
	`,inplaceMethodWithOneArgMatrix=`
	(function %name%M(matrix) {
	    matrix = this.constructor.checkMatrix(matrix);
	    checkDimensions(this, matrix);
	    for (var i = 0; i < this.rows; i++) {
	        for (var j = 0; j < this.columns; j++) {
	            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
	        }
	    }
	    return this;
	})
	`,inplaceMethodWithOneArg=`
	(function %name%(value) {
	    if (typeof value === 'number') return this.%name%S(value);
	    return this.%name%M(value);
	})
	`,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var operator of operators)for(var inplaceOp=eval(fillTemplateFunction(inplaceOperator,{name:operator[1],op:operator[0]})),inplaceOpS=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[1]+'S',op:operator[0]})),inplaceOpM=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[1]+'M',op:operator[0]})),staticOp=eval(fillTemplateFunction(staticOperator,{name:operator[1]})),i=1;i<operator.length;i++)I.prototype[operator[i]]=inplaceOp,I.prototype[operator[i]+'S']=inplaceOpS,I.prototype[operator[i]+'M']=inplaceOpM,I[operator[i]]=staticOp;var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(I){methods.push(['Math.'+I,I])});for(var method of methods)for(var inplaceMeth=eval(fillTemplateFunction(inplaceMethod,{name:method[1],method:method[0]})),staticMeth=eval(fillTemplateFunction(staticMethod,{name:method[1]})),i=1;i<method.length;i++)I.prototype[method[i]]=inplaceMeth,I[method[i]]=staticMeth;var methodsWithArgs=[['Math.pow',1,'pow']];for(var methodWithArg of methodsWithArgs){for(var args='arg0',i=1;i<methodWithArg[1];i++)args+=`, arg${i}`;if(1!==methodWithArg[1])for(var inplaceMethWithArgs=eval(fillTemplateFunction(inplaceMethodWithArgs,{name:methodWithArg[2],method:methodWithArg[0],args:args})),staticMethWithArgs=eval(fillTemplateFunction(staticMethodWithArgs,{name:methodWithArg[2],args:args})),i=2;i<methodWithArg.length;i++)I.prototype[methodWithArg[i]]=inplaceMethWithArgs,I[methodWithArg[i]]=staticMethWithArgs;else for(var tmplVar={name:methodWithArg[2],args:args,method:methodWithArg[0]},inplaceMethod=eval(fillTemplateFunction(inplaceMethodWithOneArg,tmplVar)),inplaceMethodS=eval(fillTemplateFunction(inplaceMethodWithOneArgScalar,tmplVar)),inplaceMethodM=eval(fillTemplateFunction(inplaceMethodWithOneArgMatrix,tmplVar)),staticMethod=eval(fillTemplateFunction(staticMethodWithArgs,tmplVar)),i=2;i<methodWithArg.length;i++)I.prototype[methodWithArg[i]]=inplaceMethod,I.prototype[methodWithArg[i]+'M']=inplaceMethodM,I.prototype[methodWithArg[i]+'S']=inplaceMethodS,I[methodWithArg[i]]=staticMethod}return I};var arrayUtils=__webpack_require__(1),util=__webpack_require__(18),MatrixTransposeView=__webpack_require__(19),MatrixRowView=__webpack_require__(21),MatrixSubView=__webpack_require__(22),MatrixSelectionView=__webpack_require__(23),MatrixColumnView=__webpack_require__(24),MatrixFlipRowView=__webpack_require__(25),MatrixFlipColumnView=__webpack_require__(26)},function(I,R){'use strict';R.checkRowIndex=function(O,E,G){var Z=G?O.rows:O.rows-1;if(0>E||E>Z)throw new RangeError('Row index out of range')},R.checkColumnIndex=function(O,E,G){var Z=G?O.columns:O.columns-1;if(0>E||E>Z)throw new RangeError('Column index out of range')},R.checkRowVector=function(O,E){if(E.to1DArray&&(E=E.to1DArray()),E.length!==O.columns)throw new RangeError('vector size must be the same as the number of columns');return E},R.checkColumnVector=function(O,E){if(E.to1DArray&&(E=E.to1DArray()),E.length!==O.rows)throw new RangeError('vector size must be the same as the number of rows');return E},R.checkIndices=function(O,E,G){var Z=E.some(ee=>{return 0>ee||ee>=O.rows}),$=G.some(ee=>{return 0>ee||ee>=O.columns});if(Z||$)throw new RangeError('Indices are out of range');if('object'!=typeof E||'object'!=typeof G)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(E)||(E=Array.from(E)),Array.isArray(G)||(E=Array.from(G)),{row:E,column:G}},R.checkRange=function(O,E,G,Z,$){if(5!==arguments.length)throw new TypeError('Invalid argument type');var ee=Array.from(arguments).slice(1).some(function(te){return'number'!=typeof te});if(ee)throw new TypeError('Invalid argument type');if(E>G||Z>$||0>E||E>=O.rows||0>G||G>=O.rows||0>Z||Z>=O.columns||0>$||$>=O.columns)throw new RangeError('Submatrix indices are out of range')},R.getRange=function(O,E){for(var G=Array(E-O+1),Z=0;Z<G.length;Z++)G[Z]=O+Z;return G}},function(I,R,D){'use strict';var O=D(20);I.exports=class extends O{constructor(G){super(G,G.columns,G.rows)}set(G,Z,$){return this.matrix.set(Z,G,$),this}get(G,Z){return this.matrix.get(Z,G)}}},function(I,R,D){'use strict';var O=D(17),E;class Z extends O(){constructor($,ee,te){super(),this.matrix=$,this.rows=ee,this.columns=te}static get[Symbol.species](){return E||(E=D(15)),E}}I.exports=Z},function(I,R,D){'use strict';var O=D(20);I.exports=class extends O{constructor(G,Z){super(G,1,G.columns),this.row=Z}set(G,Z,$){return this.matrix.set(this.row,Z,$),this}get(G,Z){return this.matrix.get(this.row,Z)}}},function(I,R,D){'use strict';var O=D(20),E=D(18);I.exports=class extends O{constructor(Z,$,ee,te,ie){E.checkRange(Z,$,ee,te,ie),super(Z,ee-$+1,ie-te+1),this.startRow=$,this.startColumn=te}set(Z,$,ee){return this.matrix.set(this.startRow+Z,this.startColumn+$,ee),this}get(Z,$){return this.matrix.get(this.startRow+Z,this.startColumn+$)}}},function(I,R,D){'use strict';var O=D(20),E=D(18);I.exports=class extends O{constructor(Z,$,ee){var te=E.checkIndices(Z,$,ee);super(Z,te.row.length,te.column.length),this.rowIndices=te.row,this.columnIndices=te.column}set(Z,$,ee){return this.matrix.set(this.rowIndices[Z],this.columnIndices[$],ee),this}get(Z,$){return this.matrix.get(this.rowIndices[Z],this.columnIndices[$])}}},function(I,R,D){'use strict';var O=D(20);I.exports=class extends O{constructor(G,Z){super(G,G.rows,1),this.column=Z}set(G,Z,$){return this.matrix.set(G,this.column,$),this}get(G,Z){return this.matrix.get(G,this.column)}}},function(I,R,D){'use strict';var O=D(20);I.exports=class extends O{constructor(G){super(G,G.rows,G.columns)}set(G,Z,$){return this.matrix.set(this.rows-G-1,Z,$),this}get(G,Z){return this.matrix.get(this.rows-G-1,Z)}}},function(I,R,D){'use strict';var O=D(20);I.exports=class extends O{constructor(G){super(G,G.rows,G.columns)}set(G,Z,$){return this.matrix.set(G,this.columns-Z-1,$),this}get(G,Z){return this.matrix.get(G,this.columns-Z-1)}}},function(I,R,D){'use strict';function O(ne){return ne=G.checkMatrix(ne),E(ne,G.eye(ne.rows))}function E(ne,oe){return ne=G.checkMatrix(ne),oe=G.checkMatrix(oe),ne.isSquare()?new ee(ne).solve(oe):new te(ne).solve(oe)}var G=D(15),Z=D(28),$=D(30),ee=D(31),te=D(32),ie=D(33);G.inverse=G.inv=O,G.prototype.inverse=G.prototype.inv=function(){return O(this)},G.solve=E,G.prototype.solve=function(ne){return E(this,ne)},I.exports={SingularValueDecomposition:Z,SVD:Z,EigenvalueDecomposition:$,EVD:$,LuDecomposition:ee,LU:ee,QrDecomposition:te,QR:te,CholeskyDecomposition:ie,CHO:ie,inverse:O,solve:E}},function(I,R,D){'use strict';function O(ee,te){if(!(this instanceof O))return new O(ee,te);ee=E.checkMatrix(ee),te=te||{};var ie=ee.rows,ne=ee.columns,oe=Math.min(ie,ne),se=!0,ae=!0;!1===te.computeLeftSingularVectors&&(se=!1),!1===te.computeRightSingularVectors&&(ae=!1);var le=!0===te.autoTranspose,de=!1,ue;if(!(ie<ne))ue=ee.clone();else if(!le)ue=ee.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{ue=ee.transpose(),ie=ue.rows,ne=ue.columns,de=!0;var ce=se;se=ae,ae=ce}var me=Array(Math.min(ie+1,ne)),pe=$(ie,oe,0),ge=$(ne,ne,0),he=Array(ne),xe=Array(ie),fe=Math.min(ie-1,ne),ye=Math.max(0,Math.min(ne-2,ie)),je,ke,we,be,ve,Se,Me,ze,qe,Ce,Ie,Re,De,Ve,Pe,Ae,Ne,_e,Oe,Le,Fe;for(we=0,Ce=Math.max(fe,ye);we<Ce;we++){if(we<fe){for(me[we]=0,je=we;je<ie;je++)me[we]=Z(me[we],ue[je][we]);if(0!==me[we]){for(0>ue[we][we]&&(me[we]=-me[we]),je=we;je<ie;je++)ue[je][we]/=me[we];ue[we][we]+=1}me[we]=-me[we]}for(ke=we+1;ke<ne;ke++){if(we<fe&&0!==me[we]){for(ve=0,je=we;je<ie;je++)ve+=ue[je][we]*ue[je][ke];for(ve=-ve/ue[we][we],je=we;je<ie;je++)ue[je][ke]+=ve*ue[je][we]}he[ke]=ue[we][ke]}if(se&&we<fe)for(je=we;je<ie;je++)pe[je][we]=ue[je][we];if(we<ye){for(he[we]=0,je=we+1;je<ne;je++)he[we]=Z(he[we],he[je]);if(0!==he[we]){for(0>he[we+1]&&(he[we]=-he[we]),je=we+1;je<ne;je++)he[je]/=he[we];he[we+1]+=1}if(he[we]=-he[we],we+1<ie&&0!==he[we]){for(je=we+1;je<ie;je++)xe[je]=0;for(ke=we+1;ke<ne;ke++)for(je=we+1;je<ie;je++)xe[je]+=he[ke]*ue[je][ke];for(ke=we+1;ke<ne;ke++)for(ve=-he[ke]/he[we+1],je=we+1;je<ie;je++)ue[je][ke]+=ve*xe[je]}if(ae)for(je=we+1;je<ne;je++)ge[je][we]=he[je]}}if(be=Math.min(ne,ie+1),fe<ne&&(me[fe]=ue[fe][fe]),ie<be&&(me[be-1]=0),ye+1<be&&(he[ye]=ue[ye][be-1]),he[be-1]=0,se){for(ke=fe;ke<oe;ke++){for(je=0;je<ie;je++)pe[je][ke]=0;pe[ke][ke]=1}for(we=fe-1;0<=we;we--)if(0!==me[we]){for(ke=we+1;ke<oe;ke++){for(ve=0,je=we;je<ie;je++)ve+=pe[je][we]*pe[je][ke];for(ve=-ve/pe[we][we],je=we;je<ie;je++)pe[je][ke]+=ve*pe[je][we]}for(je=we;je<ie;je++)pe[je][we]=-pe[je][we];for(pe[we][we]=1+pe[we][we],je=0;je<we-1;je++)pe[je][we]=0}else{for(je=0;je<ie;je++)pe[je][we]=0;pe[we][we]=1}}if(ae)for(we=ne-1;0<=we;we--){if(we<ye&&0!==he[we])for(ke=we+1;ke<ne;ke++){for(ve=0,je=we+1;je<ne;je++)ve+=ge[je][we]*ge[je][ke];for(ve=-ve/ge[we+1][we],je=we+1;je<ne;je++)ge[je][ke]+=ve*ge[je][we]}for(je=0;je<ne;je++)ge[je][we]=0;ge[we][we]=1}for(var Te=be-1,Xe=0,Ue=Math.pow(2,-52);0<be;){for(we=be-2;-1<=we&&-1!==we;we--)if(Math.abs(he[we])<=Ue*(Math.abs(me[we])+Math.abs(me[we+1]))){he[we]=0;break}if(we===be-2)Ie=4;else{for(Se=be-1;Se>=we&&Se!==we;Se--)if(ve=(Se===be?0:Math.abs(he[Se]))+(Se===we+1?0:Math.abs(he[Se-1])),Math.abs(me[Se])<=Ue*ve){me[Se]=0;break}Se===we?Ie=3:Se===be-1?Ie=1:(Ie=2,we=Se)}switch(we++,Ie){case 1:{for(Me=he[be-2],he[be-2]=0,ke=be-2;ke>=we;ke--)if(ve=Z(me[ke],Me),ze=me[ke]/ve,qe=Me/ve,me[ke]=ve,ke!==we&&(Me=-qe*he[ke-1],he[ke-1]=ze*he[ke-1]),ae)for(je=0;je<ne;je++)ve=ze*ge[je][ke]+qe*ge[je][be-1],ge[je][be-1]=-qe*ge[je][ke]+ze*ge[je][be-1],ge[je][ke]=ve;break}case 2:{for(Me=he[we-1],he[we-1]=0,ke=we;ke<be;ke++)if(ve=Z(me[ke],Me),ze=me[ke]/ve,qe=Me/ve,me[ke]=ve,Me=-qe*he[ke],he[ke]=ze*he[ke],se)for(je=0;je<ie;je++)ve=ze*pe[je][ke]+qe*pe[je][we-1],pe[je][we-1]=-qe*pe[je][ke]+ze*pe[je][we-1],pe[je][ke]=ve;break}case 3:{for(Re=Math.max(Math.max(Math.max(Math.max(Math.abs(me[be-1]),Math.abs(me[be-2])),Math.abs(he[be-2])),Math.abs(me[we])),Math.abs(he[we])),De=me[be-1]/Re,Ve=me[be-2]/Re,Pe=he[be-2]/Re,Ae=me[we]/Re,Ne=he[we]/Re,_e=((Ve+De)*(Ve-De)+Pe*Pe)/2,Oe=De*Pe*(De*Pe),Le=0,(0!==_e||0!==Oe)&&(Le=Math.sqrt(_e*_e+Oe),0>_e&&(Le=-Le),Le=Oe/(_e+Le)),Me=(Ae+De)*(Ae-De)+Le,Fe=Ae*Ne,ke=we;ke<be-1;ke++){if(ve=Z(Me,Fe),ze=Me/ve,qe=Fe/ve,ke!==we&&(he[ke-1]=ve),Me=ze*me[ke]+qe*he[ke],he[ke]=ze*he[ke]-qe*me[ke],Fe=qe*me[ke+1],me[ke+1]=ze*me[ke+1],ae)for(je=0;je<ne;je++)ve=ze*ge[je][ke]+qe*ge[je][ke+1],ge[je][ke+1]=-qe*ge[je][ke]+ze*ge[je][ke+1],ge[je][ke]=ve;if(ve=Z(Me,Fe),ze=Me/ve,qe=Fe/ve,me[ke]=ve,Me=ze*he[ke]+qe*me[ke+1],me[ke+1]=-qe*he[ke]+ze*me[ke+1],Fe=qe*he[ke+1],he[ke+1]=ze*he[ke+1],se&&ke<ie-1)for(je=0;je<ie;je++)ve=ze*pe[je][ke]+qe*pe[je][ke+1],pe[je][ke+1]=-qe*pe[je][ke]+ze*pe[je][ke+1],pe[je][ke]=ve}he[be-2]=Me,Xe=Xe+1;break}case 4:{if(0>=me[we]&&(me[we]=0>me[we]?-me[we]:0,ae))for(je=0;je<=Te;je++)ge[je][we]=-ge[je][we];for(;we<Te&&!(me[we]>=me[we+1]);){if(ve=me[we],me[we]=me[we+1],me[we+1]=ve,ae&&we<ne-1)for(je=0;je<ne;je++)ve=ge[je][we+1],ge[je][we+1]=ge[je][we],ge[je][we]=ve;if(se&&we<ie-1)for(je=0;je<ie;je++)ve=pe[je][we+1],pe[je][we+1]=pe[je][we],pe[je][we]=ve;we++}Xe=0,be--;break}}}if(de){var We=ge;ge=pe,pe=We}this.m=ie,this.n=ne,this.s=me,this.U=pe,this.V=ge}var E=D(15),G=D(29),Z=G.hypotenuse,$=G.getFilled2DArray;O.prototype={get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var ee=Math.pow(2,-52),te=Math.max(this.m,this.n)*this.s[0]*ee,ie=0,ne=this.s,oe=0,se=ne.length;oe<se;oe++)ne[oe]>te&&ie++;return ie},get diagonal(){return this.s},get threshold(){return Math.pow(2,-52)/2*Math.max(this.m,this.n)*this.s[0]},get leftSingularVectors(){return E.isMatrix(this.U)||(this.U=new E(this.U)),this.U},get rightSingularVectors(){return E.isMatrix(this.V)||(this.V=new E(this.V)),this.V},get diagonalMatrix(){return E.diag(this.s)},solve:function(ee){var te=this.threshold,ie=this.s.length,ne=E.zeros(ie,ie),oe;for(oe=0;oe<ie;oe++)ne[oe][oe]=Math.abs(this.s[oe])<=te?0:1/this.s[oe];var se=this.U,ae=this.rightSingularVectors,le=ae.mmul(ne),de=ae.rows,ue=se.length,ce=E.zeros(de,ue),me,pe,ge;for(oe=0;oe<de;oe++)for(me=0;me<ue;me++){for(ge=0,pe=0;pe<ie;pe++)ge+=le[oe][pe]*se[me][pe];ce[oe][me]=ge}return ce.mmul(ee)},solveForDiagonal:function(ee){return this.solve(E.diag(ee))},inverse:function(){var ee=this.V,te=this.threshold,ie=ee.length,ne=ee[0].length,oe=new E(ie,this.s.length),se,ae;for(se=0;se<ie;se++)for(ae=0;ae<ne;ae++)oe[se][ae]=Math.abs(this.s[ae])>te?ee[se][ae]/this.s[ae]:0;var le=this.U,de=le.length,ue=le[0].length,ce=new E(ie,de),me,pe;for(se=0;se<ie;se++)for(ae=0;ae<de;ae++){for(pe=0,me=0;me<ue;me++)pe+=oe[se][me]*le[ae][me];ce[se][ae]=pe}return ce}},I.exports=O},function(I,R){'use strict';R.hypotenuse=function(O,E){if(Math.abs(O)>Math.abs(E)){var G=E/O;return Math.abs(O)*Math.sqrt(1+G*G)}if(0!==E){var G=O/E;return Math.abs(E)*Math.sqrt(1+G*G)}return 0},R.getEmpty2DArray=function(D,O){for(var E=Array(D),G=0;G<D;G++)E[G]=Array(O);return E},R.getFilled2DArray=function(D,O,E){for(var G=Array(D),Z=0;Z<D;Z++){G[Z]=Array(O);for(var $=0;$<O;$++)G[Z][$]=E}return G}},function(I,R,D){'use strict';function O(ae,le){if(le=Object.assign({},se,le),!(this instanceof O))return new O(ae,le);if(ae=te.checkMatrix(ae),!ae.isSquare())throw new Error('Matrix is not a square matrix');var de=ae.columns,ue=oe(de,de,0),ce=Array(de),me=Array(de),pe=ae,xe=!1,ge,he;if(xe=!!le.assumeSymmetric||ae.isSymmetric(),xe){for(ge=0;ge<de;ge++)for(he=0;he<de;he++)ue[ge][he]=pe.get(ge,he);E(de,me,ce,ue),G(de,me,ce,ue)}else{var fe=oe(de,de,0),ye=Array(de);for(he=0;he<de;he++)for(ge=0;ge<de;ge++)fe[ge][he]=pe.get(ge,he);Z(de,fe,ye,ue),$(de,me,ce,ue,fe)}this.n=de,this.e=me,this.d=ce,this.V=ue}function E(ae,le,de,ue){var ce,me,pe,ge,he,xe,fe,ye;for(he=0;he<ae;he++)de[he]=ue[ae-1][he];for(ge=ae-1;0<ge;ge--){for(ye=0,pe=0,xe=0;xe<ge;xe++)ye=ye+Math.abs(de[xe]);if(0===ye)for(le[ge]=de[ge-1],he=0;he<ge;he++)de[he]=ue[ge-1][he],ue[ge][he]=0,ue[he][ge]=0;else{for(xe=0;xe<ge;xe++)de[xe]/=ye,pe+=de[xe]*de[xe];for(ce=de[ge-1],me=Math.sqrt(pe),0<ce&&(me=-me),le[ge]=ye*me,pe=pe-ce*me,de[ge-1]=ce-me,he=0;he<ge;he++)le[he]=0;for(he=0;he<ge;he++){for(ce=de[he],ue[he][ge]=ce,me=le[he]+ue[he][he]*ce,xe=he+1;xe<=ge-1;xe++)me+=ue[xe][he]*de[xe],le[xe]+=ue[xe][he]*ce;le[he]=me}for(ce=0,he=0;he<ge;he++)le[he]/=pe,ce+=le[he]*de[he];for(fe=ce/(pe+pe),he=0;he<ge;he++)le[he]-=fe*de[he];for(he=0;he<ge;he++){for(ce=de[he],me=le[he],xe=he;xe<=ge-1;xe++)ue[xe][he]-=ce*le[xe]+me*de[xe];de[he]=ue[ge-1][he],ue[ge][he]=0}}de[ge]=pe}for(ge=0;ge<ae-1;ge++){if(ue[ae-1][ge]=ue[ge][ge],ue[ge][ge]=1,pe=de[ge+1],0!==pe){for(xe=0;xe<=ge;xe++)de[xe]=ue[xe][ge+1]/pe;for(he=0;he<=ge;he++){for(me=0,xe=0;xe<=ge;xe++)me+=ue[xe][ge+1]*ue[xe][he];for(xe=0;xe<=ge;xe++)ue[xe][he]-=me*de[xe]}}for(xe=0;xe<=ge;xe++)ue[xe][ge+1]=0}for(he=0;he<ae;he++)de[he]=ue[ae-1][he],ue[ae-1][he]=0;ue[ae-1][ae-1]=1,le[0]=0}function G(ae,le,de,ue){var ce,me,pe,ge,he,xe,fe,ye,je,ke,we,be,ve,Se,Me,ze,qe;for(pe=1;pe<ae;pe++)le[pe-1]=le[pe];le[ae-1]=0;var Ce=0,Ie=0,Re=Math.pow(2,-52);for(xe=0;xe<ae;xe++){for(Ie=Math.max(Ie,Math.abs(de[xe])+Math.abs(le[xe])),fe=xe;fe<ae&&!(Math.abs(le[fe])<=Re*Ie);)fe++;if(fe>xe){qe=0;do{for(qe=qe+1,ce=de[xe],ye=(de[xe+1]-ce)/(2*le[xe]),je=ne(ye,1),0>ye&&(je=-je),de[xe]=le[xe]/(ye+je),de[xe+1]=le[xe]*(ye+je),ke=de[xe+1],me=ce-de[xe],pe=xe+2;pe<ae;pe++)de[pe]-=me;for(Ce=Ce+me,ye=de[fe],we=1,be=we,ve=we,Se=le[xe+1],Me=0,ze=0,pe=fe-1;pe>=xe;pe--)for(ve=be,be=we,ze=Me,ce=we*le[pe],me=we*ye,je=ne(ye,le[pe]),le[pe+1]=Me*je,Me=le[pe]/je,we=ye/je,ye=we*de[pe]-Me*ce,de[pe+1]=me+Me*(we*ce+Me*de[pe]),he=0;he<ae;he++)me=ue[he][pe+1],ue[he][pe+1]=Me*ue[he][pe]+we*me,ue[he][pe]=we*ue[he][pe]-Me*me;ye=-Me*ze*ve*Se*le[xe]/ke,le[xe]=Me*ye,de[xe]=we*ye}while(Math.abs(le[xe])>Re*Ie)}de[xe]=de[xe]+Ce,le[xe]=0}for(pe=0;pe<ae-1;pe++){for(he=pe,ye=de[pe],ge=pe+1;ge<ae;ge++)de[ge]<ye&&(he=ge,ye=de[ge]);if(he!==pe)for(de[he]=de[pe],de[pe]=ye,ge=0;ge<ae;ge++)ye=ue[ge][pe],ue[ge][pe]=ue[ge][he],ue[ge][he]=ye}}function Z(ae,le,de,ue){var ce=0,me=ae-1,pe,ge,he,xe,fe,ye,je;for(ye=ce+1;ye<=me-1;ye++){for(je=0,xe=ye;xe<=me;xe++)je=je+Math.abs(le[xe][ye-1]);if(0!==je){for(he=0,xe=me;xe>=ye;xe--)de[xe]=le[xe][ye-1]/je,he+=de[xe]*de[xe];for(ge=Math.sqrt(he),0<de[ye]&&(ge=-ge),he=he-de[ye]*ge,de[ye]=de[ye]-ge,fe=ye;fe<ae;fe++){for(pe=0,xe=me;xe>=ye;xe--)pe+=de[xe]*le[xe][fe];for(pe=pe/he,xe=ye;xe<=me;xe++)le[xe][fe]-=pe*de[xe]}for(xe=0;xe<=me;xe++){for(pe=0,fe=me;fe>=ye;fe--)pe+=de[fe]*le[xe][fe];for(pe=pe/he,fe=ye;fe<=me;fe++)le[xe][fe]-=pe*de[fe]}de[ye]=je*de[ye],le[ye][ye-1]=je*ge}}for(xe=0;xe<ae;xe++)for(fe=0;fe<ae;fe++)ue[xe][fe]=xe===fe?1:0;for(ye=me-1;ye>=ce+1;ye--)if(0!==le[ye][ye-1]){for(xe=ye+1;xe<=me;xe++)de[xe]=le[xe][ye-1];for(fe=ye;fe<=me;fe++){for(ge=0,xe=ye;xe<=me;xe++)ge+=de[xe]*ue[xe][fe];for(ge=ge/de[ye]/le[ye][ye-1],xe=ye;xe<=me;xe++)ue[xe][fe]+=ge*de[xe]}}}function $(ae,le,de,ue,ce){var me=ae-1,pe=0,ge=ae-1,he=Math.pow(2,-52),xe=0,fe=0,ye=0,je=0,ke=0,we=0,be=0,ve=0,Se,Me,ze,qe,Ce,Ie,Re,De,Ve,Pe,Ae,Ne,_e,Oe,Le;for(Se=0;Se<ae;Se++)for((Se<pe||Se>ge)&&(de[Se]=ce[Se][Se],le[Se]=0),Me=Math.max(Se-1,0);Me<ae;Me++)fe=fe+Math.abs(ce[Se][Me]);for(;me>=pe;){for(qe=me;qe>pe&&(we=Math.abs(ce[qe-1][qe-1])+Math.abs(ce[qe][qe]),0==we&&(we=fe),!(Math.abs(ce[qe][qe-1])<he*we));)qe--;if(qe===me)ce[me][me]=ce[me][me]+xe,de[me]=ce[me][me],le[me]=0,me--,ve=0;else if(qe===me-1){if(Re=ce[me][me-1]*ce[me-1][me],ye=(ce[me-1][me-1]-ce[me][me])/2,je=ye*ye+Re,be=Math.sqrt(Math.abs(je)),ce[me][me]=ce[me][me]+xe,ce[me-1][me-1]=ce[me-1][me-1]+xe,De=ce[me][me],0<=je){for(be=0<=ye?ye+be:ye-be,de[me-1]=De+be,de[me]=de[me-1],0!=be&&(de[me]=De-Re/be),le[me-1]=0,le[me]=0,De=ce[me][me-1],we=Math.abs(De)+Math.abs(be),ye=De/we,je=be/we,ke=Math.sqrt(ye*ye+je*je),ye=ye/ke,je=je/ke,Me=me-1;Me<ae;Me++)be=ce[me-1][Me],ce[me-1][Me]=je*be+ye*ce[me][Me],ce[me][Me]=je*ce[me][Me]-ye*be;for(Se=0;Se<=me;Se++)be=ce[Se][me-1],ce[Se][me-1]=je*be+ye*ce[Se][me],ce[Se][me]=je*ce[Se][me]-ye*be;for(Se=pe;Se<=ge;Se++)be=ue[Se][me-1],ue[Se][me-1]=je*be+ye*ue[Se][me],ue[Se][me]=je*ue[Se][me]-ye*be}else de[me-1]=De+ye,de[me]=De+ye,le[me-1]=be,le[me]=-be;me=me-2,ve=0}else{if(De=ce[me][me],Ve=0,Re=0,qe<me&&(Ve=ce[me-1][me-1],Re=ce[me][me-1]*ce[me-1][me]),10==ve){for(xe+=De,Se=pe;Se<=me;Se++)ce[Se][Se]-=De;we=Math.abs(ce[me][me-1])+Math.abs(ce[me-1][me-2]),De=Ve=0.75*we,Re=-0.4375*we*we}if(30==ve&&(we=(Ve-De)/2,we=we*we+Re,0<we)){for(we=Math.sqrt(we),Ve<De&&(we=-we),we=De-Re/((Ve-De)/2+we),Se=pe;Se<=me;Se++)ce[Se][Se]-=we;xe+=we,De=Ve=Re=0.964}for(ve=ve+1,Ce=me-2;Ce>=qe&&(be=ce[Ce][Ce],ke=De-be,we=Ve-be,ye=(ke*we-Re)/ce[Ce+1][Ce]+ce[Ce][Ce+1],je=ce[Ce+1][Ce+1]-be-ke-we,ke=ce[Ce+2][Ce+1],we=Math.abs(ye)+Math.abs(je)+Math.abs(ke),ye=ye/we,je=je/we,ke=ke/we,Ce!=qe)&&!(Math.abs(ce[Ce][Ce-1])*(Math.abs(je)+Math.abs(ke))<he*(Math.abs(ye)*(Math.abs(ce[Ce-1][Ce-1])+Math.abs(be)+Math.abs(ce[Ce+1][Ce+1]))));)Ce--;for(Se=Ce+2;Se<=me;Se++)ce[Se][Se-2]=0,Se>Ce+2&&(ce[Se][Se-3]=0);for(ze=Ce;ze<=me-1&&(Oe=ze!==me-1,ze!=Ce&&(ye=ce[ze][ze-1],je=ce[ze+1][ze-1],ke=Oe?ce[ze+2][ze-1]:0,De=Math.abs(ye)+Math.abs(je)+Math.abs(ke),0!==De&&(ye=ye/De,je=je/De,ke=ke/De)),0!==De);ze++)if(we=Math.sqrt(ye*ye+je*je+ke*ke),0>ye&&(we=-we),0!==we){for(ze==Ce?qe!==Ce&&(ce[ze][ze-1]=-ce[ze][ze-1]):ce[ze][ze-1]=-we*De,ye=ye+we,De=ye/we,Ve=je/we,be=ke/we,je=je/ye,ke=ke/ye,Me=ze;Me<ae;Me++)ye=ce[ze][Me]+je*ce[ze+1][Me],Oe&&(ye=ye+ke*ce[ze+2][Me],ce[ze+2][Me]=ce[ze+2][Me]-ye*be),ce[ze][Me]=ce[ze][Me]-ye*De,ce[ze+1][Me]=ce[ze+1][Me]-ye*Ve;for(Se=0;Se<=Math.min(me,ze+3);Se++)ye=De*ce[Se][ze]+Ve*ce[Se][ze+1],Oe&&(ye=ye+be*ce[Se][ze+2],ce[Se][ze+2]=ce[Se][ze+2]-ye*ke),ce[Se][ze]=ce[Se][ze]-ye,ce[Se][ze+1]=ce[Se][ze+1]-ye*je;for(Se=pe;Se<=ge;Se++)ye=De*ue[Se][ze]+Ve*ue[Se][ze+1],Oe&&(ye=ye+be*ue[Se][ze+2],ue[Se][ze+2]=ue[Se][ze+2]-ye*ke),ue[Se][ze]=ue[Se][ze]-ye,ue[Se][ze+1]=ue[Se][ze+1]-ye*je}}}if(0!==fe){for(me=ae-1;0<=me;me--)if(ye=de[me],je=le[me],0===je)for(qe=me,ce[me][me]=1,Se=me-1;0<=Se;Se--){for(Re=ce[Se][Se]-ye,ke=0,Me=qe;Me<=me;Me++)ke=ke+ce[Se][Me]*ce[Me][me];if(0>le[Se])be=Re,we=ke;else if(qe=Se,0===le[Se]?ce[Se][me]=0===Re?-ke/(he*fe):-ke/Re:(De=ce[Se][Se+1],Ve=ce[Se+1][Se],je=(de[Se]-ye)*(de[Se]-ye)+le[Se]*le[Se],Ie=(De*we-be*ke)/je,ce[Se][me]=Ie,ce[Se+1][me]=Math.abs(De)>Math.abs(be)?(-ke-Re*Ie)/De:(-we-Ve*Ie)/be),Ie=Math.abs(ce[Se][me]),1<he*Ie*Ie)for(Me=Se;Me<=me;Me++)ce[Me][me]=ce[Me][me]/Ie}else if(0>je)for(qe=me-1,Math.abs(ce[me][me-1])>Math.abs(ce[me-1][me])?(ce[me-1][me-1]=je/ce[me][me-1],ce[me-1][me]=-(ce[me][me]-ye)/ce[me][me-1]):(Le=ee(0,-ce[me-1][me],ce[me-1][me-1]-ye,je),ce[me-1][me-1]=Le[0],ce[me-1][me]=Le[1]),ce[me][me-1]=0,ce[me][me]=1,Se=me-2;0<=Se;Se--){for(Pe=0,Ae=0,Me=qe;Me<=me;Me++)Pe=Pe+ce[Se][Me]*ce[Me][me-1],Ae=Ae+ce[Se][Me]*ce[Me][me];if(Re=ce[Se][Se]-ye,0>le[Se])be=Re,ke=Pe,we=Ae;else if(qe=Se,0===le[Se]?(Le=ee(-Pe,-Ae,Re,je),ce[Se][me-1]=Le[0],ce[Se][me]=Le[1]):(De=ce[Se][Se+1],Ve=ce[Se+1][Se],Ne=(de[Se]-ye)*(de[Se]-ye)+le[Se]*le[Se]-je*je,_e=2*(de[Se]-ye)*je,0===Ne&&0===_e&&(Ne=he*fe*(Math.abs(Re)+Math.abs(je)+Math.abs(De)+Math.abs(Ve)+Math.abs(be))),Le=ee(De*ke-be*Pe+je*Ae,De*we-be*Ae-je*Pe,Ne,_e),ce[Se][me-1]=Le[0],ce[Se][me]=Le[1],Math.abs(De)>Math.abs(be)+Math.abs(je)?(ce[Se+1][me-1]=(-Pe-Re*ce[Se][me-1]+je*ce[Se][me])/De,ce[Se+1][me]=(-Ae-Re*ce[Se][me]-je*ce[Se][me-1])/De):(Le=ee(-ke-Ve*ce[Se][me-1],-we-Ve*ce[Se][me],be,je),ce[Se+1][me-1]=Le[0],ce[Se+1][me]=Le[1])),Ie=Math.max(Math.abs(ce[Se][me-1]),Math.abs(ce[Se][me])),1<he*Ie*Ie)for(Me=Se;Me<=me;Me++)ce[Me][me-1]=ce[Me][me-1]/Ie,ce[Me][me]=ce[Me][me]/Ie}for(Se=0;Se<ae;Se++)if(Se<pe||Se>ge)for(Me=Se;Me<ae;Me++)ue[Se][Me]=ce[Se][Me];for(Me=ae-1;Me>=pe;Me--)for(Se=pe;Se<=ge;Se++){for(be=0,ze=pe;ze<=Math.min(Me,ge);ze++)be=be+ue[Se][ze]*ce[ze][Me];ue[Se][Me]=be}}}function ee(ae,le,de,ue){var ce,me;return Math.abs(de)>Math.abs(ue)?(ce=ue/de,me=de+ce*ue,[(ae+ce*le)/me,(le-ce*ae)/me]):(ce=de/ue,me=ue+ce*de,[(ce*ae+le)/me,(ce*le-ae)/me])}const te=D(15),ie=D(29),ne=ie.hypotenuse,oe=ie.getFilled2DArray,se={assumeSymmetric:!1};O.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return te.isMatrix(this.V)||(this.V=new te(this.V)),this.V},get diagonalMatrix(){var ae=this.n,le=this.e,de=this.d,ue=new te(ae,ae),ce,me;for(ce=0;ce<ae;ce++){for(me=0;me<ae;me++)ue[ce][me]=0;ue[ce][ce]=de[ce],0<le[ce]?ue[ce][ce+1]=le[ce]:0>le[ce]&&(ue[ce][ce-1]=le[ce])}return ue}},I.exports=O},function(I,R,D){'use strict';function O(G){if(!(this instanceof O))return new O(G);G=E.checkMatrix(G);var Z=G.clone(),$=Z.rows,ee=Z.columns,te=Array($),ie=1,ne,oe,se,ae,le,de,ue,ce,me,pe;for(ne=0;ne<$;ne++)te[ne]=ne;for(me=Array($),oe=0;oe<ee;oe++){for(ne=0;ne<$;ne++)me[ne]=Z[ne][oe];for(ne=0;ne<$;ne++){for(ce=Z[ne],pe=Math.min(ne,oe),le=0,se=0;se<pe;se++)le+=ce[se]*me[se];ce[oe]=me[ne]-=le}for(ae=oe,ne=oe+1;ne<$;ne++)Math.abs(me[ne])>Math.abs(me[ae])&&(ae=ne);if(ae!==oe){for(se=0;se<ee;se++)de=Z[ae][se],Z[ae][se]=Z[oe][se],Z[oe][se]=de;ue=te[ae],te[ae]=te[oe],te[oe]=ue,ie=-ie}if(oe<$&&0!==Z[oe][oe])for(ne=oe+1;ne<$;ne++)Z[ne][oe]/=Z[oe][oe]}this.LU=Z,this.pivotVector=te,this.pivotSign=ie}var E=D(15);O.prototype={isSingular:function(){for(var G=this.LU,Z=G.columns,$=0;$<Z;$++)if(0===G[$][$])return!0;return!1},get determinant(){var G=this.LU;if(!G.isSquare())throw new Error('Matrix must be square');for(var Z=this.pivotSign,$=G.columns,ee=0;ee<$;ee++)Z*=G[ee][ee];return Z},get lowerTriangularMatrix(){for(var G=this.LU,Z=G.rows,$=G.columns,ee=new E(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=te>ie?G[te][ie]:te===ie?1:0;return ee},get upperTriangularMatrix(){for(var G=this.LU,Z=G.rows,$=G.columns,ee=new E(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=te<=ie?G[te][ie]:0;return ee},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(G){G=E.checkMatrix(G);var Z=this.LU,$=Z.rows;if($!==G.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var ee=G.columns,te=G.subMatrixRow(this.pivotVector,0,ee-1),ie=Z.columns,ne,oe,se;for(se=0;se<ie;se++)for(ne=se+1;ne<ie;ne++)for(oe=0;oe<ee;oe++)te[ne][oe]-=te[se][oe]*Z[ne][se];for(se=ie-1;0<=se;se--){for(oe=0;oe<ee;oe++)te[se][oe]/=Z[se][se];for(ne=0;ne<se;ne++)for(oe=0;oe<ee;oe++)te[ne][oe]-=te[se][oe]*Z[ne][se]}return te}},I.exports=O},function(I,R,D){'use strict';function O(Z){if(!(this instanceof O))return new O(Z);Z=E.checkMatrix(Z);var $=Z.clone(),ee=Z.rows,te=Z.columns,ie=Array(te),ne,oe,se,ae;for(se=0;se<te;se++){var le=0;for(ne=se;ne<ee;ne++)le=G(le,$[ne][se]);if(0!==le){for(0>$[se][se]&&(le=-le),ne=se;ne<ee;ne++)$[ne][se]/=le;for($[se][se]+=1,oe=se+1;oe<te;oe++){for(ae=0,ne=se;ne<ee;ne++)ae+=$[ne][se]*$[ne][oe];for(ae=-ae/$[se][se],ne=se;ne<ee;ne++)$[ne][oe]+=ae*$[ne][se]}}ie[se]=-le}this.QR=$,this.Rdiag=ie}var E=D(15),G=D(29).hypotenuse;O.prototype={solve:function(Z){Z=E.checkMatrix(Z);var $=this.QR,ee=$.rows;if(Z.rows!==ee)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var te=Z.columns,ie=Z.clone(),ne=$.columns,oe,se,ae,le;for(ae=0;ae<ne;ae++)for(se=0;se<te;se++){for(le=0,oe=ae;oe<ee;oe++)le+=$[oe][ae]*ie[oe][se];for(le=-le/$[ae][ae],oe=ae;oe<ee;oe++)ie[oe][se]+=le*$[oe][ae]}for(ae=ne-1;0<=ae;ae--){for(se=0;se<te;se++)ie[ae][se]/=this.Rdiag[ae];for(oe=0;oe<ae;oe++)for(se=0;se<te;se++)ie[oe][se]-=ie[ae][se]*$[oe][ae]}return ie.subMatrix(0,ne-1,0,te-1)},isFullRank:function(){for(var Z=this.QR.columns,$=0;$<Z;$++)if(0===this.Rdiag[$])return!1;return!0},get upperTriangularMatrix(){var Z=this.QR,$=Z.columns,ee=new E($,$),te,ie;for(te=0;te<$;te++)for(ie=0;ie<$;ie++)ee[te][ie]=te<ie?Z[te][ie]:te===ie?this.Rdiag[te]:0;return ee},get orthogonalMatrix(){var Z=this.QR,$=Z.rows,ee=Z.columns,te=new E($,ee),ie,ne,oe,se;for(oe=ee-1;0<=oe;oe--){for(ie=0;ie<$;ie++)te[ie][oe]=0;for(te[oe][oe]=1,ne=oe;ne<ee;ne++)if(0!==Z[oe][oe]){for(se=0,ie=oe;ie<$;ie++)se+=Z[ie][oe]*te[ie][ne];for(se=-se/Z[oe][oe],ie=oe;ie<$;ie++)te[ie][ne]+=se*Z[ie][oe]}}return te}},I.exports=O},function(I,R,D){'use strict';function O(G){if(!(this instanceof O))return new O(G);if(G=E.checkMatrix(G),!G.isSymmetric())throw new Error('Matrix is not symmetric');var Z=G,$=Z.rows,ee=new E($,$),te=!0,ie,ne,oe;for(ne=0;ne<$;ne++){var se=ee[ne],ae=0;for(oe=0;oe<ne;oe++){var le=ee[oe],de=0;for(ie=0;ie<oe;ie++)de+=le[ie]*se[ie];se[oe]=de=(Z[ne][oe]-de)/ee[oe][oe],ae=ae+de*de}for(ae=Z[ne][ne]-ae,te&=0<ae,ee[ne][ne]=Math.sqrt(Math.max(ae,0)),oe=ne+1;oe<$;oe++)ee[ne][oe]=0}if(!te)throw new Error('Matrix is not positive definite');this.L=ee}var E=D(15);O.prototype={get lowerTriangularMatrix(){return this.L},solve:function(G){G=E.checkMatrix(G);var Z=this.L,$=Z.rows;if(G.rows!==$)throw new Error('Matrix dimensions do not match');var ee=G.columns,te=G.clone(),ie,ne,oe;for(oe=0;oe<$;oe++)for(ne=0;ne<ee;ne++){for(ie=0;ie<oe;ie++)te[oe][ne]-=te[ie][ne]*Z[oe][ie];te[oe][ne]/=Z[oe][oe]}for(oe=$-1;0<=oe;oe--)for(ne=0;ne<ee;ne++){for(ie=oe+1;ie<$;ie++)te[oe][ne]-=te[ie][ne]*Z[ie][oe];te[oe][ne]/=Z[oe][oe]}return te}},I.exports=O},function(I,R,D){'use strict';function O($,ee){var te=$.length;'number'==typeof ee.size&&(ee.size=[ee.size,ee.size]);var ie=te+ee.size[0]+ee.size[1],ne;if(ee.output){if(ee.output.length!==ie)throw new RangeError('Wrong output size');ne=ee.output}else ne=Array(ie);var oe;if('circular'===ee.value)for(oe=0;oe<ie;oe++)ne[oe]=oe<ee.size[0]?$[(te-ee.size[0]%te+oe)%te]:oe<ee.size[0]+te?$[oe-ee.size[0]]:$[(oe-ee.size[0])%te];else if('replicate'===ee.value)for(oe=0;oe<ie;oe++)ne[oe]=oe<ee.size[0]?$[0]:oe<ee.size[0]+te?$[oe-ee.size[0]]:$[te-1];else if('symmetric'===ee.value){if(ee.size[0]>te||ee.size[1]>te)throw new RangeError('expanded value should not be bigger than the data length');for(oe=0;oe<ie;oe++)ne[oe]=oe<ee.size[0]?$[ee.size[0]-1-oe]:oe<ee.size[0]+te?$[oe-ee.size[0]]:$[2*te+ee.size[0]-oe-1]}else for(oe=0;oe<ie;oe++)ne[oe]=oe<ee.size[0]?ee.value:oe<ee.size[0]+te?$[oe-ee.size[0]]:ee.value;return ne}function E($,ee){throw $.length,$[0].length,void 0===ee.size[0]&&(ee.size=[ee.size,ee.size,ee.size,ee.size]),new Error('matrix not supported yet, sorry')}var G=D(35),Z={size:1,value:0};I.exports=function(ee,te){if(te=G({},Z,te),Array.isArray(ee))return Array.isArray(ee[0])?E(ee,te):O(ee,te);throw new TypeError('data should be an array')}},function(I,R){'use strict';var D=Object.prototype.hasOwnProperty,O=Object.prototype.toString,E=function($){return'function'==typeof Array.isArray?Array.isArray($):'[object Array]'===O.call($)},G=function($){if(!$||'[object Object]'!==O.call($))return!1;var ee=D.call($,'constructor'),te=$.constructor&&$.constructor.prototype&&D.call($.constructor.prototype,'isPrototypeOf');if($.constructor&&!ee&&!te)return!1;for(var ie in $);return'undefined'==typeof ie||D.call($,ie)};I.exports=function Z(){var se=arguments[0],ae=1,le=arguments.length,de=!1,$,ee,te,ie,ne,oe;for('boolean'==typeof se?(de=se,se=arguments[1]||{},ae=2):('object'!=typeof se&&'function'!=typeof se||null==se)&&(se={});ae<le;++ae)if($=arguments[ae],null!=$)for(ee in $)te=se[ee],ie=$[ee],se!==ie&&(de&&ie&&(G(ie)||(ne=E(ie)))?(ne?(ne=!1,oe=te&&E(te)?te:[]):oe=te&&G(te)?te:{},se[ee]=Z(de,oe,ie)):'undefined'!=typeof ie&&(se[ee]=ie));return se}},function(I,R,D){'use strict';R.SimpleLinearRegression=R.SLR=D(37),R.NonLinearRegression=R.NLR={PolynomialRegression:D(40),PotentialRegression:D(41),ExpRegression:D(43),PowerRegression:D(42)},R.KernelRidgeRegression=R.KRR=D(44),R.PolinomialFitting2D=D(57),R.TheilSenRegression=D(58)},function(I,R,D){'use strict';var O=D(38).maybeToPrecision;const E=D(39);class Z extends E{constructor($,ee,te){if(te=te||{},super(),!0===$)this.slope=ee.slope,this.intercept=ee.intercept,this.quality=ee.quality||{},ee.quality.r&&(this.quality.r=ee.quality.r,this.quality.r2=ee.quality.r2),ee.quality.chi2&&(this.quality.chi2=ee.quality.chi2);else{var ie=$.length;if(ie!==ee.length)throw new RangeError('input and output array have a different length');for(var ne=0,oe=0,se=0,ae=0,le=0;le<ie;le++)ne+=$[le],oe+=ee[le],se+=$[le]*$[le],ee[le]*ee[le],ae+=$[le]*ee[le];var de=ie*ae-ne*oe;this.slope=de/(ie*se-ne*ne),this.intercept=1/ie*oe-this.slope*(1/ie)*ne,this.coefficients=[this.intercept,this.slope],te.computeQuality&&(this.quality=this.modelQuality($,ee))}}toJSON(){var $={name:'simpleLinearRegression',slope:this.slope,intercept:this.intercept};return this.quality&&($.quality=this.quality),$}_predict($){return this.slope*$+this.intercept}computeX($){return($-this.intercept)/this.slope}toString($){var ee='y = ';if(this.slope){var te=O(this.slope,$);if(ee+=(1==te?'':te)+'x',this.intercept){var ie=Math.abs(this.intercept),ne=ie===this.intercept?'+':'-';ee+=' '+ne+' '+O(ie,$)}}else ee+=O(this.intercept,$);return ee}toLaTeX($){return this.toString($)}static load($){if('simpleLinearRegression'!==$.name)throw new TypeError('not a SLR model');return new Z(!0,$)}}I.exports=Z},function(I,R){'use strict';R.maybeToPrecision=function(O,E){return E?O.toPrecision(E):O.toString()}},function(I,R){'use strict';I.exports=class{predict(O){var E;if(Array.isArray(O)){E=Array(O.length);for(var G=0;G<O.length;G++)E[G]=this._predict(O[G])}else if(Number.isFinite(O))E=this._predict(O);else throw new TypeError('x must be a number or array');return E}_predict(O){throw new Error('_compute not implemented')}train(O){}toString(O){return''}toLaTeX(O){return''}modelQuality(O,E){let G=O.length;var Z=Array(G);for(let le=0;le<G;le++)Z[le]=this._predict(O[le]);var $=0,ee=0,te=0,ie=0,ne=0,oe=0,se=0;for(let le=0;le<G;le++)$+=Z[le],ee+=E[le],ne+=Z[le]*Z[le],oe+=E[le]*E[le],se+=Z[le]*E[le],0!==E[le]&&(te+=(E[le]-Z[le])*(E[le]-Z[le])/E[le]),ie=(E[le]-Z[le])*(E[le]-Z[le]);var ae=(G*se-$*ee)/Math.sqrt((G*ne-$*$)*(G*oe-ee*ee));return{r:ae,r2:ae*ae,chi2:te,rmsd:ie*ie/G}}}},function(I,R,D){'use strict';const O=D(38).maybeToPrecision,E=D(39),G=D(14);class $ extends E{constructor(ee,te,ie,ne){if(super(),!0===ee)this.coefficients=te.coefficients,this.powers=te.powers,this.M=te.M,te.quality&&(this.quality=te.quality);else{var oe=ee.length;if(oe!==te.length)throw new RangeError('input and output array have a different length');let pe;if(Array.isArray(ie))pe=ie,ie=pe.length;else for(ie++,pe=Array(ie),le=0;le<ie;le++)pe[le]=le;var se=new G(oe,ie),ae=new G([te]),le,de;for(le=0;le<ie;le++)for(de=0;de<oe;de++)se[de][le]=0===pe[le]?1:Math.pow(ee[de],pe[le]);var ue=se.transposeView(),ce=ue.mmul(se),me=ue.mmul(ae.transposeView());this.coefficients=ce.solve(me).to1DArray(),this.powers=pe,this.M=ie-1,(ne||{}).computeQuality&&(this.quality=this.modelQuality(ee,te))}}_predict(ee){for(var te=0,ie=0;ie<this.powers.length;ie++)te+=this.coefficients[ie]*Math.pow(ee,this.powers[ie]);return te}toJSON(){var ee={name:'polynomialRegression',coefficients:this.coefficients,powers:this.powers,M:this.M};return this.quality&&(ee.quality=this.quality),ee}toString(ee){return this._toFormula(ee,!1)}toLaTeX(ee){return this._toFormula(ee,!0)}_toFormula(ee,te){var ie='^',ne='',oe='*';te&&(ie='^{',ne='}',oe='');for(var se='',le=0,ae;le<this.coefficients.length;le++)ae='',0!==this.coefficients[le]&&(ae=0===this.powers[le]?O(this.coefficients[le],ee):1===this.powers[le]?O(this.coefficients[le],ee)+oe+'x':O(this.coefficients[le],ee)+oe+'x'+ie+this.powers[le]+ne,0<this.coefficients[le]&&(ae='+'+ae)),se=ae+se;return'+'===se.charAt(0)&&(se=se.slice(1)),'y = '+se}static load(ee){if('polynomialRegression'!==ee.name)throw new TypeError('not a polynomial regression model');return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';const O=D(38).maybeToPrecision,E=D(40),G=D(42),Z=D(39);I.exports=class extends Z{constructor(ee,te,ie,ne){if(super(),!0===ee)this.A=te.A,this.M=te.M,te.quality&&(this.quality=te.quality);else{var oe=ee.length;if(oe!==te.length)throw new RangeError('input and output array have a different length');var se=new E(ee,te,[ie],{computeCoefficient:!0});this.A=se.coefficients[0],this.M=ie,(ne||{}).computeQuality&&(this.quality=this.modelQuality(ee,te))}}_predict(ee){return this.A*Math.pow(ee,this.M)}toJSON(){var ee={name:'potentialRegression',A:this.A,M:this.M};return this.quality&&(ee.quality=this.quality),ee}toString(ee){return'y = '+O(this.A,ee)+'*x^'+this.M}toLaTeX(ee){return 0<=this.M?'y = '+O(this.A,ee)+'x^{'+this.M+'}':'y = \\frac{'+O(this.A,ee)+'}{x^{'+-this.M+'}}'}static load(ee){if('potentialRegression'!==ee.name)throw new TypeError('not a potential regression model');return new G(!0,ee)}}},function(I,R,D){'use strict';const O=D(38).maybeToPrecision,E=D(37),G=D(39);class $ extends G{constructor(ee,te,ie){if(super(),!0===ee)this.A=te.A,this.B=te.B,this.quality=te.quality||{},te.quality.r&&(this.quality.r=te.quality.r,this.quality.r2=te.quality.r2),te.quality.chi2&&(this.quality.chi2=te.quality.chi2);else{var ne=ee.length;if(ne!==te.length)throw new RangeError('input and output array have a different length');for(var oe=Array(ne),se=Array(ne),ae=0;ae<ne;ae++)oe[ae]=Math.log(ee[ae]),se[ae]=Math.log(te[ae]);var le=new E(oe,se,{computeCoefficient:!1});this.A=Math.exp(le.intercept),this.B=le.slope,(ie||{}).computeQuality&&(this.quality=this.modelQuality(ee,te))}}_predict(ee){return this.A*Math.pow(ee,this.B)}toJSON(){var ee={name:'powerRegression',A:this.A,B:this.B};return this.quality&&(ee.quality=this.quality),ee}toString(ee){return'y = '+O(this.A,ee)+'*x^'+O(this.B,ee)}toLaTeX(ee){return 0<=this.B?'y = '+O(this.A,ee)+'x^{'+O(this.B,ee)+'}':'y = \\frac{'+O(this.A,ee)+'}{x^{'+O(-this.B,ee)+'}}'}static load(ee){if('powerRegression'!==ee.name)throw new TypeError('not a power regression model');return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';const O=D(38).maybeToPrecision,E=D(37),G=D(39);class $ extends G{constructor(ee,te,ie){if(super(),!0===ee)this.A=te.A,this.C=te.C,te.quality&&(this.quality=te.quality);else{var ne=ee.length;if(ne!==te.length)throw new RangeError('input and output array have a different length');for(var oe=Array(ne),se=0;se<ne;se++)oe[se]=Math.log(te[se]);var ae=new E(ee,oe,{computeCoefficient:!1});this.A=ae.slope,this.C=Math.exp(ae.intercept),(ie||{}).computeQuality&&(this.quality=this.modelQuality(ee,te))}}_predict(ee){return this.C*Math.exp(ee*this.A)}toJSON(){var ee={name:'expRegression',A:this.A,C:this.C};return this.quality&&(ee.quality=this.quality),ee}toString(ee){return'y = '+O(this.C,ee)+'*exp('+O(this.A,ee)+'*x)'}toLaTeX(ee){return 0<=this.A?'y = '+O(this.C,ee)+'e^{'+O(this.A,ee)+'x}':'y = \\frac{'+O(this.C,ee)+'}{e^{'+O(-this.A,ee)+'x}}'}static load(ee){if('expRegression'!==ee.name)throw new TypeError('not a exp regression model');return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';const O=D(14),E=D(45),G=D(39),Z={lambda:0.1,kernelType:'gaussian',kernelOptions:{},computeCoefficient:!1};class ee extends G{constructor(te,ie,ne){if(super(),!0===te)this.alpha=ie.alpha,this.inputs=ie.inputs,this.kernelType=ie.kernelType,this.kernelOptions=ie.kernelOptions,this.kernel=new E(ie.kernelType,ie.kernelOptions),ie.quality&&(this.quality=ie.quality);else{ne=Object.assign({},Z,ne);const oe=new E(ne.kernelType,ne.kernelOptions),se=oe.compute(te),ae=te.length;se.add(O.eye(ae,ae).mul(ne.lambda)),this.alpha=se.solve(ie),this.inputs=te,this.kernelType=ne.kernelType,this.kernelOptions=ne.kernelOptions,this.kernel=oe,ne.computeQuality&&(this.quality=this.modelQuality(te,ie))}}_predict(te){return this.kernel.compute([te],this.inputs).mmul(this.alpha)[0]}toJSON(){var te={name:'kernelRidgeRegression',alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions};return this.quality&&(te.quality=this.quality),te}static load(te){if('kernelRidgeRegression'!==te.name)throw new TypeError('not a KRR model');return new ee(!0,te)}}I.exports=ee},function(I,R,D){'use strict';const O=D(14),E=D(46),G=D(48),Z=D(49),$=D(50),ee=D(51),te=D(52),ie=D(53),ne=D(54),oe=D(55),se=D(56),ae={gaussian:E,rbf:E,polynomial:G,poly:G,anova:Z,cauchy:$,exponential:ee,histogram:te,min:te,laplacian:ie,multiquadratic:ne,rational:oe,sigmoid:se,mlp:se};I.exports=class{constructor(de,ue){if(this.kernelType=de,'linear'!==de)if('string'==typeof de){de=de.toLowerCase();var ce=ae[de];if(ce)this.kernelFunction=new ce(ue);else throw new Error('unsupported kernel type: '+de)}else if('object'==typeof de&&'function'==typeof de.compute)this.kernelFunction=de;else throw new TypeError('first argument must be a valid kernel type or instance')}compute(de,ue){if(void 0===ue&&(ue=de),'linear'===this.kernelType){var ce=new O(de);return ce.mmul(new O(ue).transpose())}const me=new O(de.length,ue.length);var pe,ge;if(de===ue)for(pe=0;pe<de.length;pe++)for(ge=pe;ge<de.length;ge++)me[pe][ge]=me[ge][pe]=this.kernelFunction.compute(de[pe],de[ge]);else for(pe=0;pe<de.length;pe++)for(ge=0;ge<ue.length;ge++)me[pe][ge]=this.kernelFunction.compute(de[pe],ue[ge]);return me}}},function(I,R,D){'use strict';const O=D(47).squared,E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma,this.divisor=2*Z.sigma*Z.sigma}compute(Z,$){const ee=O(Z,$);return Math.exp(-ee/this.divisor)}}},function(I,R){'use strict';function D(E,G){for(var Z=0,$=0;$<E.length;$++)Z+=(E[$]-G[$])*(E[$]-G[$]);return Z}function O(E,G){return Math.sqrt(D(E,G))}I.exports=O,O.squared=D},function(I,R){'use strict';const D={degree:1,constant:1,scale:1};I.exports=class{constructor(E){E=Object.assign({},D,E),this.degree=E.degree,this.constant=E.constant,this.scale=E.scale}compute(E,G){for(var Z=0,$=0;$<E.length;$++)Z+=E[$]*G[$];return Math.pow(this.scale*Z+this.constant,this.degree)}}},function(I,R){'use strict';const D={sigma:1,degree:1};I.exports=class{constructor(E){E=Object.assign({},D,E),this.sigma=E.sigma,this.degree=E.degree}compute(E,G){for(var Z=0,$=Math.min(E.length,G.length),ee=1;ee<=$;++ee)Z+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(E[ee-1],ee)-Math.pow(G[ee-1],ee),2)),this.degree);return Z}}},function(I,R,D){'use strict';const O=D(47).squared,E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma}compute(Z,$){return 1/(1+O(Z,$)/(this.sigma*this.sigma))}}},function(I,R,D){'use strict';const O=D(47),E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma,this.divisor=2*Z.sigma*Z.sigma}compute(Z,$){const ee=O(Z,$);return Math.exp(-ee/this.divisor)}}},function(I,R){'use strict';I.exports=class{compute(O,E){for(var G=Math.min(O.length,E.length),Z=0,$=0;$<G;++$)Z+=Math.min(O[$],E[$]);return Z}}},function(I,R,D){'use strict';const O=D(47),E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma}compute(Z,$){const ee=O(Z,$);return Math.exp(-ee/this.sigma)}}},function(I,R,D){'use strict';const O=D(47).squared,E={constant:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.constant=Z.constant}compute(Z,$){return Math.sqrt(O(Z,$)+this.constant*this.constant)}}},function(I,R,D){'use strict';const O=D(47).squared,E={constant:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.constant=Z.constant}compute(Z,$){const ee=O(Z,$);return 1-ee/(ee+this.constant)}}},function(I,R){'use strict';const D={alpha:0.01,constant:-Math.E};I.exports=class{constructor(E){E=Object.assign({},D,E),this.alpha=E.alpha,this.constant=E.constant}compute(E,G){for(var Z=0,$=0;$<E.length;$++)Z+=E[$]*G[$];return Math.tanh(this.alpha*Z+this.constant)}}},function(I,R,D){'use strict';function O(ie,ne){for(var oe=ie.clone(),se=0;se<ie.rows;++se)oe[se][0]=Math.pow(oe[se][0],ne);return oe}function E(ie,ne){this[ie][ne]=Math.abs(this[ie][ne])}const G=D(14),Z=G.DC.SingularValueDecomposition,$=D(39),ee={order:2};class ie extends ${constructor(ne,oe,se){super(),!0===ne?(this.coefficients=G.columnVector(oe.coefficients),this.order=oe.order,oe.r&&(this.r=oe.r,this.r2=oe.r2),oe.chi2&&(this.chi2=oe.chi2)):(se=Object.assign({},ee,se),this.order=se.order,this.coefficients=[],this.X=ne,this.y=oe,this.train(this.X,this.y,se),se.computeQuality&&(this.quality=this.modelQuality(ne,oe)))}train(ne,oe,se){if(G.isMatrix(ne)||(ne=new G(ne)),G.isMatrix(oe)||(oe=G.columnVector(oe)),oe.rows!==ne.rows&&(oe=oe.transpose()),2!==ne.columns)throw new RangeError('You give X with '+ne.columns+' columns and it must be 2');if(ne.rows!==oe.rows)throw new RangeError('X and y must have the same rows');var ae=ne.rows,le=(this.order+2)*(this.order+1)/2;this.coefficients=Array(le);var de=ne.getColumnVector(0),ue=ne.getColumnVector(1),ce=1/de.clone().apply(E).max(),me=1/ue.clone().apply(E).max(),pe=1/oe.clone().apply(E).max();de.mulColumn(0,ce),ue.mulColumn(0,me),oe.mulColumn(0,pe);for(var ge=new G(ae,le),he=0,xe=0;xe<=this.order;++xe)for(var fe=this.order-xe,ye=0;ye<=fe;++ye){var je=O(de,xe).mulColumnVector(O(ue,ye));ge.setColumn(he,je),he++}var ke=new Z(ge.transpose(),{computeLeftSingularVectors:!0,computeRightSingularVectors:!0,autoTranspose:!1}),we=G.rowVector(ke.diagonal);we=we.apply(function(Me,ze){this[Me][ze]=1e-15<=this[Me][ze]?1/this[Me][ze]:0});var be=G.zeros(ae,le);for(xe=0;xe<le;++xe)be[xe][xe]=we[0][xe];we=be;var ve=ke.rightSingularVectors,Se=ke.leftSingularVectors;for(this.coefficients=Se.mmul(we.transpose()).mmul(ve.transpose()).mmul(oe),he=0,xe=0;xe<=le;++xe)for(fe=this.order-xe,ye=0;ye<=fe;++ye)this.coefficients[he][0]=this.coefficients[he][0]*Math.pow(ce,xe)*Math.pow(me,ye)/pe,he++}_predict(ne){for(var oe=ne[0],se=ne[1],ae=0,le=0,de=0;de<=this.order;de++)for(var ue=0;ue<=this.order-de;ue++)ae+=Math.pow(oe,de)*Math.pow(se,ue)*this.coefficients[le][0],le++;return ae}toJSON(){var ne={name:'polyfit2D',order:this.order,coefficients:this.coefficients};return this.quality&&(ne.quality=this.quality),ne}static load(ne){if('polyfit2D'!==ne.name)throw new TypeError('not a polyfit2D model');return new ie(!0,ne)}}I.exports=ie},function(I,R,D){'use strict';const O=D(39),E=D(38).maybeToPrecision,G=D(4).median;class $ extends O{constructor(ee,te,ie){if(ie=ie||{},super(),!0===ee)this.slope=te.slope,this.intercept=te.intercept,this.quality=te.quality||{},te.quality.r&&(this.quality.r=te.quality.r,this.quality.r2=te.quality.r2),te.quality.chi2&&(this.quality.chi2=te.quality.chi2);else{let ne=ee.length;if(ne!==te.length)throw new RangeError('Input and output array have a different length');for(let oe=Array(ne*ne),se=0,de=0;de<ne;++de)for(let ue=de+1;ue<ne;++ue)ee[de]!==ee[ue]&&(oe[se++]=(te[ue]-te[de])/(ee[ue]-ee[de]));oe.length=se;for(let ae=G(oe),le=Array(ne),de=0;de<ne;++de)le[de]=te[de]-ae*ee[de];this.slope=ae,this.intercept=G(le),this.coefficients=[this.intercept,this.slope],ie.computeQuality&&(this.quality=this.modelQuality(ee,te))}}toJSON(){var ee={name:'TheilSenRegression',slope:this.slope,intercept:this.intercept};return this.quality&&(ee.quality=this.quality),ee}_predict(ee){return this.slope*ee+this.intercept}computeX(ee){return(ee-this.intercept)/this.slope}toString(ee){var te='y = ';if(this.slope){var ie=E(this.slope,ee);if(te+=(0.00001>Math.abs(ie-1)?'':ie)+'x',this.intercept){var ne=Math.abs(this.intercept),oe=ne===this.intercept?'+':'-';te+=' '+oe+' '+E(ne,ee)}}else te+=E(this.intercept,ee);return te}toLaTeX(ee){return this.toString(ee)}static load(ee){if('TheilSenRegression'!==ee.name)throw new TypeError('not a Theil-Sen model');return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';R.distance=D(60),R.similarity=D(105)},function(I,R,D){'use strict';R.additiveSymmetric=D(61),R.avg=D(62),R.bhattacharyya=D(63),R.canberra=D(64),R.chebyshev=D(65),R.clark=D(66),R.czekanowski=D(67),R.dice=D(69),R.divergence=D(70),R.euclidean=D(47),R.fidelity=D(71),R.gower=D(72),R.harmonicMean=D(73),R.hellinger=D(74),R.innerProduct=D(75),R.intersection=D(76),R.jaccard=D(77),R.jeffreys=D(78),R.jensenDifference=D(79),R.jensenShannon=D(80),R.kdivergence=D(81),R.kulczynski=D(82),R.kullbackLeibler=D(83),R.kumarHassebrook=D(84),R.kumarJohnson=D(85),R.lorentzian=D(86),R.manhattan=D(87),R.matusita=D(88),R.minkowski=D(89),R.motyka=D(90),R.neyman=D(91),R.pearson=D(92),R.probabilisticSymmetric=D(93),R.ruzicka=D(94),R.soergel=D(95),R.sorensen=D(96),R.squared=D(97),R.squaredChord=D(98),R.squaredEuclidean=D(47).squared,R.taneja=D(99),R.tanimoto=D(100),R.topsoe=D(102),R.tree=D(103),R.waveHedges=D(104)},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])*(O[G]+E[G])/(O[G]*E[G]);return 2*$}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)ee=Math.abs(O[te]-E[te]),$+=ee,Z<ee&&(Z=ee);return(Z+$)/2}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return-Math.log(Z)}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.abs(O[$]-E[$])/(O[$]+E[$]);return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)$=Math.abs(O[ee]-E[ee]),Z<$&&(Z=$);return Z}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=Math.sqrt((O[G]-E[G])*(O[G]-E[G])/((O[G]+E[G])*(O[G]+E[G])));return 2*$}},function(I,R,D){'use strict';const O=D(68);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R){'use strict';I.exports=function(O,E){for(var G=0,Z=0,$=0;$<O.length;$++)G+=Math.min(O[$],E[$]),Z+=O[$]+E[$];return 2*G/Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)Z+=O[te]*O[te],$+=E[te]*E[te],ee+=(O[te]-E[te])*(O[te]-E[te]);return ee/(Z+$)}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/((O[G]+E[G])*(O[G]+E[G]));return 2*$}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.abs(O[$]-E[$]);return Z/G}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*E[$]/(O[$]+E[$]);return 2*Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return 2*Math.sqrt(1-Z)}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*E[$];return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.min(O[$],E[$]);return 1-Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0,ie=0;ie<G;ie++)Z+=O[ie]*E[ie],$+=O[ie]*O[ie],ee+=E[ie]*E[ie],te+=(O[ie]-E[ie])*(O[ie]-E[ie]);return te/($+ee-Z)}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(O[$]-E[$])*Math.log(O[$]/E[$]);return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(O[$]*Math.log(O[$])+E[$]*Math.log(E[$]))/2-(O[$]+E[$])/2*Math.log((O[$]+E[$])/2);return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=O[ee]*Math.log(2*O[ee]/(O[ee]+E[ee])),$+=E[ee]*Math.log(2*E[ee]/(O[ee]+E[ee]));return(Z+$)/2}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*Math.log(2*O[$]/(O[$]+E[$]));return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.abs(O[ee]-E[ee]),$+=Math.min(O[ee],E[ee]);return Z/$}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*Math.log(O[$]/E[$]);return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)Z+=O[te]*E[te],$+=O[te]*O[te],ee+=E[te]*E[te];return Z/($+ee-Z)}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.pow(O[$]*O[$]-E[$]*E[$],2)/(2*Math.pow(O[$]*E[$],1.5));return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.log(Math.abs(O[$]-E[$])+1);return Z}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=Math.abs(O[G]-E[G]);return $}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return Math.sqrt(2-2*Z)}},function(I,R){I.exports=function(O,E,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=Math.pow(Math.abs(O[Z]-E[Z]),G);return Math.pow(ee,1/G)}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.min(O[ee],E[ee]),$+=O[ee]+E[ee];return 1-Z/$}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/O[G];return $}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/E[G];return $}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/(O[G]+E[G]);return 2*$}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.min(O[ee],E[ee]),$+=Math.max(O[ee],E[ee]);return Z/$}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.abs(O[ee]-E[ee]),$+=Math.max(O[ee],E[ee]);return Z/$}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.abs(O[ee]-E[ee]),$+=O[ee]+E[ee];return Z/$}},function(I,R){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/(O[G]+E[G]);return $}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(Math.sqrt(O[$])-Math.sqrt(E[$]))*(Math.sqrt(O[$])-Math.sqrt(E[$]));return Z}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(O[$]+E[$])/2*Math.log((O[$]+E[$])/(2*Math.sqrt(O[$]*E[$])));return Z}},function(I,R,D){var O=D(101);I.exports=function(G,Z,$){if($)return 1-O(G,Z,$);for(var ee=G.length,te=0,ie=0,ne=0,oe=0;oe<ee;oe++)te+=G[oe],ie+=Z[oe],ne+=Math.min(G[oe],Z[oe]);return(te+ie-2*ne)/(te+ie-ne)}},function(I,R){I.exports=function(O,E,G){if(G){for(var Z=0,$=0,ee=0;ee<O.length;ee++)Z+=O[ee]&&E[ee],$+=O[ee]||E[ee];return 0===$?1:Z/$}for(var te=O.length,ie=0,ne=0,oe=0,se=0;se<te;se++)ie+=O[se],ne+=E[se],oe+=Math.min(O[se],E[se]);return 1-(ie+ne-2*oe)/(ie+ne-oe)}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*Math.log(2*O[$]/(O[$]+E[$]))+E[$]*Math.log(2*E[$]/(O[$]+E[$]));return Z}},function(I,R){'use strict';function D(G,Z,$,ee,te,ie){if(te=te||0.16,ie=ie||0.01,ee-$<te)return void 0;for(var ne=0,oe=0;G[oe]<ee;oe++)G[oe]>$&&(ne+=Z[oe]);if(ne<ie)return void 0;for(var se=0,ae=0;G[ae]<ee;ae++)G[oe]>$&&(se+=G[ae]*Z[ae]);return(se=se/ne,0.00001>se-$||0.00001>ee-se)?void 0:se-$<te/4?D(G,Z,se,ee,te,ie):ee-se<te/4?D(G,Z,$,se,te,ie):{sum:ne,center:se,left:D(G,Z,$,se,te,ie),right:D(G,Z,se,ee,te,ie)}}function O(G,Z,$,ee,te){if(G===void 0||Z===void 0)return 0;var ie=$*Math.min(G.sum,Z.sum)/Math.max(G.sum,Z.sum)+(1-$)*Math.exp(-te*Math.abs(G.center-Z.center));return ee*ie+(1-ee)*(O(G.left,Z.left,$,ee,te)+O(G.right,Z.right,$,ee,te))}var E={minWindow:0.16,threshold:0.01,alpha:0.1,beta:0.33,gamma:0.001};I.exports={calc:function(Z,$,ee,te,ie){for(var ne in ie=ie||{},E)ie.hasOwnProperty(ne)||(ie[ne]=E[ne]);var oe,se;return oe=Z.sum?Z:D(Z.x,Z.y,ee,te,ie.minWindow,ie.threshold),se=$.sum?$:D($.x,$.y,ee,te,ie.minWindow,ie.threshold),O(oe,se,ie.alpha,ie.beta,ie.gamma)},createTree:D}},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=1-Math.min(O[$],E[$])/Math.max(O[$],E[$]);return Z}},function(I,R,D){'use strict';R.cosine=D(106),R.czekanowski=D(68),R.dice=D(107),R.intersection=D(108),R.jaccard=D(109),R.kulczynski=D(110),R.motyka=D(111),R.pearson=D(112),R.squaredChord=D(113),R.tanimoto=D(101)},function(I,R){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)Z+=O[te]*E[te],$+=O[te]*O[te],ee+=E[te]*E[te];return Z/(Math.sqrt($)*Math.sqrt(ee))}},function(I,R,D){var O=D(69);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){var O=D(76);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){var O=D(77);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){var O=D(82);I.exports=function(G,Z){return 1/O(G,Z)}},function(I,R,D){var O=D(90);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){'use strict';var O=D(3).array,E=D(106);I.exports=function(Z,$){for(var ee=O.mean(Z),te=O.mean($),ie=Array(Z.length),ne=Array($.length),oe=0;oe<ie.length;oe++)ie[oe]=Z[oe]-ee,ne[oe]=$[oe]-te;return E(ie,ne)}},function(I,R,D){var O=D(98);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){'use strict';var O=D(14),E=D(34),G=D(115),Z={windowSize:5,derivative:1,polynomial:2,pad:'none',padValue:'replicate'};I.exports=function(ee,te,ie){if(ie=G({},Z,ie),0==ie.windowSize%2||5>ie.windowSize||!Number.isInteger(ie.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(0>ie.derivative||!Number.isInteger(ie.derivative))throw new RangeError('Derivative should be a positive integer');if(1>ie.polynomial||!Number.isInteger(ie.polynomial))throw new RangeError('Polynomial should be a positive integer');var se=Math.floor(ie.windowSize/2),ne,oe;'pre'===ie.pad&&(ee=E(ee,{size:se,value:ie.padValue}));var ae=Array(ee.length-2*se);if(5===ie.windowSize&&2===ie.polynomial&&(1===ie.derivative||2===ie.derivative))1===ie.derivative?(ne=[-2,-1,0,1,2],oe=10):(ne=[2,-1,-2,-1,2],oe=7);else{for(var le=O.ones(ie.windowSize,ie.polynomial+1),de=-(ie.windowSize-1)/2,ue=0;ue<le.length;ue++)for(var ce=0;ce<le[ue].length;ce++)(0!=de+1||0!==ce)&&(le[ue][ce]=Math.pow(de+ue,ce));var me=le.transposeView(),pe=me.mmul(le).inverse();ne=pe.mmul(me),ne=ne[ie.derivative],oe=1}for(var ge=oe*Math.pow(te,ie.derivative),he=se;he<ee.length-se;he++){for(var xe=0,fe=0;fe<ne.length;fe++)xe+=ne[fe]*ee[fe+he-se]/ge;ae[he-se]=xe}return'post'===ie.pad&&(ae=E(ae,{size:se,value:ie.padValue})),ae}},function(I,R){'use strict';var D=Object.prototype.hasOwnProperty,O=Object.prototype.toString,E=function($){return'function'==typeof Array.isArray?Array.isArray($):'[object Array]'===O.call($)},G=function($){if(!$||'[object Object]'!==O.call($))return!1;var ee=D.call($,'constructor'),te=$.constructor&&$.constructor.prototype&&D.call($.constructor.prototype,'isPrototypeOf');if($.constructor&&!ee&&!te)return!1;for(var ie in $);return'undefined'==typeof ie||D.call($,ie)};I.exports=function Z(){var se=arguments[0],ae=1,le=arguments.length,de=!1,$,ee,te,ie,ne,oe;for('boolean'==typeof se?(de=se,se=arguments[1]||{},ae=2):('object'!=typeof se&&'function'!=typeof se||null==se)&&(se={});ae<le;++ae)if($=arguments[ae],null!=$)for(ee in $)te=se[ee],ie=$[ee],se!==ie&&(de&&ie&&(G(ie)||(ne=E(ie)))?(ne?(ne=!1,oe=te&&E(te)?te:[]):oe=te&&G(te)?te:{},se[ee]=Z(de,oe,ie)):'undefined'!=typeof ie&&(se[ee]=ie));return se}},function(I,R,D){function O(ie,ne,oe,se){for(var ae=0,le=0,de=ne-oe;de<ne+oe;de++)0<=de&&de<ie.length-1&&(ae+=ie[de+1]-ie[de],le++);return Math.pow(ae/le,se)}function E(ie,ne,oe,se){var ae=0;return ae=0<oe?(4*oe-2)/(oe*(2*ne-oe+1))*(ie*E(ie,ne,oe-1,se)+se*E(ie,ne,oe-1,se-1))-(oe-1)*(2*ne+oe)/(oe*(2*ne-oe+1))*E(ie,ne,oe-2,se):0==oe&&0==se?1:0,ae}function G(ie,ne){var oe=1;if(ie>=ne)for(var se=ie-ne+1;se<=ie;se++)oe*=se;return oe}function Z(ie,ne,oe,se,ae){for(var le=0,de=0;de<=se;de++)le+=(2*de+1)*(G(2*oe,de)/G(2*oe+de+1,de+1))*E(ie,oe,de,0)*E(ne,oe,de,ae);return le}function $(ie,ne,oe){for(var se=Array(ie),ae=Math.floor(ie/2),le=-ae;le<=ae;le++){se[le+ae]=Array(ie);for(var de=-ae;de<=ae;de++)se[le+ae][de+ae]=Z(de,le,ae,ne,oe)}return se}var ee=D(115);D(117);var te={windowSize:9,derivative:0,polynomial:3};I.exports=function(ne,oe,se){if(se=ee({},te,se),0==se.windowSize%2||5>se.windowSize||!Number.isInteger(se.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(se.windowSize>ne.length)throw new RangeError('Window size is higher than the data length '+se.windowSize+'>'+ne.length);if(0>se.derivative||!Number.isInteger(se.derivative))throw new RangeError('Derivative should be a positive integer');if(1>se.polynomial||!Number.isInteger(se.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=se.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var ae=se.windowSize,le=Math.floor(ae/2),de=ne.length,ue=Array(de),ce=$(ae,se.polynomial,se.derivative),me=0,pe=!0;'[object Array]'===Object.prototype.toString.call(oe)?pe=!1:me=Math.pow(oe,se.derivative);for(var ge=0;ge<le;ge++){for(var he=ce[le-ge-1],xe=ce[le+ge+1],fe=0,ye=0,je=0;je<ae;je++)fe+=he[je]*ne[je],ye+=xe[je]*ne[de-ae+je-1];pe?(ue[le-ge-1]=fe/me,ue[de-le+ge]=ye/me):(me=O(oe,le-ge-1,le,se.derivative),ue[le-ge-1]=fe/me,me=O(oe,de-le+ge,le,se.derivative),ue[de-le+ge]=ye/me)}for(var ke=ce[le],ge=ae;ge<de+1;ge++){for(var we=0,je=0;je<ae;je++)we+=ke[je]*ne[je+ge-ae];pe||(me=O(oe,ge-le-1,le,se.derivative)),ue[ge-le-1]=we/me}return ue}},function(I,R,D){'use strict';R.array=D(118),R.matrix=D(119)},function(I,R){'use strict';function D(O,E){return O-E}R.sum=function(E){for(var O=0,G=0;G<E.length;G++)O+=E[G];return O},R.max=function(E){for(var O=-(1/0),G=E.length,Z=0;Z<G;Z++)E[Z]>O&&(O=E[Z]);return O},R.min=function(E){for(var O=1/0,G=E.length,Z=0;Z<G;Z++)E[Z]<O&&(O=E[Z]);return O},R.minMax=function(E){for(var G=1/0,Z=-(1/0),$=E.length,ee=0;ee<$;ee++)E[ee]<G&&(G=E[ee]),E[ee]>Z&&(Z=E[ee]);return{min:G,max:Z}},R.arithmeticMean=function(E){for(var G=0,Z=E.length,$=0;$<Z;$++)G+=E[$];return G/Z},R.mean=R.arithmeticMean,R.geometricMean=function(E){for(var G=1,Z=E.length,$=0;$<Z;$++)G*=E[$];return Math.pow(G,1/Z)},R.logMean=function(E){for(var G=0,Z=E.length,$=0;$<Z;$++)G+=Math.log(E[$]);return G/Z},R.grandMean=function(E,G){for(var Z=0,$=0,ee=E.length,te=0;te<ee;te++)Z+=G[te]*E[te],$+=G[te];return Z/$},R.truncatedMean=function(E,G,Z){Z===void 0&&(Z=!1),Z||(E=E.slice().sort(D));for(var $=E.length,ee=Math.floor($*G),te=0,ie=ee;ie<$-ee;ie++)te+=E[ie];return te/($-2*ee)},R.harmonicMean=function(E){for(var G=0,Z=E.length,$=0;$<Z;$++){if(0===E[$])throw new RangeError('value at index '+$+'is zero');G+=1/E[$]}return Z/G},R.contraHarmonicMean=function(E){for(var G=0,Z=0,$=E.length,ee=0;ee<$;ee++)G+=E[ee]*E[ee],Z+=E[ee];if(0>Z)throw new RangeError('sum of values is negative');return G/Z},R.median=function(E,G){G===void 0&&(G=!1),G||(E=E.slice().sort(D));var Z=E.length,$=Math.floor(Z/2);return 0==Z%2?0.5*(E[$-1]+E[$]):E[$]},R.variance=function(E,G){G===void 0&&(G=!0);for(var Z=R.mean(E),$=0,ee=E.length,te=0;te<ee;te++){var ie=E[te]-Z;$+=ie*ie}return G?$/(ee-1):$/ee},R.standardDeviation=function(E,G){return Math.sqrt(R.variance(E,G))},R.standardError=function(E){return R.standardDeviation(E)/Math.sqrt(E.length)},R.quartiles=function(E,G){'undefined'==typeof G&&(G=!1),G||(E=E.slice(),E.sort(D));var Z=E.length/4,$=E[Math.ceil(Z)-1],ee=R.median(E,!0),te=E[Math.ceil(3*Z)-1];return{q1:$,q2:ee,q3:te}},R.pooledStandardDeviation=function(E,G){return Math.sqrt(R.pooledVariance(E,G))},R.pooledVariance=function(E,G){'undefined'==typeof G&&(G=!0);for(var Z=0,$=0,ee=E.length,te=0;te<ee;te++){var ie=E[te],ne=R.variance(ie);Z+=(ie.length-1)*ne,$+=G?ie.length-1:ie.length}return Z/$},R.mode=function(E){var G=E.length,Z=Array(G),$;for($=0;$<G;$++)Z[$]=0;var ee=Array(G),te=0;for($=0;$<G;$++){var ie=ee.indexOf(E[$]);0<=ie?Z[ie]++:(ee[te]=E[$],Z[te]=1,te++)}var ne=0,oe=0;for($=0;$<te;$++)Z[$]>ne&&(ne=Z[$],oe=$);return ee[oe]},R.covariance=function(E,G,Z){'undefined'==typeof Z&&(Z=!0);var $=R.mean(E),ee=R.mean(G);if(E.length!==G.length)throw'Vectors do not have the same dimensions';for(var te=0,ie=E.length,ne=0;ne<ie;ne++){var oe=E[ne]-$,se=G[ne]-ee;te+=oe*se}return Z?te/(ie-1):te/ie},R.skewness=function(E,G){'undefined'==typeof G&&(G=!0);for(var Z=R.mean(E),$=0,ee=0,te=E.length,ie=0;ie<te;ie++){var ne=E[ie]-Z;$+=ne*ne,ee+=ne*ne*ne}var oe=$/te,se=ee/te,ae=se/Math.pow(oe,3/2);if(G){var le=Math.sqrt(te*(te-1));return le/(te-2)*ae}return ae},R.kurtosis=function(E,G){'undefined'==typeof G&&(G=!0);for(var Z=R.mean(E),$=E.length,ee=0,te=0,ie=0;ie<$;ie++){var ne=E[ie]-Z;ee+=ne*ne,te+=ne*ne*ne*ne}var oe=ee/$,se=te/$;if(G){var ae=ee/($-1),le=te/(ae*ae);return $*($+1)/(($-1)*($-2)*($-3))*le-3*(($-1)*($-1)/(($-2)*($-3)))}return se/(oe*oe)-3},R.entropy=function(E,G){'undefined'==typeof G&&(G=0);for(var Z=0,$=E.length,ee=0;ee<$;ee++)Z+=E[ee]*Math.log(E[ee]+G);return-Z},R.weightedMean=function(E,G){for(var Z=0,$=E.length,ee=0;ee<$;ee++)Z+=E[ee]*G[ee];return Z},R.weightedStandardDeviation=function(E,G){return Math.sqrt(R.weightedVariance(E,G))},R.weightedVariance=function(E,G){for(var Z=R.weightedMean(E,G),$=0,ee=E.length,te=0,ie=0,ne=0;ne<ee;ne++){var oe=E[ne]-Z,se=G[ne];$+=se*(oe*oe),ie+=se,te+=se*se}return $*(ie/(ie*ie-te))},R.center=function(E,G){'undefined'==typeof G&&(G=!1);var Z=E;G||(Z=E.slice());for(var $=R.mean(Z),ee=Z.length,te=0;te<ee;te++)Z[te]-=$},R.standardize=function(E,G,Z){'undefined'==typeof G&&(G=R.standardDeviation(E)),'undefined'==typeof Z&&(Z=!1);for(var $=E.length,ee=Z?E:Array($),te=0;te<$;te++)ee[te]=E[te]/G;return ee},R.cumulativeSum=function(E){var G=E.length,Z=Array(G);Z[0]=E[0];for(var $=1;$<G;$++)Z[$]=Z[$-1]+E[$];return Z}},function(I,R,D){'use strict';function O(se,ae){'undefined'==typeof ae&&(ae=0);var le=se.length,de=se[0].length,ue,ce,me,pe;if(-1===ae){for(ue=[0],ce=le*de,me=0;me<le;me++)for(pe=0;pe<de;pe++)ue[0]+=se[me][pe];ue[0]/=ce}else if(0===ae)for(ue=Array(de),ce=le,pe=0;pe<de;pe++){for(ue[pe]=0,me=0;me<le;me++)ue[pe]+=se[me][pe];ue[pe]/=ce}else if(1===ae)for(ue=Array(le),ce=de,pe=0;pe<le;pe++){for(ue[pe]=0,me=0;me<de;me++)ue[pe]+=se[pe][me];ue[pe]/=ce}else throw new Error('Invalid dimension');return ue}function E(se,ae,le){for(var de=G(se,ae,le),ue=de.length,ce=0;ce<ue;ce++)de[ce]=Math.sqrt(de[ce]);return de}function G(se,ae,le){'undefined'==typeof le&&(le=!0),ae=ae||O(se);var de=se.length;if(0===de)return[];for(var ue=se[0].length,ce=Array(ue),me=0;me<ue;me++){for(var pe=0,ge=0,he=0,xe=0;xe<de;xe++)he=se[xe][me]-ae[me],pe+=he,ge+=he*he;ce[me]=le?(ge-pe*pe/de)/(de-1):(ge-pe*pe/de)/de}return ce}function Z(se,ae,le){'undefined'==typeof le&&(le=0),'undefined'==typeof ae&&(0===le?ae=se.length-1:1==le&&(ae=se[0].length-1));var de=O(se,le),ue=se.length;if(0===ue)return[[]];var ce=se[0].length,me,pe,ge,he,xe;if(0===le){for(me=Array(ce),pe=0;pe<ce;pe++)me[pe]=Array(ce);for(pe=0;pe<ce;pe++)for(ge=pe;ge<ce;ge++){for(he=0,xe=0;xe<ue;xe++)he+=(se[xe][ge]-de[ge])*(se[xe][pe]-de[pe]);he/=ae,me[pe][ge]=he,me[ge][pe]=he}}else if(1===le){for(me=Array(ue),pe=0;pe<ue;pe++)me[pe]=Array(ue);for(pe=0;pe<ue;pe++)for(ge=pe;ge<ue;ge++){for(he=0,xe=0;xe<ce;xe++)he+=(se[ge][xe]-de[ge])*(se[pe][xe]-de[pe]);he/=ae,me[pe][ge]=he,me[ge][pe]=he}}else throw new Error('Invalid dimension');return me}function $(se,ae,le){return ae=ae||O(se),'undefined'==typeof le&&(le=E(se,!0,ae)),te(ee(se,ae,!1),le,!0)}function ee(se,ae,le){ae=ae||O(se);var de=se,ue=se.length,ce,me,pe;if(!le)for(de=Array(ue),ce=0;ce<ue;ce++)de[ce]=Array(se[ce].length);for(ce=0;ce<ue;ce++){var ge=de[ce];for(me=0,pe=ge.length;me<pe;me++)ge[me]=se[ce][me]-ae[me]}return de}function te(se,ae,le){'undefined'==typeof ae&&(ae=E(se));var de=se,ue=se.length,ce,me,pe;if(!le)for(de=Array(ue),ce=0;ce<ue;ce++)de[ce]=Array(se[ce].length);for(ce=0;ce<ue;ce++){var ge=de[ce],he=se[ce];for(me=0,pe=ge.length;me<pe;me++)0===ae[me]||isNaN(ae[me])||(ge[me]=he[me]/ae[me])}return de}function ie(se,ae,le){'undefined'==typeof le&&(le=0);var de=se.length;if(0===de)return[];var ue=se[0].length,ce,me,pe,ge,he,xe;if(0===le){for(ce=Array(ue),me=0;me<ue;me++)ce[me]=0;for(me=0;me<de;me++)for(xe=se[me],he=ae[me],ge=0;ge<ue;ge++)ce[ge]+=xe[ge]*he}else if(1===le){for(ce=Array(de),me=0;me<de;me++)ce[me]=0;for(ge=0;ge<de;ge++)for(xe=se[ge],he=ae[ge],me=0;me<ue;me++)ce[ge]+=xe[me]*he}else throw new Error('Invalid dimension');var fe=oe.sum(ae);if(0!==fe)for(me=0,pe=ce.length;me<pe;me++)ce[me]/=fe;return ce}function ne(se,ae,le,de,ue){ue=ue||0,le=le||ie(se,ae,ue),'undefined'==typeof de&&(de=1);var ce=se.length;if(0===ce)return[[]];var me=se[0].length,pe,ge,he,xe,fe;if(0===ue){for(pe=Array(me),ge=0;ge<me;ge++)pe[ge]=Array(me);for(ge=0;ge<me;ge++)for(he=ge;he<me;he++){for(fe=0,xe=0;xe<ce;xe++)fe+=ae[xe]*(se[xe][he]-le[he])*(se[xe][ge]-le[ge]);pe[ge][he]=fe*de,pe[he][ge]=fe*de}}else if(1===ue){for(pe=Array(ce),ge=0;ge<ce;ge++)pe[ge]=Array(ce);for(ge=0;ge<ce;ge++)for(he=ge;he<ce;he++){for(fe=0,xe=0;xe<me;xe++)fe+=ae[xe]*(se[he][xe]-le[he])*(se[ge][xe]-le[ge]);pe[ge][he]=fe*de,pe[he][ge]=fe*de}}else throw new Error('Invalid dimension');return pe}var oe=D(118);I.exports={entropy:function(ae,le){'undefined'==typeof le&&(le=0);for(var de=0,ue=ae.length,ce=ae[0].length,me=0;me<ue;me++)for(var pe=0;pe<ce;pe++)de+=ae[me][pe]*Math.log(ae[me][pe]+le);return-de},mean:O,standardDeviation:E,variance:G,median:function(ae){for(var le=ae.length,de=ae[0].length,ue=Array(de),ce=0;ce<de;ce++){for(var me=Array(le),pe=0;pe<le;pe++)me[pe]=ae[pe][ce];me.sort();var ge=me.length;ue[ce]=0==ge%2?0.5*(me[ge/2]+me[ge/2-1]):me[Math.floor(ge/2)]}return ue},mode:function(ae){var le=ae.length,de=ae[0].length,ue=Array(de),ce,me;for(ce=0;ce<de;ce++){for(var pe=Array(le),ge=0;ge<le;ge++)pe[ge]=0;var he=Array(le),xe=0;for(me=0;me<le;me++){var fe=he.indexOf(ae[me][ce]);0<=fe?pe[fe]++:(he[xe]=ae[me][ce],pe[xe]=1,xe++)}var ye=0,je=0;for(me=0;me<xe;me++)pe[me]>ye&&(ye=pe[me],je=me);ue[ce]=he[je]}return ue},skewness:function(ae,le){'undefined'==typeof le&&(le=!0);for(var de=O(ae),ue=ae.length,ce=de.length,me=Array(ce),pe=0;pe<ce;pe++){for(var ge=0,he=0,xe=0;xe<ue;xe++){var fe=ae[xe][pe]-de[pe];ge+=fe*fe,he+=fe*fe*fe}var ye=ge/ue,je=he/ue,ke=je/Math.pow(ye,3/2);if(le){var we=Math.sqrt(ue*(ue-1));me[pe]=we/(ue-2)*ke}else me[pe]=ke}return me},kurtosis:function(ae,le){'undefined'==typeof le&&(le=!0);for(var de=O(ae),ue=ae.length,ce=ae[0].length,me=Array(ce),pe=0;pe<ce;pe++){for(var ge=0,he=0,xe=0;xe<ue;xe++){var fe=ae[xe][pe]-de[pe];ge+=fe*fe,he+=fe*fe*fe*fe}var ye=ge/ue,je=he/ue;if(le){var ke=ge/(ue-1),we=he/(ke*ke);me[pe]=ue*(ue+1)/((ue-1)*(ue-2)*(ue-3))*we-3*((ue-1)*(ue-1)/((ue-2)*(ue-3)))}else me[pe]=je/(ye*ye)-3}return me},standardError:function(ae){for(var le=ae.length,de=E(ae),ue=de.length,ce=Array(ue),me=Math.sqrt(le),pe=0;pe<ue;pe++)ce[pe]=de[pe]/me;return ce},covariance:function(ae,le){return Z(ae,void 0,le)},scatter:Z,correlation:function(ae){var le=O(ae),de=E(ae,!0,le),ue=$(ae,le,de),ce=ae.length,me=ae[0].length,pe,ge,he=Array(me);for(pe=0;pe<me;pe++)he[pe]=Array(me);for(pe=0;pe<me;pe++)for(ge=pe;ge<me;ge++){for(var xe=0,fe=0,ye=ue.length;fe<ye;fe++)xe+=ue[fe][ge]*ue[fe][pe];xe/=ce-1,he[pe][ge]=xe,he[ge][pe]=xe}return he},zScores:$,center:ee,standardize:te,weightedVariance:function(ae,le){var de=O(ae),ue=ae.length;if(0===ue)return[];for(var ce=ae[0].length,me=Array(ce),pe=0;pe<ce;pe++){for(var ge=0,he=0,xe=0,fe=0;fe<ue;fe++){var ye=ae[fe][pe]-de[pe],je=le[fe];ge+=je*(ye*ye),xe+=je,he+=je*je}me[pe]=ge*(xe/(xe*xe-he))}return me},weightedMean:ie,weightedCovariance:function(ae,le,de,ue){ue=ue||0,de=de||ie(ae,le,ue);for(var ce=0,me=0,pe=0,ge=le.length;pe<ge;pe++)ce+=le[pe],me+=le[pe]*le[pe];var he=ce/(ce*ce-me);return ne(ae,le,de,he,ue)},weightedScatter:ne}},function(module,exports,__webpack_require__){function fillTemplateFunction(I,R){for(var D in R)I=I.replace(new RegExp('%'+D+'%','g'),R[D]);return I}const HashTable=__webpack_require__(11);class I{constructor(R,D,O={}){if(R instanceof I){const $=R;return void this._init($.rows,$.columns,$.elements.clone(),$.threshold)}if(Array.isArray(R)){const $=R;R=$.length,O=D||{},D=$[0].length,this._init(R,D,new HashTable(O),O.threshold);for(var E=0;E<R;E++)for(var G=0;G<D;G++){var Z=$[E][G];this.threshold&&Math.abs(Z)<this.threshold&&(Z=0),0!==Z&&this.elements.set(E*D+G,$[E][G])}}else this._init(R,D,new HashTable(O),O.threshold)}_init(R,D,O,E){this.rows=R,this.columns=D,this.elements=O,this.threshold=E||0}static eye(R=1,D=R){const O=Math.min(R,D),E=new I(R,D,{initialCapacity:O});for(var G=0;G<O;G++)E.set(G,G,1);return E}clone(){return new I(this)}to2DArray(){const R=Array(this.rows);for(var D=0;D<this.rows;D++){R[D]=Array(this.columns);for(var O=0;O<this.columns;O++)R[D][O]=this.get(D,O)}return R}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var R=!0;return this.forEachNonZero((D,O,E)=>{return this.get(O,D)===E&&E}),R}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(R,D){return this.elements.get(R*this.columns+D)}set(R,D,O){return this.threshold&&Math.abs(O)<this.threshold&&(O=0),0===O?this.elements.remove(R*this.columns+D):this.elements.set(R*this.columns+D,O),this}mmul(R){this.columns!==R.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');const D=this.rows,O=R.columns,E=new I(D,O);return this.forEachNonZero((G,Z,$)=>{return R.forEachNonZero((ee,te,ie)=>{return Z===ee&&E.set(G,te,E.get(G,te)+$*ie),ie}),$}),E}kroneckerProduct(R){const D=this.rows,O=this.columns,E=R.rows,G=R.columns,Z=new I(D*E,O*G,{initialCapacity:this.cardinality*R.cardinality});return this.forEachNonZero(($,ee,te)=>{return R.forEachNonZero((ie,ne,oe)=>{return Z.set(E*$+ie,G*ee+ne,te*oe),oe}),te}),Z}forEachNonZero(R){return this.elements.forEachPair((D,O)=>{const E=0|D/this.columns,G=D%this.columns;let Z=R(E,G,O);return!1!==Z}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){const R=this.cardinality,D=Array(R),O=Array(R),E=Array(R);var G=0;return this.forEachNonZero((Z,$,ee)=>{return D[G]=Z,O[G]=$,E[G]=ee,G++,ee}),{rows:D,columns:O,values:E}}setThreshold(R){return 0!==R&&R!==this.threshold&&(this.threshold=R,this.forEachNonZero((D,O,E)=>E)),this}}I.prototype.klass='Matrix',I.identity=I.eye,I.prototype.tensorProduct=I.prototype.kroneckerProduct,module.exports=I;var inplaceOperator=`
	(function %name%(value) {
	    if (typeof value === 'number') return this.%name%S(value);
	    return this.%name%M(value);
	})
	`,inplaceOperatorScalar=`
	(function %name%S(value) {
	    this.forEachNonZero((i, j, v) => v %op% value);
	    return this;
	})
	`,inplaceOperatorMatrix=`
	(function %name%M(matrix) {
	    matrix.forEachNonZero((i, j, v) => {
	        this.set(i, j, this.get(i, j) %op% v);
	        return v;
	    });
	    return this;
	})
	`,staticOperator=`
	(function %name%(matrix, value) {
	    var newMatrix = new SparseMatrix(matrix);
	    return newMatrix.%name%(value);
	})
	`,inplaceMethod=`
	(function %name%() {
	    this.forEachNonZero((i, j, v) => %method%(v));
	    return this;
	})
	`,staticMethod=`
	(function %name%(matrix) {
	    var newMatrix = new SparseMatrix(matrix);
	    return newMatrix.%name%();
	})
	`,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var operator of operators)for(var i=1;i<operator.length;i++)I.prototype[operator[i]]=eval(fillTemplateFunction(inplaceOperator,{name:operator[i],op:operator[0]})),I.prototype[operator[i]+'S']=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[i]+'S',op:operator[0]})),I.prototype[operator[i]+'M']=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[i]+'M',op:operator[0]})),I[operator[i]]=eval(fillTemplateFunction(staticOperator,{name:operator[i]}));var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(I){methods.push(['Math.'+I,I])});for(var method of methods)for(var i=1;i<method.length;i++)I.prototype[method[i]]=eval(fillTemplateFunction(inplaceMethod,{name:method[i],method:method[0]})),I[method[i]]=eval(fillTemplateFunction(staticMethod,{name:method[i]}))},function(I,R,D){'use strict';function O(oe,se,ae){var le=se.length/3,pe=oe.rows,de,ue,ce,me,ge=ne.zeros(oe.length,1);for(ue=0;ue<le;ue++)for(me=Math.pow(se[ue+2*le][0]/2,2),de=se[ue+le][0]*me,ce=0;ce<pe;ce++)ge[ce][0]+=de/(Math.pow(oe[ce][0]-se[ue][0],2)+me);return ge}function E(oe,se,ae){for(var le=se[1][0]*Math.pow(se[2][0]/2,2),de=oe.rows,ue=new ne(oe.rows,oe.columns),ce=0;ce<de;ce++)ue[ce][0]=le/(Math.pow(oe[ce][0]-se[0][0],2)+Math.pow(se[2][0]/2,2));return ue}function G(oe,se,ae){for(var le=se[2][0]*se[2][0]/2,de=oe.rows,ue=new ne(oe.rows,oe.columns),ce=0;ce<de;ce++)ue[ce][0]=se[1][0]*Math.exp(-(oe[ce][0]-se[0][0])*(oe[ce][0]-se[0][0])/le);return ue}function Z(oe,se,ae){ae=ae||{};var le=ee(oe,ae.percentage||0);if(null===le||3>le[0].rows)return null;var de=le[0],ue=le[1],ce=le[2],me=de.rows,pe=[me/Math.sqrt(ue.dot(ue))],ae=Object.create(ae.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),ge=Math.abs(de[0][0]-de[1][0]),he=new ne([[-ge/10000],[-0.001],[-ge/10000]]),xe=new ne([[se.x],[1],[se.width]]),fe=new ne([[se.x-ge],[0.75],[se.width/4]]),ye=new ne([[se.x+ge],[1.25],[4*se.width]]),je=te.optimize(E,xe,de,ue,pe,he,fe,ye,[],ae);return je=je.p,[je[0],[je[1][0]*ce],je[2]]}function $(oe,se,ae){ae=ae||{};var le=ee(oe,ae.percentage||0);if(null===le||3>le[0].rows)return null;var de=le[0],ue=le[1],ce=le[2],me=de.rows,pe=[me/Math.sqrt(ue.dot(ue))],ae=Object.create(ae.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),ge=Math.abs(de[0][0]-de[1][0]),he=new ne([[-ge/10000],[-0.001],[-ge/10000]]),he=new ne([[-Math.abs(de[0][0]-de[1][0])/1000],[-0.001],[-se.width/1000]]),xe=new ne([[se.x],[1],[se.width]]),fe=new ne([[se.x-ge],[0.75],[se.width/4]]),ye=new ne([[se.x+ge],[1.25],[4*se.width]]),je=te.optimize(G,xe,de,ue,pe,he,fe,ye,[],ae);return je=je.p,[je[0],[je[1][0]*ce],je[2]]}function ee(oe,se){var ae=oe.length,le=null,de=null,ue,ce,me=0,pe;if(2==ae){var ge=oe[0].length;if(le=Array(ge),de=Array(ge),ue=oe[0],ce=oe[1],'number'==typeof ue[0])for(pe=0;pe<ge;pe++)le[pe]=ue[pe],de[pe]=ce[pe],ce[pe]>me&&(me=ce[pe]);else if('object'==typeof ue[0])for(pe=0;pe<ge;pe++)le[pe]=ue[pe][0],de[pe]=ce[pe][0],ce[pe][0]>me&&(me=ce[pe][0])}else{var ge=ae;for(le=Array(ge),de=Array(ge),pe=0;pe<ge;pe++)le[pe]=oe[pe][0],de[pe]=oe[pe][1],de[pe]>me&&(me=de[pe])}for(pe=0;pe<ge;pe++)de[pe]/=me;if(se)for(pe=ge-1;0<=pe;pe--)de[pe]<se&&(de.splice(pe,1),le.splice(pe,1));return 0<le.length?[new ne([le]).transpose(),new ne([de]).transpose(),me]:null}var te=D(122),ie=te.Matrix.algebra,ne=D(14);I.exports.optimizeSingleLorentzian=Z,I.exports.optimizeLorentzianSum=function(se,ae,le){var de=ee(se);if(null===de||3>de[0].rows)return null;var ue=de[0],ce=de[1],me=de[2],pe=ue.rows,ge,he=[pe/ie.sqrt(ce.dot(ce))],le=Object.create(le||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),xe=ae.length,fe=new ne(3*xe,1),ye=new ne(3*xe,1),je=new ne(3*xe,1),ke=new ne(3*xe,1),we=Math.abs(ue[0][0]-ue[1][0]);for(ge=0;ge<xe;ge++)fe[ge][0]=ae[ge].x,fe[ge+xe][0]=1,fe[ge+2*xe][0]=ae[ge].width,ye[ge][0]=ae[ge].x-we,ye[ge+xe][0]=0,ye[ge+2*xe][0]=ae[ge].width/4,je[ge][0]=ae[ge].x+we,je[ge+xe][0]=1.5,je[ge+2*xe][0]=4*ae[ge].width,ke[ge][0]=-we/1000,ke[ge+xe][0]=-0.001,ke[ge+2*xe][0]=-we/1000;var ke=-Math.abs(ue[0][0]-ue[1][0])/10000,be=te.optimize(O,fe,ue,ce,he,ke,ye,je,[],le);be=be.p;var ve=Array(xe);for(ge=0;ge<xe;ge++)ve[ge]=[be[ge],[be[ge+xe][0]*me],be[ge+2*xe]];return ve},I.exports.optimizeSingleGaussian=$,I.exports.optimizeGaussianSum=function(se,ae,le){var de=ee(se);if(null===de||3>de[0].rows)return null;var ue=de[0],ce=de[1],me=de[2],pe=ue.rows,ge,he=new ne(pe,1),xe=pe/ie.sqrt(ce.dot(ce));for(ge=0;ge<pe;ge++)he[ge][0]=xe;var le=Object.create(le||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,2]),fe=ae.length,ye=new ne(3*fe,1),je=new ne(3*fe,1),ke=new ne(3*fe,1),we=new ne(3*fe,1),be=Math.abs(ue[0][0]-ue[1][0]);for(ge=0;ge<fe;ge++)ye[ge][0]=ae[ge].x,ye[ge+fe][0]=ae[ge].y/me,ye[ge+2*fe][0]=ae[ge].width,je[ge][0]=ae[ge].x-be,je[ge+fe][0]=0.8*ae[ge].y/me,je[ge+2*fe][0]=ae[ge].width/2,ke[ge][0]=ae[ge].x+be,ke[ge+fe][0]=1.2*ae[ge].y/me,ke[ge+2*fe][0]=2*ae[ge].width,we[ge][0]=-be/1000,we[ge+fe][0]=-0.001,we[ge+2*fe][0]=-be/1000;var ve=te.optimize(O,ye,ue,ce,he,we,je,ke,[],le);ve=ve.p;var Se=Array(fe);for(ge=0;ge<fe;ge++)Se[ge]=[ve[ge],[ve[ge+fe][0]*me],ve[ge+2*fe]];return Se},I.exports.singleGaussian=G,I.exports.singleLorentzian=E,I.exports.optimizeGaussianTrain=function(se,ae,le){var de=ee(se);if(null===de||3>de[0].rows)return null;for(var ue=de[0],ce=de[1],me=de[2],pe=0,ge=ue.length,ye=[],ke=0,he,xe,fe,me,je;ke<ae.length;ke++){for(he=ae[ke].x-1.5*ae[ke].width;ue[pe++]<he&&pe<ge;);for(he=ae[ke].x+1.5*ae[ke].width,xe=[],fe=[];ue[pe]<=he&&pe<ge;)xe.push(ue[pe][0]),fe.push(ce[pe][0]*me),pe++;je=$([xe,fe],ae[ke],le),je?ye.push({x:je[0][0],y:je[1][0],width:je[2][0],opt:!0}):ye.push({x:ae[ke].x,y:ae[ke].y,width:ae[ke].width,opt:!1})}return ye},I.exports.optimizeLorentzianTrain=function(se,ae,le){var de=ee(se);if(null===de||3>de[0].rows)return null;for(var ue=de[0],ce=de[1],me=de[2],pe=0,ge=ue.length,ye=[],ke=0,he,xe,fe,me,je;ke<ae.length;ke++){for(he=ae[ke].x-1.5*ae[ke].width;ue[pe++]<he&&pe<ge;);for(he=ae[ke].x+1.5*ae[ke].width,xe=[],fe=[];ue[pe]<=he&&pe<ge;)xe.push(ue[pe][0]),fe.push(ce[pe][0]*me),pe++;je=Z([xe,fe],ae[ke],le),je?ye.push({x:je[0][0],y:je[1][0],width:je[2][0],opt:!0}):ye.push({x:ae[ke].x,y:ae[ke].y,width:ae[ke].width,opt:!1})}return ye}},function(I,R,D){'use strict';I.exports=D(123),I.exports.Matrix=D(14),I.exports.Matrix.algebra=D(124)},function(I,R,D){var O=D(14),E=D(124);I.exports={optimize:function(G,Z,$,ee,te,ie,ne,oe,se,ae){var le=0,de=0;if('object'!=typeof Z[0])for(var ue=0;ue<Z.length;ue++)Z[ue]=[Z[ue]];var me=-50,pe=Z.length,ge=ee.length,he=O.zeros(pe,1),xe=O.zeros(ge,1),fe=0.01/me,ye=0.01/me,je=O.zeros(ge,pe),ue,ce;if($.length!=ee.length){console.log('lm.m error: the length of t must equal the length of y_dat'),length_t=$.length,length_y_dat=ee.length;var fe=0;return}te=te||Math.sqrt((ge-pe+1)/E.multiply(E.transpose(ee),ee)),ie=ie||0.001,ne=ne||E.multiply(Math.abs(Z),-100),oe=oe||E.multiply(Math.abs(Z),100),se=se||1,ae=ae||[3,10*pe,0.001,0.001,0.001,0.01,0.01,11,9,1];var ke=ae[0],we=ae[1],be=ae[2];ae[3],ae[4];var ve=ae[5],Se=ae[6],Me=ae[7],ze=ae[8],qe=ae[9];if(!ie.length||1==ie.length){for(var Ce=Array(pe),ue=0;ue<pe;ue++)Ce[ue]=[ie];ie=Ce}var Ie=[];for(ue=0;ue<ie.length;ue++)0!=ie[ue][0]&&Ie.push(ue);var Re=Ie.length,De=!1,Ve=null;if(!te.length||te.length<ge){var Pe=E.multiply(O.ones(ge,1),te[0]);Ve=E.dotMultiply(Pe,Pe)}else Ve=E.dotMultiply(te,te);var Ae=this.lm_matx(G,$,he,xe,1,je,Z,ee,Ve,ie,se),Ne=Ae.JtWJ,_e=Ae.JtWdy,fe=Ae.Chi_sq,Oe=Ae.y_hat,je=Ae.J;Math.max(Math.abs(_e))<be&&(console.log(' *** Your Initial Guess is Extremely Close to Optimal ***'),console.log(' *** epsilon_1 = ',be),De=!0),1===qe?lambda=Se:(lambda=Se*Math.max(E.diag(Ne)),nu=2),ye=fe;for(var Le=null;!De&&de<=we;){de=de+1,Le=1===qe?E.solve(E.add(Ne,E.multiply(E.diag(E.diag(Ne)),lambda)),_e):E.solve(E.add(Ne,E.multiply(O.eye(pe),lambda)),_e);var Fe=Array(Ie.length);for(ce=0;ce<Ie.length;ce++)Fe[ce]=Le[Ie[ce]];var Te=E.add(Z,Fe);for(ce=0;ce<Te.length;ce++)Te[ce][0]=Math.min(Math.max(ne[ce][0],Te[ce][0]),oe[ce][0]);var Xe=E.subtract(ee,G($,Te,se)),Ue=E.multiply(E.transpose(Xe),E.dotMultiply(Xe,Ve));if(2==qe){var We=E.multiply(E.transpose(_e),Le),Ee=E.multiply(We,E.inv(E.add(E.multiply(E.subtract(Ue-fe),1/2)),E.multiply(We,2)));Le=E.multiply(Ee,Le);for(var ce=0;ce<Ie.length;ce++)Fe[ce]=Le[Ie[ce]];Te=E.add(Z,Fe),Te=E.min(E.max(ne,Te),oe),Xe=E.subtract(ee,G($,Te,se)),Ue=E.multiply(E.transpose(Xe),mat.dotMultiply(Xe,Ve))}var Be=(fe-Ue)/E.multiply(E.multiply(E.transpose(Le),2),E.add(E.multiply(lambda,Le),_e));Be>ve?(dX2=fe-ye,ye=fe,he=Z,xe=Oe,Z=Te,Ae=this.lm_matx(G,$,he,xe,dX2,je,Z,ee,Ve,ie,se),Ne=Ae.JtWJ,_e=Ae.JtWdy,fe=Ae.Chi_sq,Oe=Ae.y_hat,je=Ae.J,1===qe?lambda=Math.max(lambda/ze,1e-7):2===qe?lambda=Math.max(lambda/(1+Ee),1e-7):3===qe?(lambda=E.multiply(Math.max(1/3,3^1-(2*Be-1)),lambda),nu=2):void 0):(fe=ye,0==de%(2*pe)&&(Ae=this.lm_matx(G,$,he,xe,-1,je,Z,ee,Ve,ie,se),Ne=Ae.JtWJ,_e=Ae.JtWdy,dX2=Ae.Chi_sq,Oe=Ae.y_hat,je=Ae.J),1===qe?lambda=Math.min(lambda*Me,10000000):2===qe?lambda=lambda+Math.abs((Ue-fe)/2/Ee):3===qe?(lambda=lambda*nu,nu=2*nu):void 0)}return Ve=E.multiply(E.multiply(E.transpose(Xe),Xe),O.ones(ge,1)),Ve.apply(function(Je,Ye){Ve[Je][Ye]=(ge-Re+1)/Ve[Je][Ye]}),Ae=this.lm_matx(G,$,he,xe,-1,je,Z,ee,Ve,ie,se),Ne=Ae.JtWJ,_e=Ae.JtWdy,fe=Ae.Chi_sq,Oe=Ae.y_hat,je=Ae.J,{p:Z,X2:fe}},lm_FD_J:function(G,Z,$,ee,te,ie){var ne=ee.length,oe=$.length;te=te||E.multiply(O.ones(oe,1),0.001);for(var se=$.clone(),ae=new O(ne,oe),le=Array(oe),de=0;de<oe;de++){if(le[de]=te[de]*(1+Math.abs($[de][0])),$[de]=[se[de][0]+le[de]],0!=le[de])if(y1=G(Z,$,ie),0>te[de][0])for(var ue=E.dotDivide(E.subtract(y1,ee),le[de]),ce=0;ce<ne;ce++)ae[ce][de]=ue[ce][0];else{$[de][0]=se[de][0]-le[de];for(var ue=E.dotDivide(E.subtract(y1,G(Z,$,ie)),2*le[de]),ce=0;ce<ne;ce++)ae[ce][de]=ue[ce][0]}$[de]=se[de]}return ae},lm_Broyden_J:function(G,Z,$,ee,te){var ie=E.subtract(ee,G),ne=E.transpose(ie);return ne.div(E.multiply(ne,ie)),$=E.add($,E.multiply(E.subtract(te,E.add(Z,E.multiply($,ie))),ne)),$},lm_matx:function(G,Z,$,ee,te,ie,ne,oe,se,ae,le,de){oe.length;var ue=ne.length;ae=ae||0.001;var ce=G(Z,ne,le);ie=0==de%(2*ue)||0<te?this.lm_FD_J(G,Z,ne,ce,ae,le):this.lm_Broyden_J($,ee,ie,ne,ce);var me=E.subtract(oe,ce),pe=E.multiply(E.transpose(me),E.dotMultiply(me,se)),ge=E.transpose(ie),he=E.multiply(ge,E.dotMultiply(ie,E.multiply(se,O.ones(1,ue)))),xe=E.multiply(ge,E.dotMultiply(se,me));return{JtWJ:he,JtWdy:xe,Chi_sq:pe,y_hat:ce,J:ie}}}},function(I,R,D){'use strict';var O=D(14);I.exports={transpose:function(G){if('number'==typeof G)return G;var Z=G.clone();return Z.transpose()},add:function(G,Z){if('number'==typeof G&&'number'==typeof Z)return G+Z;if('number'==typeof G)return this.add(Z,G);var $=G.clone();return $.add(Z)},subtract:function(G,Z){if('number'==typeof G&&'number'==typeof Z)return G-Z;if('number'==typeof G)return this.subtract(Z,G);var $=G.clone();return $.sub(Z)},multiply:function(G,Z){if('number'==typeof G&&'number'==typeof Z)return G*Z;if('number'==typeof G)return this.multiply(Z,G);var $=G.clone();return'number'==typeof Z?$.mul(Z):$=$.mmul(Z),1==$.rows&&1==$.columns?$[0][0]:$},dotMultiply:function(G,Z){var $=G.clone();return $.mul(Z)},dotDivide:function(G,Z){var $=G.clone();return $.div(Z)},diag:function(G){var E=null,Z=G.rows,$=G.columns,ee,te;if('undefined'==typeof $&&'object'==typeof G)if(G[0]&&G[0].length)for(Z=G.length,$=G[0].length,te=Math.min(Z,$),E=O.zeros($,$),ee=0;ee<$;ee++)E[ee][ee]=G[ee][ee];else for($=G.length,E=O.zeros($,$),ee=0;ee<$;ee++)E[ee][ee]=G[ee];if(1==Z)for(E=O.zeros($,$),ee=0;ee<$;ee++)E[ee][ee]=G[0][ee];else if(0<Z&&0<$)for(te=Math.min(Z,$),E=Array(te),ee=0;ee<te;ee++)E[ee]=G[ee][ee];return E},min:function(G,Z){if('number'==typeof G&&'number'==typeof Z)return Math.min(G,Z);for(var $=G.rows,ee=G.columns,te=new O($,ee),ie=0;ie<$;ie++)for(var ne=0;ne<ee;ne++)te[ie][ne]=G[ie][ne]<Z[ie][ne]?G[ie][ne]:Z[ie][ne];return te},max:function(G,Z){if('number'==typeof G&&'number'==typeof Z)return Math.max(G,Z);for(var $=G.rows,ee=G.columns,te=new O($,ee),ie=0;ie<$;ie++)for(var ne=0;ne<ee;ne++)te[ie][ne]=G[ie][ne]>Z[ie][ne]?G[ie][ne]:Z[ie][ne];return te},solve:function(G,Z){return G.solve(Z)},inv:function(G){return'number'==typeof G?1/G:G.inverse()},sqrt:function(G){if('number'==typeof G)return Math.sqrt(G);for(var Z=G.rows,$=G.columns,ee=new O(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=Math.sqrt(G[te][ie]);return ee},exp:function(G){if('number'==typeof G)return Math.sqrt(G);for(var Z=G.rows,$=G.columns,ee=new O(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=Math.exp(G[te][ie]);return ee},dotPow:function(G,Z){if('number'==typeof G)return Math.pow(G,Z);for(var $=G.rows,ee=G.columns,te=new O($,ee),ie=0;ie<$;ie++)for(var ne=0;ne<ee;ne++)te[ie][ne]=Math.pow(G[ie][ne],Z);return te},abs:function(G){if('number'==typeof G)return Math.abs(G);for(var Z=G.rows,$=G.columns,ee=new O(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=Math.abs(G[te][ie]);return ee},matrix:function(G,Z){return new O(G,Z)},ones:function(G,Z){return O.ones(G,Z)},zeros:function(G,Z){return O.zeros(G,Z)},random:function(G,Z){return O.rand(G,Z)},eye:function(G,Z){return O.eye(G,Z)}}},function(I,R,D){'use strict';const O=D(14),E=O.DC.EVD,G=O.DC.SVD,Z=D(3).matrix,$=Z.mean,ee=Z.standardDeviation,te={isCovarianceMatrix:!1,center:!0,scale:!1};class ne{constructor(oe,se){if(!0===oe){const ue=se;return this.center=ue.center,this.scale=ue.scale,this.means=ue.means,this.stdevs=ue.stdevs,this.U=O.checkMatrix(ue.U),void(this.S=ue.S)}if(se=Object.assign({},te,se),this.center=!1,this.scale=!1,this.means=null,this.stdevs=null,se.isCovarianceMatrix)return void this._computeFromCovarianceMatrix(oe);var ae;if(ae='boolean'==typeof se.useCovarianceMatrix?se.useCovarianceMatrix:oe.length>oe[0].length,ae){oe=this._adjust(oe,se);const ue=oe.transposeView().mmul(oe).div(oe.rows-1);this._computeFromCovarianceMatrix(ue)}else{oe=this._adjust(oe,se);var le=new G(oe,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=le.rightSingularVectors;const ue=le.diagonal,ce=Array(ue.length);for(var de=0;de<ue.length;de++)ce[de]=ue[de]*ue[de]/(oe.length-1);this.S=ce}}static load(oe){if('PCA'!==oe.name)throw new RangeError('Invalid model: '+oe.name);return new ne(!0,oe)}predict(oe){return oe=new O(oe),this.center&&(oe.subRowVector(this.means),this.scale&&oe.divRowVector(this.stdevs)),oe.mmul(this.U)}getExplainedVariance(){for(var oe=0,se=0;se<this.S.length;se++)oe+=this.S[se];return this.S.map(ae=>ae/oe)}getCumulativeVariance(){for(var oe=this.getExplainedVariance(),se=1;se<oe.length;se++)oe[se]+=oe[se-1];return oe}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(oe=>Math.sqrt(oe))}getLoadings(){return this.U.transpose()}toJSON(){return{name:'PCA',center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S}}_adjust(oe,se){if(this.center=!!se.center,this.scale=!!se.scale,oe=new O(oe),this.center){const le=$(oe),de=this.scale?ee(oe,le,!0):null;if(this.means=le,oe.subRowVector(le),this.scale){for(var ae=0;ae<de.length;ae++)if(0===de[ae])throw new RangeError('Cannot scale the dataset (standard deviation is zero at index '+ae);this.stdevs=de,oe.divRowVector(de)}}return oe}_computeFromCovarianceMatrix(oe){const se=new E(oe,{assumeSymmetric:!0});this.U=se.eigenvectorMatrix;for(var ae=0;ae<this.U.length;ae++)this.U[ae].reverse();this.S=se.realEigenvalues.reverse()}}I.exports=ne},function(I,R,D){'use strict';const O=D(127);class G{constructor(Z,$,ee){if(ee=ee||{},Z.length!==$.length||Z[0].length!==$[0].length)throw new Error('dimensions of prediction and target do not match');const te=Z.length,ie=Z[0].length,ne=!ee.max,oe=[];if(ee.all)for(var se=0;se<te;se++)for(var ae=0;ae<ie;ae++)oe.push({pred:Z[se][ae],targ:$[se][ae]});else{if(3>te||te!==ie)throw new Error('When "all" option is false, the prediction matrix must be square and have at least 3 columns');for(var se=0;se<te-1;se++)for(var ae=se+1;ae<ie;ae++)oe.push({pred:Z[se][ae],targ:$[se][ae]})}ne?oe.sort((we,be)=>we.pred-be.pred):oe.sort((we,be)=>be.pred-we.pred);const le=this.cutoffs=[ne?Number.MIN_VALUE:Number.MAX_VALUE],de=this.fp=[0],ue=this.tp=[0];for(var ce=0,me=0,pe=oe[0].pred,ge=0,he=0,se=0;se<oe.length;se++)oe[se].pred!==pe&&(le.push(pe),de.push(he),ue.push(ge),pe=oe[se].pred),oe[se].targ?(ce++,ge++):(me++,he++);le.push(pe),de.push(he),ue.push(ge);const xe=le.length,fe=this.fn=Array(xe),ye=this.tn=Array(xe),je=this.nPosPred=Array(xe),ke=this.nNegPred=Array(xe);for(var se=0;se<xe;se++)fe[se]=ce-ue[se],ye[se]=me-de[se],je[se]=ue[se]+de[se],ke[se]=ye[se]+fe[se];this.nPos=ce,this.nNeg=me,this.nSamples=ce+me}getMeasure(Z){if('string'!=typeof Z)throw new Error('No measure specified');if(!O[Z])throw new Error(`The specified measure (${Z}) does not exist`);return O[Z](this)}getAURC(){const Z=this.cutoffs.length,$=Array(Z),ee=Array(Z);for(var te=0;te<Z;te++)$[te]=this.fp[te]/this.nNeg,ee[te]=this.tp[te]/this.nPos;var ie=0;for(te=1;te<Z;te++)ie+=0.5*($[te]-$[te-1])*(ee[te]+ee[te-1]);return ie}getAUDC(){const Z=this.cutoffs.length,$=Array(Z),ee=Array(Z);for(var te=0;te<Z;te++)$[te]=this.fn[te]/this.nPos,ee[te]=this.fp[te]/this.nNeg;var ie=0;for(te=1;te<Z;te++)ie+=0.5*($[te]+$[te-1])*(ee[te]-ee[te-1]);return ie}getDistribution(Z){Z=Z||{};for(var $=this.cutoffs.length,ee=Z.xMin||Math.floor(100*this.cutoffs[$-1])/100,te=Z.xMax||Math.ceil(100*this.cutoffs[1])/100,ie=Z.interval||Math.floor(10000000*((te-ee)/20)-1)/10000000,ne=[],oe=[],se=[],ae=[],le=[],de=this.tp[$-1],ue=0,ce=this.fp[$-1],me=0,pe=ee,ge=$-1;pe<=te;pe+=ie){for(;this.cutoffs[ge]<pe;)ge--;ne.push(pe);var he=de-ue-this.tp[ge],xe=ce-me-this.fp[ge];ue+=he,me+=xe,oe.push(xe),se.push(he),ae.push(100-100*((ce-this.fp[ge])/ce)),le.push(100-100*((de-this.tp[ge])/de))}return{xLabels:ne,interValues:oe,intraValues:se,interCumPercent:ae,intraCumPercent:le}}}G.names={acc:'Accuracy',err:'Error rate',fpr:'False positive rate',tpr:'True positive rate',fnr:'False negative rate',tnr:'True negative rate',ppv:'Positive predictive value',npv:'Negative predictive value',pcfall:'Prediction-conditioned fallout',pcmiss:'Prediction-conditioned miss',lift:'Lift value',rpp:'Rate of positive predictions',rnp:'Rate of negative predictions',threshold:'Threshold'},I.exports=G},function(I,R){'use strict';R.acc=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=(D.tn[G]+D.tp[G])/(O-1);return E},R.err=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.fn[G]+D.fp[G]/(O-1);return E},R.fpr=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.fp[G]/D.nNeg;return E},R.tpr=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.tp[G]/D.nPos;return E},R.fnr=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.fn[G]/D.nPos;return E},R.tnr=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.tn[G]/D.nNeg;return E},R.ppv=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=0===D.fp[G]+D.tp[G]?0:D.tp[G]/(D.fp[G]+D.tp[G]);return E},R.npv=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=0===D.fn[G]+D.tn[G]?0:D.tn[G]/(D.fn[G]+D.tn[G]);return E},R.pcfall=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=0===D.fp[G]+D.tp[G]?1:1-D.tp[G]/(D.fp[G]+D.tp[G]);return E},R.pcmiss=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=0===D.fn[G]+D.tn[G]?1:1-D.tn[G]/(D.fn[G]+D.tn[G]);return E},R.lift=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=0===D.nPosPred[G]?0:D.tp[G]/D.nPos/(D.nPosPred[G]/D.nSamples);return E},R.rpp=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.nPosPred[G]/D.nSamples;return E},R.rnp=D=>{const O=D.cutoffs.length,E=Array(O);for(var G=0;G<O;G++)E[G]=D.nNegPred[G]/D.nSamples;return E},R.threshold=D=>{const O=D.cutoffs.slice();return O[0]=O[1],O}},function(I,R){'use strict';function D(te,ie){if(!(te instanceof ie))throw new TypeError('Cannot call a class as a function')}function O(te,ie){te>>>=0,ie>>>=0;var ne=65535&te,oe=te-ne;return(oe*ie>>>0)+ne*ie>>>0}function E(te){0===te.state[0]&&0===te.state[1]&&0===te.state[2]&&0===te.state[3]&&(te.state[0]=88,te.state[1]=83,te.state[2]=65,te.state[3]=68)}function G(te){var ie=te.state[0];ie^=ie<<15,ie^=ie>>>18,ie^=te.state[3]<<11,te.state[0]=te.state[1],te.state[1]=te.state[2],te.state[2]=te.state[3],te.state[3]=ie}Object.defineProperty(R,'__esModule',{value:!0});var Z=function(){function te(ie,ne){for(var oe=0;oe<ne.length;oe++){var se=ne[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,'value'in se&&(se.writable=!0),Object.defineProperty(ie,se.key,se)}}return function(ie,ne,oe){return ne&&te(ie.prototype,ne),oe&&te(ie,oe),ie}}(),$=8,ee=function(){function te(){var ie=0>=arguments.length||void 0===arguments[0]?Date.now():arguments[0];D(this,te),this.state=new Uint32Array(4),this.init(ie)}return Z(te,[{key:'init',value:function(ne){this.state[0]=ne,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(var oe=1;oe<$;oe++)this.state[3&oe]^=oe+O(1812433253,this.state[3&oe-1]^this.state[3&oe-1]>>>30>>>0)>>>0;E(this);for(var oe=0;oe<$;oe++)G(this)}},{key:'getUint32',value:function(){return G(this),this.state[3]+this.state[2]>>>0}},{key:'getFloat',value:function(){return(this.getUint32()>>>8)*(1/16777216)}},{key:'random',get:function(){return this._random||(this._random=this.getFloat.bind(this)),this._random}}]),te}();R['default']=ee,I.exports=R['default']},function(I,R,D){'use strict';function O(ie,ne){if(ie.length!==ne.length)throw new Error('features and labels should have the same length')}function E(ie,ne){return Array(ie).fill(0).map(()=>Array(ne).fill(0))}function G(ie){var ne=new Set;for(let oe=0;oe<ie.length;oe++)ne.add(ie[oe]);return Array.from(ne)}function Z(ie,ne,oe,se,ae,le,de,ue){var ce=ae.map(function(ye){return ne[ye]}),me=le.map(function(ye){return ne[ye]}),pe=ae.map(function(ye){return oe[ye]}),ge=le.map(function(ye){return oe[ye]}),he=new ie(se);he.train(me,ge);for(var xe=he.predict(ce),fe=0;fe<xe.length;fe++)de[ue.indexOf(pe[fe])][ue.indexOf(xe[fe])]++}const $=D(130),ee={},te=D(131);ee.leaveOneOut=function(ie,ne,oe,se){return ee.leavePOut(ie,ne,oe,se,1)},ee.leavePOut=function(ie,ne,oe,se,ae){O(ne,oe);const le=G(oe),de=E(le.length,le.length);var ce=ne.length,ue,me=te(ae,ce),pe=Array(ce);for(ue=0;ue<ce;ue++)pe[ue]=ue;for(const he of me){var ge=pe.slice();for(ue=he.length-1;0<=ue;ue--)ge.splice(he[ue],1);Z(ie,ne,oe,se,he,ge,de,le)}return new $(de,le)},ee.kFold=function(ie,ne,oe,se,ae){O(ne,oe);const le=G(oe),de=E(le.length,le.length);for(var ue=ne.length,ce=Array(ue),me=0;me<ue;me++)ce[me]=me;for(var pe=Math.floor(ue/ae),ge=[],he=[];ce.length;){var xe=Math.floor(Math.random()*ce.length);ge.push(ce[xe]),ce.splice(xe,1),ge.length===pe&&(he.push(ge),ge=[])}for(ge.length&&he.push(ge),he=he.slice(0,ae),me=0;me<he.length;me++){for(var fe=he[me],ye=[],je=0;je<he.length;je++)je!==me&&(ye=ye.concat(he[je]));Z(ie,ne,oe,se,fe,ye,de,le)}return new $(de,le)},I.exports=ee},function(I,R){'use strict';class O{constructor(E,G){if(E.length!==E[0].length)throw new Error('Confusion matrix must be square');if(G.length!==E.length)throw new Error('Confusion matrix and labels should have the same length');this.labels=G,this.matrix=E}get accuracy(){for(var E=0,G=0,Z=0;Z<this.matrix.length;Z++)for(var $=0;$<this.matrix.length;$++)Z===$?E+=this.matrix[Z][$]:G+=this.matrix[Z][$];return E/(E+G)}get nbPredicted(){for(var E=0,G=0;G<this.matrix.length;G++)for(var Z=0;Z<this.matrix.length;Z++)E+=this.matrix[G][Z];return E}}I.exports=O},function(I,R){'use strict';const D={mode:'index'};I.exports=function*(O,E,G){function Z(){var le,de,ue;for(de=1;0>=ie[de];)de++;if(0===ie[de-1]){for(le=de-1;1!==le;le--)ie[le]=-1;ie[de]=0,ne=se=0,ie[1]=1,oe=de-1}else{1<de&&(ie[de-1]=0);do de++;while(0<ie[de]);for(ue=de-1,le=de;0===ie[le];)ie[le++]=-1;if(-1===ie[le])ie[le]=ie[ue],se=ie[ue]-1,ne=le-1,oe=ue-1,ie[ue]=-1;else{if(le===ie[0])return 0;ie[de]=ie[le],se=ie[le]-1,ie[le]=0,ne=de-1,oe=le-1}}return 1}G=Object.assign({},D,G);for(var $=Array(E),ee=Array(O),te=Array(E),ie=Array(E+2),ae=0,ne,oe,se;ae<E;ae++)$[ae]=ae,te[ae]=ae<E-O?0:1;for(ae=0;ae<O;ae++)ee[ae]=E-O+ae;for(ae=0;ae<ie.length;ae++)ie[ae]=0===ae?E+1:ae<=E-O?0:ae<=E?ae-E+O:-2;if('index'===G.mode)for(yield ee.slice();Z();)ee[se]=$[ne],yield ee.slice();else if('mask'===G.mode)for(yield te.slice();Z();)te[ne]=1,te[oe]=0,yield te.slice();else throw new Error('Invalid mode')}},function(I,R,D){'use strict';function O($){this.options=Object.assign({},Z,$),this.kernel=new E(this.options.kernel,this.options.kernelOptions),this.b=0}const E=D(45),G=D(3).array;var Z={C:1,tol:0.0001,maxPasses:10,maxIterations:10000,kernel:'linear',alphaTol:0.000001,random:Math.random,whitening:!0};O.prototype.train=function($,ee){if($.length!==ee.length)throw new Error('Features and labels should have the same length');if(2>$.length)throw new Error('Cannot train with less than 2 observations');if(this._trained=!1,this._loaded=!1,this.N=ee.length,this.D=$[0].length,this.options.whitening){this.X=Array(this.N);for(var te=0;te<this.N;te++)this.X[te]=Array(this.D);this.minMax=Array(this.D);for(var ie=0;ie<this.D;ie++){var ne=Array(this.N);for(te=0;te<this.N;te++)ne[te]=$[te][ie];for(this.minMax[ie]=G.minMax(ne),te=0;te<this.N;te++)this.X[te][ie]=($[te][ie]-this.minMax[ie].min)/(this.minMax[ie].max-this.minMax[ie].min)}}else this.X=$;this.Y=ee,this.b=0,this.W=void 0;var oe=this.kernel.compute(this.X),se=ee.length,ae=Array(se).fill(0);this.alphas=ae;for(var le=0;le<se;le++)ae[le]=0;for(var de=0,ue=0,ce=0,me=0,pe=0,ge=0,he=0,xe=0,fe=0,ye=0,je=0;me<this.options.maxPasses&&ce<this.options.maxIterations;){var ke=0;for(te=0;te<se;te++)if(pe=this._marginOnePrecomputed(te,oe)-ee[te],ee[te]*pe<-this.options.tol&&ae[te]<this.options.C||ee[te]*pe>this.options.tol&&0<ae[te]){for(ie=te;ie===te;)ie=Math.floor(this.options.random()*se);if(ge=this._marginOnePrecomputed(ie,oe)-ee[ie],he=ae[te],xe=ae[ie],ee[te]===ee[ie]?(fe=Math.max(0,he+xe-this.options.C),ye=Math.min(this.options.C,he+xe)):(fe=Math.max(0,xe-he),ye=Math.min(this.options.C,this.options.C+xe+he)),0.0001>Math.abs(fe-ye))continue;if(je=2*oe[te][ie]-oe[te][te]-oe[ie][ie],0<=je)continue;var we=ae[ie]-ee[ie]*(pe-ge)/je;if(we>ye?we=ye:we<fe&&(we=fe),0.001>Math.abs(xe-we))continue;ae[ie]=we,ae[te]=ae[te]+ee[te]*ee[ie]*(xe-we),de=this.b-pe-ee[te]*(ae[te]-he)*oe[te][te]-ee[ie]*(ae[ie]-xe)*oe[te][ie],ue=this.b-ge-ee[te]*(ae[te]-he)*oe[te][ie]-ee[ie]*(ae[ie]-xe)*oe[ie][ie],this.b=(de+ue)/2,ae[te]<this.options.C&&0<ae[te]&&(this.b=de),ae[ie]<this.options.C&&0<ae[ie]&&(this.b=ue),ke+=1}ce++,0==ke?me+=1:me=0}if(ce===this.options.maxIterations)throw new Error('max iterations reached');if(this.iterations=ce,'linear'===this.options.kernel){this.W=Array(this.D);for(var be=0;be<this.D;be++){this.W[be]=0;for(var ve=0;ve<se;ve++)this.W[be]+=ee[ve]*ae[ve]*this.X[ve][be]}}var Se=[],Me=[],ze=[];for(this._supportVectorIdx=[],te=0;te<this.N;te++)this.alphas[te]>this.options.alphaTol&&(Se.push(this.X[te]),Me.push(ee[te]),ze.push(this.alphas[te]),this._supportVectorIdx.push(te));this.X=Se,this.Y=Me,this.N=Se.length,this.alphas=ze,this._trained=!0},O.prototype.predictOne=function($){var ee=this.marginOne($);return 0<ee?1:-1},O.prototype.predict=function($){if(!this._trained&&!this._loaded)throw new Error('Cannot predict, you need to train the SVM first');return Array.isArray($)&&Array.isArray($[0])?$.map(this.predictOne.bind(this)):this.predictOne($)},O.prototype.marginOne=function($,ee){this.options.whitening&&!ee&&($=this._applyWhitening($));var te=this.b,ie;if('linear'===this.options.kernel&&this.W)for(ie=0;ie<this.W.length;ie++)te+=this.W[ie]*$[ie];else for(ie=0;ie<this.N;ie++)te+=this.alphas[ie]*this.Y[ie]*this.kernel.compute([$],[this.X[ie]])[0][0];return te},O.prototype._marginOnePrecomputed=function($,ee){var te=this.b,ie;for(ie=0;ie<this.N;ie++)te+=this.alphas[ie]*this.Y[ie]*ee[$][ie];return te},O.prototype.margin=function($){return Array.isArray($)?$.map(this.marginOne.bind(this)):this.marginOne($)},O.prototype.supportVectors=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot get support vectors, you need to train the SVM first');if(this._loaded&&'linear'===this.options.kernel)throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');return this._supportVectorIdx},O.load=function($){this._loaded=!0,this._trained=!1;var ee=new O($.options);return'linear'===$.options.kernel?(ee.W=$.W.slice(),ee.D=ee.W.length):(ee.X=$.X.slice(),ee.Y=$.Y.slice(),ee.alphas=$.alphas.slice(),ee.N=ee.X.length,ee.D=ee.X[0].length),ee.minMax=$.minMax,ee.b=$.b,ee._loaded=!0,ee._trained=!1,ee},O.prototype.toJSON=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot export, you need to train the SVM first');var $={};return $.options=Object.assign({},this.options),$.b=this.b,$.minMax=this.minMax,'linear'===$.options.kernel?$.W=this.W.slice():($.X=this.X.slice(),$.Y=this.Y.slice(),$.alphas=this.alphas.slice()),$},O.prototype._applyWhitening=function($){if(!this.minMax)throw new Error('Could not apply whitening');for(var ee=Array($.length),te=0;te<$.length;te++)ee[te]=($[te]-this.minMax[te].min)/(this.minMax[te].max-this.minMax[te].min);return ee},I.exports=O},function(I,R,D){'use strict';I.exports=D(134)},function(I,R,D){'use strict';function O(Z,$){Z&&(this.kdtree=$.kdtree,this.k=$.k,this.classes=$.classes)}I.exports=O;var E=D(135).kdTree,G=D(59);O.prototype.train=function(Z,$,ee){ee===void 0&&(ee={}),ee.distance===void 0&&(ee.distance=G.distance.euclidean),ee.k===void 0&&(ee.k=Z[0].length+1);for(var te=0,ie=Array(1000),ne=0,oe=0;oe<$.length;++oe)-1===ie.indexOf($[oe])&&(te++,ie[ne]=$[oe],ne++);var se=Array(Z.length);for(oe=0;oe<se.length;++oe)se[oe]=Z[oe].slice();for(this.features=Z[0].length,oe=0;oe<$.length;++oe)se[oe].push($[oe]);var ae=Array(Z[0].length);for(oe=0;oe<ae.length;++oe)ae[oe]=oe;this.kdtree=new E(se,ee.distance,ae),this.k=ee.k,this.classes=te},O.prototype.predict=function(Z){for(var $=Array(Z.length),ee=0;ee<Z.length;++ee)$[ee]=this.getSinglePrediction(Z[ee]);return $},O.prototype.getSinglePrediction=function(Z){for(var $=this.kdtree.nearest(Z,this.k),ee=Array(this.classes),te=-1,ie=-1,ne=$[0][0].length-1,oe=0;oe<ee.length;++oe)ee[oe]=0;for(oe=0;oe<$.length;++oe){var se=$[oe][0][ne],ae=++ee[se];ae>ie&&(te=se,ie=ae)}return te},O.load=function(Z){if('KNN'!==Z.modelName)throw new RangeError('The given model is invalid!');return new O(!0,Z)},O.prototype.export=function(){return{modelName:'KNN',kdtree:this.kdtree,k:this.k,classes:this.classes}}},function(I,R){'use strict';/**
	* k-d Tree JavaScript - V 1.01
	*
	* https://github.com/ubilabs/kd-tree-javascript
	*
	* @author Mircea Pricop <pricop@ubilabs.net>, 2012
	* @author Martin Kleppe <kleppe@ubilabs.net>, 2012
	* @author Ubilabs http://ubilabs.net, 2012
	* @license MIT License <http://www.opensource.org/licenses/mit-license.php>
	*/function D(G,Z,$){this.obj=G,this.left=null,this.right=null,this.parent=$,this.dimension=Z}function O(G,Z,$){function ee(ie,ne,oe){var se=ne%$.length,ae,le;return 0===ie.length?null:1===ie.length?new D(ie[0],se,oe):(ie.sort(function(de,ue){return de[$[se]]-ue[$[se]]}),ae=Math.floor(ie.length/2),le=new D(ie[ae],se,oe),le.left=ee(ie.slice(0,ae),ne+1,le),le.right=ee(ie.slice(ae+1),ne+1,le),le)}var te=this;Array.isArray(G)?this.root=ee(G,0,null):function(ne){function oe(se){se.left&&(se.left.parent=se,oe(se.left)),se.right&&(se.right.parent=se,oe(se.right))}te.root=ne,oe(te.root)}(G,Z,$),this.toJSON=function(ie){ie||(ie=this.root);var ne=new D(ie.obj,ie.dimension,null);return ie.left&&(ne.left=te.toJSON(ie.left)),ie.right&&(ne.right=te.toJSON(ie.right)),ne},this.insert=function(ie){function ne(le,de){if(null===le)return de;var ue=$[le.dimension];return ie[ue]<le.obj[ue]?ne(le.left,le):ne(le.right,le)}var oe=ne(this.root,null),se,ae;return null===oe?void(this.root=new D(ie,0,null)):void(se=new D(ie,(oe.dimension+1)%$.length,oe),ae=$[oe.dimension],ie[ae]<oe.obj[ae]?oe.left=se:oe.right=se)},this.remove=function(ie){function ne(ae){if(null===ae)return null;if(ae.obj===ie)return ae;var le=$[ae.dimension];return ie[le]<ae.obj[le]?ne(ae.left,ae):ne(ae.right,ae)}function oe(ae){function le(me,pe){var ge,he,xe,fe,ye;return null===me?null:(ge=$[pe],me.dimension===pe)?null===me.left?me:le(me.left,pe):(he=me.obj[ge],xe=le(me.left,pe),fe=le(me.right,pe),ye=me,null!==xe&&xe.obj[ge]<he&&(ye=xe),null!==fe&&fe.obj[ge]<ye.obj[ge]&&(ye=fe),ye)}var de,ue,ce;return null===ae.left&&null===ae.right?null===ae.parent?void(te.root=null):(ce=$[ae.parent.dimension],void(ae.obj[ce]<ae.parent.obj[ce]?ae.parent.left=null:ae.parent.right=null)):void(null===ae.right?(de=le(ae.left,ae.dimension),ue=de.obj,oe(de),ae.right=ae.left,ae.left=null,ae.obj=ue):(de=le(ae.right,ae.dimension),ue=de.obj,oe(de),ae.obj=ue))}var se;se=ne(te.root);null===se||oe(se)},this.nearest=function(ie,ne,oe){function se(ue){function ce(je,ke){de.push([je,ke]),de.size()>ne&&de.pop()}var pe=$[ue.dimension],ge=Z(ie,ue.obj),he={},me,xe,fe,ye;for(ye=0;ye<$.length;ye+=1)he[$[ye]]=ye===ue.dimension?ie[$[ye]]:ue.obj[$[ye]];return xe=Z(he,ue.obj),null===ue.right&&null===ue.left?void((de.size()<ne||ge<de.peek()[1])&&ce(ue,ge)):void(me=null===ue.right?ue.left:null===ue.left?ue.right:ie[pe]<ue.obj[pe]?ue.left:ue.right,se(me),(de.size()<ne||ge<de.peek()[1])&&ce(ue,ge),(de.size()<ne||Math.abs(xe)<de.peek()[1])&&(fe=me===ue.left?ue.right:ue.left,null!==fe&&se(fe)))}var ae,le,de;if(de=new E(function(ue){return-ue[1]}),oe)for(ae=0;ae<ne;ae+=1)de.push([null,oe]);for(te.root&&se(te.root),le=[],ae=0;ae<Math.min(ne,de.content.length);ae+=1)de.content[ae][0]&&le.push([de.content[ae][0].obj,de.content[ae][1]]);return le},this.balanceFactor=function(){function ie(oe){return null===oe?0:Math.max(ie(oe.left),ie(oe.right))+1}function ne(oe){return null===oe?0:ne(oe.left)+ne(oe.right)+1}return ie(te.root)/(Math.log(ne(te.root))/Math.log(2))}}function E(G){this.content=[],this.scoreFunction=G}E.prototype={push:function(G){this.content.push(G),this.bubbleUp(this.content.length-1)},pop:function(){var G=this.content[0],Z=this.content.pop();return 0<this.content.length&&(this.content[0]=Z,this.sinkDown(0)),G},peek:function(){return this.content[0]},remove:function(G){for(var Z=this.content.length,$=0;$<Z;$++)if(this.content[$]==G){var ee=this.content.pop();return void($!=Z-1&&(this.content[$]=ee,this.scoreFunction(ee)<this.scoreFunction(G)?this.bubbleUp($):this.sinkDown($)))}throw new Error('Node not found.')},size:function(){return this.content.length},bubbleUp:function(G){for(var Z=this.content[G];0<G;){var $=Math.floor((G+1)/2)-1,ee=this.content[$];if(this.scoreFunction(Z)<this.scoreFunction(ee))this.content[$]=Z,this.content[G]=ee,G=$;else break}},sinkDown:function(G){for(var Z=this.content.length,$=this.content[G],ee=this.scoreFunction($);!0;){var te=2*(G+1),ie=te-1,ne=null;if(ie<Z){var oe=this.content[ie],se=this.scoreFunction(oe);se<ee&&(ne=ie)}if(te<Z){var ae=this.content[te],le=this.scoreFunction(ae);le<(null==ne?ee:se)&&(ne=te)}if(null!=ne)this.content[G]=this.content[ne],this.content[ne]=$,G=ne;else break}}},this.kdTree=O,R.kdTree=O,R.BinaryHeap=E},function(I,R,D){'use strict';I.exports=R=D(137).NaiveBayes,R.separateClasses=D(137).separateClasses},function(I,R,D){'use strict';function O(te,ie){te&&(this.means=ie.means,this.calculateProbabilities=ie.calculateProbabilities)}function E(te,ie,ne){for(var oe=0,se=-1,ae=0;ae<ne.length;++ae){for(var le=ne[ae][0],de=1;de<ne[0][1].length+1;++de)le+=G(te[de-1],ie[ae][de-1],ne[ae][de][0],ne[ae][de][1]);le=Math.exp(le),le>oe&&(oe=le,se=ae)}return se}function G(te,ie,ne,oe){var te=te-ie;return Math.log(ne*Math.exp(te*te/oe))}function Z(te,ie){for(var ne=te.columns,oe=0,se=Array(100),ae=0;ae<ie.length;ae++)void 0===se[ie[ae]]&&(se[ie[ae]]=0,oe++),se[ie[ae]]++;var le=Array(oe),de=Array(oe);for(ae=0;ae<oe;++ae)le[ae]=new $(se[ae],ne),de[ae]=0;for(ae=0;ae<te.rows;++ae)le[ie[ae]].setRow(de[ie[ae]],te.getRow(ae)),de[ie[ae]]++;return le}var $=D(14),ee=D(3);I.exports.NaiveBayes=O,I.exports.separateClasses=Z,O.prototype.train=function(te,ie){var ne=Math.sqrt(2*Math.PI);if(te=$.isMatrix(te)?te.clone():new $(te),te.rows!==ie.length)throw new RangeError('the size of the training set and the training labels must be the same.');var oe=Z(te,ie),se=Array(oe.length);this.means=Array(oe.length);for(var ae=0;ae<oe.length;++ae){var le=ee.matrix.mean(oe[ae]),de=ee.matrix.standardDeviation(oe[ae],le),ue=Math.log(oe[ae].rows/te.rows);se[ae]=Array(le.length+1),se[ae][0]=ue;for(var ce=1;ce<le.length+1;++ce){var me=de[ce-1];se[ae][ce]=[1/(ne*me),-2*me*me]}this.means[ae]=le}this.calculateProbabilities=se},O.prototype.predict=function(te){if(te[0].length===this.calculateProbabilities[0].length)throw new RangeError('the dataset must have the same features as the training set');for(var ie=Array(te.length),ne=0;ne<ie.length;++ne)ie[ne]=E(te[ne],this.means,this.calculateProbabilities);return ie},O.prototype.export=function(){return{modelName:'NaiveBayes',means:this.means,calculateProbabilities:this.calculateProbabilities}},O.load=function(te){if('NaiveBayes'!==te.modelName)throw new RangeError('The given model is invalid!');return new O(!0,te)}},function(I,R,D){I.exports=R=D(139),R.Utils=D(140),R.OPLS=D(141)},function(I,R,D){'use strict';function O(ee,te){for(var ie=0,ne=0;ne<ee.rows;ne++)ie+=ee[ne][te];return ie}function E(ee){for(var te=0,ie=-(1/0),ne=0;ne<ee.columns;++ne){var oe=O(ee,ne);oe>ie&&(ie=oe,te=ne)}return te}var G=D(14),Z=D(140);class ee{constructor(te,ie){if(!0===te){const ne=ie;this.meanX=ne.meanX,this.stdDevX=ne.stdDevX,this.meanY=ne.meanY,this.stdDevY=ne.stdDevY,this.PBQ=G.checkMatrix(ne.PBQ),this.R2X=ne.R2X}else{if(te.length!==ie.length)throw new RangeError('The number of X rows must be equal to the number of Y rows');const ne=Z.featureNormalize(te);this.X=ne.result,this.meanX=ne.means,this.stdDevX=ne.std;const oe=Z.featureNormalize(ie);this.Y=oe.result,this.meanY=oe.means,this.stdDevY=oe.std}}train(te){te===void 0&&(te={});var ie=te.latentVectors;ie===void 0&&(ie=Math.min(this.X.length-1,this.X[0].length));var ne=te.tolerance;ne===void 0&&(ne=0.00001);for(var oe=this.X,se=this.Y,ae=oe.rows,le=oe.columns,de=se.rows,ue=se.columns,ce=oe.clone().mul(oe).sum(),me=se.clone().mul(se).sum(),pe=ie,ge=G.zeros(ae,pe),he=G.zeros(le,pe),xe=G.zeros(de,pe),fe=G.zeros(ue,pe),ye=G.zeros(pe,pe),je=he.clone(),ke=0;Z.norm(se)>ne&&ke<pe;){for(var we=oe.transpose(),be=se.transpose(),ve=E(oe.clone().mulM(oe)),Se=E(se.clone().mulM(se)),Me=oe.getColumnVector(ve),ze=se.getColumnVector(Se),qe=G.zeros(ae,1);Z.norm(Me.clone().sub(qe))>ne;){var Ce=we.mmul(ze);Ce.div(Z.norm(Ce)),qe=Me,Me=oe.mmul(Ce);var Ie=be.mmul(Me);Ie.div(Z.norm(Ie)),ze=se.mmul(Ie)}qe=Me;var Re=we.mmul(qe),De=qe.transpose().mmul(qe)[0][0],Ve=Re.div(De),Pe=Z.norm(Ve);Ve.div(Pe),qe.mul(Pe),Ce.mul(Pe),Re=ze.transpose().mmul(qe),De=qe.transpose().mmul(qe)[0][0];var Ae=Re.div(De)[0][0];oe.sub(qe.mmul(Ve.transpose())),se.sub(qe.clone().mul(Ae).mmul(Ie.transpose())),ge.setColumn(ke,qe),he.setColumn(ke,Ve),xe.setColumn(ke,ze),fe.setColumn(ke,Ie),je.setColumn(ke,Ce),ye[ke][ke]=Ae,ke++}ke--,ge=ge.subMatrix(0,ge.rows-1,0,ke),he=he.subMatrix(0,he.rows-1,0,ke),xe=xe.subMatrix(0,xe.rows-1,0,ke),fe=fe.subMatrix(0,fe.rows-1,0,ke),je=je.subMatrix(0,je.rows-1,0,ke),ye=ye.subMatrix(0,ke,0,ke),this.ssqYcal=me,this.E=oe,this.F=se,this.T=ge,this.P=he,this.U=xe,this.Q=fe,this.W=je,this.B=ye,this.PBQ=he.mmul(ye).mmul(fe.transpose()),this.R2X=qe.transpose().mmul(qe).mmul(Ve.transpose().mmul(Ve)).div(ce)[0][0]}predict(te){var ie=G.checkMatrix(te);ie=ie.subRowVector(this.meanX).divRowVector(this.stdDevX);var ne=ie.mmul(this.PBQ);return ne=ne.mulRowVector(this.stdDevY).addRowVector(this.meanY),ne}getExplainedVariance(){return this.R2X}toJSON(){return{name:'PLS',R2X:this.R2X,meanX:this.meanX,stdDevX:this.stdDevX,meanY:this.meanY,stdDevY:this.stdDevY,PBQ:this.PBQ}}static load(te){if('PLS'!==te.name)throw new RangeError('Invalid model: '+te.name);return new ee(!0,te)}}I.exports=ee},function(I,R,D){'use strict';function O(Z,$){return this[Z][$]=this[Z][$]*this[Z][$],this}const E=D(14),G=D(3);I.exports={norm:function($){return Math.sqrt($.clone().apply(O).sum())},pow2array:O,featureNormalize:function($){var ee=G.matrix.mean($),te=G.matrix.standardDeviation($,ee,!0),ie=E.checkMatrix($).subRowVector(ee);return{result:ie.divRowVector(te),means:ee,std:te}}}},function(I,R,D){'use strict';function O(Z,$,ee){var te=new E(Z),ie=new E($);te=G.featureNormalize(te).result,ie=G.featureNormalize(ie).result,te.rows,te.columns;var ne=te.clone().mul(te).sum(),oe=te.transpose().mmul(ie);oe.div(G.norm(oe));for(var se=Array(ee),ae=Array(ee),le=Array(ee),de=0;de<ee;de++){var ue=te.mmul(oe),ce=te.transpose().mmul(ue),me=ue.transpose().mmul(ue)[0][0],pe=ce.div(me);ce=oe.transpose().mmul(pe)[0][0],me=oe.transpose().mmul(oe)[0][0];var ge=pe.sub(oe.clone().mul(ce/me));ge.div(G.norm(ge));var he=te.mmul(ge);ce=te.transpose().mmul(he),me=he.transpose().mmul(he)[0][0];var xe=ce.div(me);te.sub(he.mmul(xe.transpose())),se[de]=ge.getColumn(0),ae[de]=he.getColumn(0),le[de]=xe.getColumn(0)}this.Xosc=te;var fe=this.Xosc.clone().mul(this.Xosc).sum();this.R2X=1-fe/ne,this.W=se,this.T=ae,this.P=le,this.numberOSC=ee}var E=D(14),G=D(140);I.exports=O,O.prototype.correctDataset=function(Z){for(var $=new E(Z),ee=$.clone().mul($).sum(),te=0;te<this.numberOSC;te++){var ie=this.W.getColumnVector(te),ne=this.P.getColumnVector(te),oe=$.mmul(ie);$.sub(oe.mmul(ne))}var se=$.clone().mul($).sum();return{datasetOsc:$,R2Dataset:1-se/ee}}},function(I,R,D){'use strict';function O(ee,te,ie){for(let ne=0,oe=ee.length,se=0,ae=0;ae<oe;ae++)se=ie[ae],ne+=Z(ee[ae],te[se]);return ne}function E(ee,te){for(let ie=ee.length,ne=te.length,oe=0,se=Array(ie),le=0;le<ie;le++)se[le]=0;for(let ae=Array(ie),le=0;le<ie;le++){ae[le]=Array(ne);for(let ce=0;ce<ne;ce++)oe=Z(ee[le],te[ce]),ae[le][ce]=[,,],ae[le][ce][0]=oe,ae[le][ce][1]=ce;for(let de=ae[le][0][0],ue=0,ce=0;ce<ne;ce++)ae[le][ce][0]<de&&(de=ae[le][ce][0],ue=ae[le][ce][1]);se[le]=ue}return se}function G(ee,te,ie){for(let ne=ee[0].length,oe=ee.length,se=Array(ie),ae=0;ae<ie;ae++){se[ae]=Array(ne);for(let le=0;le<ne;le++)se[ae][le]=0}for(let ae=0;ae<ie;ae++){for(let le=[],de=0;de<oe;de++)te[de]===ae&&le.push(ee[de]);for(let de=0;de<ne;de++){for(let ue=[],pe=0;pe<oe;pe++)te[pe]===ae&&ue.push(ee[pe][de]);for(let ce=0,me=ue.length,pe=0;pe<me;pe++)ce+=ue[pe];se[ae][de]=ce/me}}return se}const Z=D(143).squared,$={maxIterations:100,tolerance:0.000001,withIterations:!1};I.exports=function(te,ie,ne){ne||(ne=$);let oe=ne.maxIterations||$.maxIterations,se=ne.tolerance||$.tolerance,ae=ne.withIterations||$.withIterations,le=te.length;if(0===le)return[];for(let de=ie.length,ue=Array(le),ge=0;ge<le;ge++)ue[ge]=0;if(de>=le){for(let ge=0;ge<le;ge++)ue[ge]=ge;return ue}for(let ce=1e+100,me=0,pe=[],ge=0;ge<oe;ge++){if(ue=E(te,ie),ie=G(te,ue,de),me=O(te,ie,ue),ae&&pe.push({clusters:ue,centroids:ie}),ce-me<se||(ce-me)/ce<se)return ae?{clusters:ue,centroids:ie,iterations:pe}:{clusters:ue,centroids:ie};ce=me}return ae?{clusters:ue,centroids:ie,iterations:pe}:{clusters:ue,centroids:ie}}},function(I,R){'use strict';function D(E,G){for(var Z=0,$=0;$<E.length;$++)Z+=(E[$]-G[$])*(E[$]-G[$]);return Z}function O(E,G){return Math.sqrt(D(E,G))}I.exports=O,O.squared=D},function(I,R,D){R.agnes=D(145),R.diana=D(154)},function(I,R,D){'use strict';function O(ae,le,de){for(var ue=1e+101,ce=0;ce<ae.length;ce++)for(var me=0;me<le.length;me++){var pe=de[ae[ce]][le[me]];ue=Math.min(pe,ue)}return ue}function E(ae,le,de){for(var ue=-1,ce=0;ce<ae.length;ce++)for(var me=0;me<le.length;me++){var pe=de[ae[ce]][le[me]];ue=Math.max(pe,ue)}return ue}function G(ae,le,de){for(var ue=0,ce=0;ce<ae.length;ce++)for(var me=0;me<le.length;me++)ue+=de[ae[ce]][le[me]];return ue/(ae.length*le.length)}function Z(ae,le,de){for(var ue=Array(ae.length*le.length),ce=0;ce<ae.length;ce++)for(var me=0;me<le.length;me++)ue[ce*ae.length+me]=de[ae[ce]][le[me]];return te(ue)}function $(ae,le,de){return Z(ae,le,de)*ae.length*le.length/(ae.length+le.length)}function ee(ae,le){return ae-le}function te(ae,le){le===void 0&&(le=!1),le||(ae=[].concat(ae).sort(ee));var de=ae.length,ue=Math.floor(de/2);return 0==de%2?0.5*(ae[ue-1]+ae[ue]):ae[ue]}var ie=D(47),ne=D(146),oe=D(147),se={disFunc:ie,kind:'single',isDistanceMatrix:!1};I.exports=function(le,de){de=Object.assign({},se,de);var ue=le.length,ce=le;if(!de.isDistanceMatrix){ce=Array(ue);for(var me=0;me<ue;me++){ce[me]=Array(ue);for(var pe=0;pe<ue;pe++)ce[me][pe]=de.disFunc(le[me],le[pe])}}if('string'==typeof de.kind)switch(de.kind){case'single':de.kind=O;break;case'complete':de.kind=E;break;case'average':de.kind=G;break;case'centroid':de.kind=Z;break;case'ward':de.kind=$;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof de.kind)throw new TypeError('Undefined kind of similarity');for(var ge=Array(ue),me=0;me<ce.length;me++)ge[me]=new ne(me);for(var he=1000000,xe={},fe=0;1<ge.length;){xe={},he=1000000;for(var pe=0;pe<ge.length;pe++)for(var ye=pe+1;ye<ge.length;ye++){var je,ke;if(ge[pe]instanceof ne)je=[ge[pe].index];else{je=Array(ge[pe].index.length);for(var we=0;we<je.length;we++)je[we]=ge[pe].index[we].index}if(ge[ye]instanceof ne)ke=[ge[ye].index];else{ke=Array(ge[ye].index.length);for(var be=0;be<ke.length;be++)ke[be]=ge[ye].index[be].index}fe=de.kind(je,ke,ce).toFixed(4),fe in xe?xe[fe].push([ge[pe],ge[ye]]):xe[fe]=[[ge[pe],ge[ye]]],he=Math.min(fe,he)}for(var ve=xe[he.toFixed(4)],Se=Array(ve.length),ze=0,Me;0<ve.length;){Me=ve.shift();for(var qe=0;qe<ve.length;qe++){var Ce=ve[qe].filter(function(Ae){return-1!==Me.indexOf(Ae)});if(0<Ce.length){var Ie=ve[qe].filter(function(Ae){return-1===Me.indexOf(Ae)});Me=Me.concat(Ie),ve.splice(qe--,1)}}Se[ze++]=Me}Se.length=ze;for(var Re=0;Re<Se.length;Re++){var De=new oe;De.children=Se[Re].concat(),De.distance=he,De.index=Array(ue);for(var Ve=0,Pe=0;Pe<Se[Re].length;Pe++)Se[Re][Pe]instanceof ne?De.index[Ve++]=Se[Re][Pe]:(Ve+=Se[Re][Pe].index.length,De.index=Se[Re][Pe].index.concat(De.index)),ge.splice(ge.indexOf(Se[Re][Pe]),1);De.index.length=Ve,ge.push(De)}}return ge[0]}},function(I,R,D){'use strict';function O(Z){E.call(this),this.index=Z,this.distance=0,this.children=[]}var E=D(147),G=D(150);G.inherits(O,E),I.exports=O},function(I,R,D){'use strict';function O(){this.children=[],this.distance=-1,this.index=[]}const E=D(148);O.prototype.cut=function(G){if(0>G)throw new RangeError('Threshold too small');var Z=new O;Z.children=this.children,Z.distance=this.distance,Z.index=this.index;for(var $=[Z],ee=[];0<$.length;){var te=$.shift();G>=te.distance?ee.push(te):$=$.concat(te.children)}return ee},O.prototype.group=function(G){if(!Number.isInteger(G)||1>G)throw new RangeError('Number of groups must be a positive integer');const Z=new E(function(te,ie){return ie.distance-te.distance});for(Z.push(this);Z.size()<G;){var $=Z.pop();if(0===$.children.length)break;$.children.forEach(te=>Z.push(te))}var ee=new O;return ee.children=Z.toArray(),ee.distance=this.distance,ee},I.exports=O},function(I,R,D){I.exports=D(149)},function(I,R,D){var O,E,G;(function(){var Z,$,ee,te,ie,ne,oe,se,ae,le,de,ue,ce,me,pe;ee=Math.floor,le=Math.min,$=function(ge,he){return ge<he?-1:ge>he?1:0},ae=function(ge,he,xe,fe,ye){var je;if(null==xe&&(xe=0),null==ye&&(ye=$),0>xe)throw new Error('lo must be non-negative');for(null==fe&&(fe=ge.length);xe<fe;)je=ee((xe+fe)/2),0>ye(he,ge[je])?fe=je:xe=je+1;return[].splice.apply(ge,[xe,xe-xe].concat(he)),he},ne=function(ge,he,xe){return null==xe&&(xe=$),ge.push(he),me(ge,0,ge.length-1,xe)},ie=function(ge,he){var xe,fe;return null==he&&(he=$),xe=ge.pop(),ge.length?(fe=ge[0],ge[0]=xe,pe(ge,0,he)):fe=xe,fe},se=function(ge,he,xe){var fe;return null==xe&&(xe=$),fe=ge[0],ge[0]=he,pe(ge,0,xe),fe},oe=function(ge,he,xe){var fe;return null==xe&&(xe=$),ge.length&&0>xe(ge[0],he)&&(fe=[ge[0],he],he=fe[0],ge[0]=fe[1],pe(ge,0,xe)),he},te=function(ge,he){var xe,fe,ye,je,ke,we;for(null==he&&(he=$),je=function(){we=[];for(var be=0,ve=ee(ge.length/2);0<=ve?be<ve:be>ve;0<=ve?be++:be--)we.push(be);return we}.apply(this).reverse(),ke=[],(fe=0,ye=je.length);fe<ye;fe++)xe=je[fe],ke.push(pe(ge,xe,he));return ke},ce=function(ge,he,xe){var fe;if(null==xe&&(xe=$),fe=ge.indexOf(he),-1!==fe)return me(ge,0,fe,xe),pe(ge,fe,xe)},de=function(ge,he,xe){var fe,ye,je,ke,we;if(null==xe&&(xe=$),ye=ge.slice(0,he),!ye.length)return ye;for(te(ye,xe),we=ge.slice(he),(je=0,ke=we.length);je<ke;je++)fe=we[je],oe(ye,fe,xe);return ye.sort(xe).reverse()},ue=function(ge,he,xe){var fe,ye,je,ke,we,be,ve,Se,Me,ze;if(null==xe&&(xe=$),10*he<=ge.length){if(ke=ge.slice(0,he).sort(xe),!ke.length)return ke;for(je=ke[ke.length-1],Se=ge.slice(he),(we=0,ve=Se.length);we<ve;we++)fe=Se[we],0>xe(fe,je)&&(ae(ke,fe,0,null,xe),ke.pop(),je=ke[ke.length-1]);return ke}for(te(ge,xe),ze=[],(ye=be=0,Me=le(he,ge.length));0<=Me?be<Me:be>Me;ye=0<=Me?++be:--be)ze.push(ie(ge,xe));return ze},me=function(ge,he,xe,fe){var ye,je,ke;for(null==fe&&(fe=$),ye=ge[xe];xe>he;){if(ke=xe-1>>1,je=ge[ke],0>fe(ye,je)){ge[xe]=je,xe=ke;continue}break}return ge[xe]=ye},pe=function(ge,he,xe){var fe,ye,je,ke,we;for(null==xe&&(xe=$),ye=ge.length,we=he,je=ge[he],fe=2*he+1;fe<ye;)ke=fe+1,ke<ye&&!(0>xe(ge[fe],ge[ke]))&&(fe=ke),ge[he]=ge[fe],he=fe,fe=2*he+1;return ge[he]=je,me(ge,we,he,xe)},Z=function(){function ge(he){this.cmp=null==he?$:he,this.nodes=[]}return ge.push=ne,ge.pop=ie,ge.replace=se,ge.pushpop=oe,ge.heapify=te,ge.updateItem=ce,ge.nlargest=de,ge.nsmallest=ue,ge.prototype.push=function(he){return ne(this.nodes,he,this.cmp)},ge.prototype.pop=function(){return ie(this.nodes,this.cmp)},ge.prototype.peek=function(){return this.nodes[0]},ge.prototype.contains=function(he){return-1!==this.nodes.indexOf(he)},ge.prototype.replace=function(he){return se(this.nodes,he,this.cmp)},ge.prototype.pushpop=function(he){return oe(this.nodes,he,this.cmp)},ge.prototype.heapify=function(){return te(this.nodes,this.cmp)},ge.prototype.updateItem=function(he){return ce(this.nodes,he,this.cmp)},ge.prototype.clear=function(){return this.nodes=[]},ge.prototype.empty=function(){return 0===this.nodes.length},ge.prototype.size=function(){return this.nodes.length},ge.prototype.clone=function(){var he=new ge;return he.nodes=this.nodes.slice(0),he},ge.prototype.toArray=function(){return this.nodes.slice(0)},ge.prototype.insert=ge.prototype.push,ge.prototype.top=ge.prototype.peek,ge.prototype.front=ge.prototype.peek,ge.prototype.has=ge.prototype.contains,ge.prototype.copy=ge.prototype.clone,ge}(),function(ge,he){return E=[],O=he,G='function'==typeof O?O.apply(R,E):O,!(G!==void 0&&(I.exports=G))}(this,function(){return Z})}).call(this)},function(I,R,D){(function(O,E){function G(qe,Ce){var Ie={seen:[],stylize:$};return 3<=arguments.length&&(Ie.depth=arguments[2]),4<=arguments.length&&(Ie.colors=arguments[3]),de(Ce)?Ie.showHidden=Ce:Ce&&R._extend(Ie,Ce),pe(Ie.showHidden)&&(Ie.showHidden=!1),pe(Ie.depth)&&(Ie.depth=2),pe(Ie.colors)&&(Ie.colors=!1),pe(Ie.customInspect)&&(Ie.customInspect=!0),Ie.colors&&(Ie.stylize=Z),te(Ie,qe,Ie.depth)}function Z(qe,Ce){var Ie=G.styles[Ce];return Ie?'\u001b['+G.colors[Ie][0]+'m'+qe+'\u001b['+G.colors[Ie][1]+'m':qe}function $(qe,Ce){return qe}function ee(qe){var Ce={};return qe.forEach(function(Ie,Re){Ce[Ie]=!0}),Ce}function te(qe,Ce,Ie){if(qe.customInspect&&Ce&&ye(Ce.inspect)&&Ce.inspect!==R.inspect&&!(Ce.constructor&&Ce.constructor.prototype===Ce)){var Re=Ce.inspect(Ie,qe);return me(Re)||(Re=te(qe,Re,Ie)),Re}var De=ie(qe,Ce);if(De)return De;var Ve=Object.keys(Ce),Pe=ee(Ve);if(qe.showHidden&&(Ve=Object.getOwnPropertyNames(Ce)),fe(Ce)&&(0<=Ve.indexOf('message')||0<=Ve.indexOf('description')))return ne(Ce);if(0===Ve.length){if(ye(Ce)){var Ae=Ce.name?': '+Ce.name:'';return qe.stylize('[Function'+Ae+']','special')}if(ge(Ce))return qe.stylize(RegExp.prototype.toString.call(Ce),'regexp');if(xe(Ce))return qe.stylize(Date.prototype.toString.call(Ce),'date');if(fe(Ce))return ne(Ce)}var Ne='',_e=!1,Oe=['{','}'];if(le(Ce)&&(_e=!0,Oe=['[',']']),ye(Ce)){var Le=Ce.name?': '+Ce.name:'';Ne=' [Function'+Le+']'}if(ge(Ce)&&(Ne=' '+RegExp.prototype.toString.call(Ce)),xe(Ce)&&(Ne=' '+Date.prototype.toUTCString.call(Ce)),fe(Ce)&&(Ne=' '+ne(Ce)),0===Ve.length&&(!_e||0==Ce.length))return Oe[0]+Ne+Oe[1];if(0>Ie)return ge(Ce)?qe.stylize(RegExp.prototype.toString.call(Ce),'regexp'):qe.stylize('[Object]','special');qe.seen.push(Ce);var Fe;return Fe=_e?oe(qe,Ce,Ie,Pe,Ve):Ve.map(function(Te){return se(qe,Ce,Ie,Pe,Te,_e)}),qe.seen.pop(),ae(Fe,Ne,Oe)}function ie(qe,Ce){if(pe(Ce))return qe.stylize('undefined','undefined');if(me(Ce)){var Ie='\''+JSON.stringify(Ce).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return qe.stylize(Ie,'string')}return ce(Ce)?qe.stylize(''+Ce,'number'):de(Ce)?qe.stylize(''+Ce,'boolean'):ue(Ce)?qe.stylize('null','null'):void 0}function ne(qe){return'['+Error.prototype.toString.call(qe)+']'}function oe(qe,Ce,Ie,Re,De){for(var Ve=[],Pe=0,Ae=Ce.length;Pe<Ae;++Pe)be(Ce,Pe+'')?Ve.push(se(qe,Ce,Ie,Re,Pe+'',!0)):Ve.push('');return De.forEach(function(Ne){Ne.match(/^\d+$/)||Ve.push(se(qe,Ce,Ie,Re,Ne,!0))}),Ve}function se(qe,Ce,Ie,Re,De,Ve){var Pe,Ae,Ne;if(Ne=Object.getOwnPropertyDescriptor(Ce,De)||{value:Ce[De]},Ne.get?Ne.set?Ae=qe.stylize('[Getter/Setter]','special'):Ae=qe.stylize('[Getter]','special'):Ne.set&&(Ae=qe.stylize('[Setter]','special')),be(Re,De)||(Pe='['+De+']'),Ae||(0>qe.seen.indexOf(Ne.value)?(Ae=ue(Ie)?te(qe,Ne.value,null):te(qe,Ne.value,Ie-1),-1<Ae.indexOf('\n')&&(Ve?Ae=Ae.split('\n').map(function(_e){return'  '+_e}).join('\n').substr(2):Ae='\n'+Ae.split('\n').map(function(_e){return'   '+_e}).join('\n'))):Ae=qe.stylize('[Circular]','special')),pe(Pe)){if(Ve&&De.match(/^\d+$/))return Ae;Pe=JSON.stringify(''+De),Pe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Pe=Pe.substr(1,Pe.length-2),Pe=qe.stylize(Pe,'name')):(Pe=Pe.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),Pe=qe.stylize(Pe,'string'))}return Pe+': '+Ae}function ae(qe,Ce,Ie){var Re=0,De=qe.reduce(function(Ve,Pe){return Re++,0<=Pe.indexOf('\n')&&Re++,Ve+Pe.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<De?Ie[0]+(''===Ce?'':Ce+'\n ')+' '+qe.join(',\n  ')+' '+Ie[1]:Ie[0]+Ce+' '+qe.join(', ')+' '+Ie[1]}function le(qe){return Array.isArray(qe)}function de(qe){return'boolean'==typeof qe}function ue(qe){return null===qe}function ce(qe){return'number'==typeof qe}function me(qe){return'string'==typeof qe}function pe(qe){return void 0===qe}function ge(qe){return he(qe)&&'[object RegExp]'===je(qe)}function he(qe){return'object'==typeof qe&&null!==qe}function xe(qe){return he(qe)&&'[object Date]'===je(qe)}function fe(qe){return he(qe)&&('[object Error]'===je(qe)||qe instanceof Error)}function ye(qe){return'function'==typeof qe}function je(qe){return Object.prototype.toString.call(qe)}function ke(qe){return 10>qe?'0'+qe.toString(10):qe.toString(10)}function we(){var qe=new Date,Ce=[ke(qe.getHours()),ke(qe.getMinutes()),ke(qe.getSeconds())].join(':');return[qe.getDate(),ze[qe.getMonth()],Ce].join(' ')}function be(qe,Ce){return Object.prototype.hasOwnProperty.call(qe,Ce)}var ve=/%[sdj%]/g;R.format=function(qe){if(!me(qe)){for(var Ce=[],Ie=0;Ie<arguments.length;Ie++)Ce.push(G(arguments[Ie]));return Ce.join(' ')}for(var Ie=1,Re=arguments,De=Re.length,Ve=(qe+'').replace(ve,function(Ae){if('%%'===Ae)return'%';if(Ie>=De)return Ae;switch(Ae){case'%s':return Re[Ie++]+'';case'%d':return+Re[Ie++];case'%j':try{return JSON.stringify(Re[Ie++])}catch(Ne){return'[Circular]'}default:return Ae;}}),Pe=Re[Ie];Ie<De;Pe=Re[++Ie])Ve+=ue(Pe)||!he(Pe)?' '+Pe:' '+G(Pe);return Ve},R.deprecate=function(qe,Ce){if(pe(O.process))return function(){return R.deprecate(qe,Ce).apply(this,arguments)};if(!0===E.noDeprecation)return qe;var Ie=!1;return function(){if(!Ie){if(E.throwDeprecation)throw new Error(Ce);else E.traceDeprecation?console.trace(Ce):console.error(Ce);Ie=!0}return qe.apply(this,arguments)}};var Se={},Me;R.debuglog=function(qe){if(pe(Me)&&(Me=E.env.NODE_DEBUG||''),qe=qe.toUpperCase(),!Se[qe])if(new RegExp('\\b'+qe+'\\b','i').test(Me)){var Ce=E.pid;Se[qe]=function(){var Ie=R.format.apply(R,arguments);console.error('%s %d: %s',qe,Ce,Ie)}}else Se[qe]=function(){};return Se[qe]},R.inspect=G,G.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},G.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'},R.isArray=le,R.isBoolean=de,R.isNull=ue,R.isNullOrUndefined=function(Ce){return null==Ce},R.isNumber=ce,R.isString=me,R.isSymbol=function(Ce){return'symbol'==typeof Ce},R.isUndefined=pe,R.isRegExp=ge,R.isObject=he,R.isDate=xe,R.isError=fe,R.isFunction=ye,R.isPrimitive=function(Ce){return null===Ce||'boolean'==typeof Ce||'number'==typeof Ce||'string'==typeof Ce||'symbol'==typeof Ce||'undefined'==typeof Ce},R.isBuffer=D(152);var ze=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];R.log=function(){console.log('%s - %s',we(),R.format.apply(R,arguments))},R.inherits=D(153),R._extend=function(qe,Ce){if(!Ce||!he(Ce))return qe;for(var Ie=Object.keys(Ce),Re=Ie.length;Re--;)qe[Ie[Re]]=Ce[Ie[Re]];return qe}}).call(R,function(){return this}(),D(151))},function(I,R){function D(){throw new Error('setTimeout has not been defined')}function O(){throw new Error('clearTimeout has not been defined')}function E(ue){if(ne===setTimeout)return setTimeout(ue,0);if((ne===D||!ne)&&setTimeout)return ne=setTimeout,setTimeout(ue,0);try{return ne(ue,0)}catch(ce){try{return ne.call(null,ue,0)}catch(me){return ne.call(this,ue,0)}}}function G(ue){if(oe===clearTimeout)return clearTimeout(ue);if((oe===O||!oe)&&clearTimeout)return oe=clearTimeout,clearTimeout(ue);try{return oe(ue)}catch(ce){try{return oe.call(null,ue)}catch(me){return oe.call(this,ue)}}}function Z(){ae&&le&&(ae=!1,le.length?se=le.concat(se):de=-1,se.length&&$())}function $(){if(!ae){var ue=E(Z);ae=!0;for(var ce=se.length;ce;){for(le=se,se=[];++de<ce;)le&&le[de].run();de=-1,ce=se.length}le=null,ae=!1,G(ue)}}function ee(ue,ce){this.fun=ue,this.array=ce}function te(){}var ie=I.exports={},ne,oe;(function(){try{ne='function'==typeof setTimeout?setTimeout:D}catch(ue){ne=D}try{oe='function'==typeof clearTimeout?clearTimeout:O}catch(ue){oe=O}})();var se=[],ae=!1,le,de=-1;ie.nextTick=function(ue){var ce=Array(arguments.length-1);if(1<arguments.length)for(var me=1;me<arguments.length;me++)ce[me-1]=arguments[me];se.push(new ee(ue,ce)),1!==se.length||ae||E($)},ee.prototype.run=function(){this.fun.apply(null,this.array)},ie.title='browser',ie.browser=!0,ie.env={},ie.argv=[],ie.version='',ie.versions={},ie.on=te,ie.addListener=te,ie.once=te,ie.off=te,ie.removeListener=te,ie.removeAllListeners=te,ie.emit=te,ie.binding=function(ue){throw new Error('process.binding is not supported')},ie.cwd=function(){return'/'},ie.chdir=function(ue){throw new Error('process.chdir is not supported')},ie.umask=function(){return 0}},function(I,R){I.exports=function(O){return O&&'object'==typeof O&&'function'==typeof O.copy&&'function'==typeof O.fill&&'function'==typeof O.readUInt8}},function(I,R){I.exports='function'==typeof Object.create?function(O,E){O.super_=E,O.prototype=Object.create(E.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}})}:function(O,E){O.super_=E;var G=function(){};G.prototype=E.prototype,O.prototype=new G,O.prototype.constructor=O}},function(I,R,D){'use strict';function O(ae,le,de){for(var ue=1e+101,ce=0;ce<ae.length;ce++)for(var me=ce;me<le.length;me++){var pe=de(ae[ce],le[me]);ue=Math.min(pe,ue)}return ue}function E(ae,le,de){for(var ue=-1,ce=0;ce<ae.length;ce++)for(var me=ce;me<le.length;me++){var pe=de(ae[ce],le[me]);ue=Math.max(pe,ue)}return ue}function G(ae,le,de){for(var ue=0,ce=0;ce<ae.length;ce++)for(var me=0;me<le.length;me++)ue+=de(ae[ce],le[me]);return ue/(ae.length*le.length)}function Z(ae,le,de){for(var ue=0,ce=0,me=0,pe=0,ge=0;ge<ae.length;ge++)ue+=ae[ge][0],ce+=ae[ge][1];for(var he=0;he<le.length;he++)me+=le[he][0],pe+=le[he][1];return ue/=ae.length,ce/=ae.length,me/=le.length,pe/=le.length,de([ue,ce],[me,pe])}function $(ae,le,de){for(var ue=0,ce=0,me=0,pe=0,ge=0;ge<ae.length;ge++)ue+=ae[ge][0],ce+=ae[ge][1];for(var he=0;he<le.length;he++)me+=le[he][0],pe+=le[he][1];return ue/=ae.length,ce/=ae.length,me/=le.length,pe/=le.length,de([ue,ce],[me,pe])*ae.length*le.length/(ae.length+le.length)}function ee(ae,le,de){for(var ue={d:0,p:0},ce=Array(ae[0].length),me=0;me<ae[0].length;me++)ce[me]=le[ae[0][me]];for(var pe=Array(ae[1].length),ge=0;ge<ae[1].length;ge++)pe[ge]=le[ae[1][ge]];for(var fe=0,he,xe;fe<ce.length;fe++){he=0;for(var ye=0;ye<ce.length;ye++)fe!==ye&&(he+=de(ce[fe],ce[ye]));he/=ce.length-1,xe=0;for(var je=0;je<pe.length;je++)xe+=de(ce[fe],pe[je]);xe/=pe.length,he-xe>ue.d&&(ue.d=he-xe,ue.p=fe)}return ue}function te(ae,le,de){for(var ue=0,ce=0,me=0;me<ae.length;me++)for(var pe=me;pe<ae.length;pe++)ue+=de(le[ae[me].index],le[ae[pe].index]),ce++;return ue/ce}var ie=D(47),ne=D(146),oe=D(147),se={dist:ie,kind:'single'};I.exports=function(le,de){for(var ue in de=de||{},se)de.hasOwnProperty(ue)||(de[ue]=se[ue]);if('string'==typeof de.kind)switch(de.kind){case'single':de.kind=O;break;case'complete':de.kind=E;break;case'average':de.kind=G;break;case'centroid':de.kind=Z;break;case'ward':de.kind=$;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof de.kind)throw new TypeError('Undefined kind of similarity');var ce=new oe;ce.children=Array(le.length),ce.index=Array(le.length);for(var me=0;me<le.length;me++)ce.children[me]=new ne(me),ce.index[me]=new ne(me);ce.distance=te(ce.index,le,de.dist);for(var ye=[ce],pe,ge,he,xe,fe;0<ye.length;){ge=0,he=0;for(var je=0;je<ye.length;je++){pe=0;for(var ke=0;ke<ye[je].length;ke++)for(var we=ke+1;we<ye[je].length;we++)pe=Math.max(de.dist(le[ye[je].index[ke].index],le[ye[je].index[we].index]),pe);pe>ge&&(ge=pe,he=je)}if(ge=0,2===ye[he].index.length)ye[he].children=[ye[he].index[0],ye[he].index[1]],ye[he].distance=de.dist(le[ye[he].index[0].index],le[ye[he].index[1].index]);else if(3===ye[he].index.length){ye[he].children=[ye[he].index[0],ye[he].index[1],ye[he].index[2]];var be=[de.dist(le[ye[he].index[0].index],le[ye[he].index[1].index]),de.dist(le[ye[he].index[1].index],le[ye[he].index[2].index])];ye[he].distance=(be[0]+be[1])/2}else{for(var ve=new oe,Se=new oe,Me=[Array(ye[he].index.length),[]],ze=0;ze<Me[0].length;ze++)Me[0][ze]=ze;for(var qe=0;qe<Me[0].length;qe++){xe=0;for(var Ce=0;Ce<Me[0].length;Ce++)qe!==Ce&&(xe+=de.dist(le[ye[he].index[Me[0][Ce]].index],le[ye[he].index[Me[0][qe]].index]));xe/=Me[0].length-1,xe>ge&&(ge=xe,fe=qe)}for(Me[1]=[fe],Me[0].splice(fe,1),xe=ee(Me,le,de.dist);0<xe.d;)Me[1].push(Me[0][xe.p]),Me[0].splice(xe.p,1),xe=ee(Me,le,de.dist);var Ie=Array(Me[0].length);ve.index=Array(Me[0].length);for(var Re=0;Re<Ie.length;Re++)Ie[Re]=le[ye[he].index[Me[0][Re]].index],ve.index[Re]=ye[he].index[Me[0][Re]],ve.children[Re]=ye[he].index[Me[0][Re]];var De=Array(Me[1].length);Se.index=Array(Me[1].length);for(var Ve=0;Ve<De.length;Ve++)De[Ve]=le[ye[he].index[Me[1][Ve]].index],Se.index[Ve]=ye[he].index[Me[1][Ve]],Se.children[Ve]=ye[he].index[Me[1][Ve]];ve.distance=te(ve.index,le,de.dist),Se.distance=te(Se.index,le,de.dist),ye.push(ve),ye.push(Se),ye[he].children=[ve,Se]}ye.splice(he,1)}return ce}},function(module,exports,__webpack_require__){'use strict';function SOM(I,R,D,O){for(var E in this.x=I,this.y=R,D=D||{},this.options={},defaultOptions)this.options[E]=D.hasOwnProperty(E)?D[E]:defaultOptions[E];if('number'==typeof this.options.fields)this.numWeights=this.options.fields;else if(Array.isArray(this.options.fields)){this.numWeights=this.options.fields.length;var G=getConverters(this.options.fields);this.extractor=G.extractor,this.creator=G.creator}else throw new Error('Invalid fields definition');if('rect'===this.options.gridType)this.nodeType=NodeSquare,this.gridDim={x:I,y:R};else{this.nodeType=NodeHexagonal;var Z=this.x-Math.floor(this.y/2);this.gridDim={x:Z,y:this.y,z:-(0-Z-this.y)}}if(this.torus=this.options.torus,this.distanceMethod=this.torus?'getDistanceTorus':'getDistance',this.distance=this.options.distance,this.maxDistance=getMaxDistance(this.distance,this.numWeights),!0===O)return void(this.done=!0);if(!(0<I&&0<R))throw new Error('x and y must be positive');this.times={findBMU:0,adjust:0},this.randomizer=this.options.randomizer,this.iterationCount=0,this.iterations=this.options.iterations,this.startLearningRate=this.learningRate=this.options.learningRate,this.mapRadius=Math.floor(Math.max(I,R)/2),this.algorithmMethod=this.options.method,this._initNodes(),this.done=!1}function getConverters(I){for(var R=I.length,D=Array(R),O=Array(R),E=0;E<R;E++)D[E]=getNormalizer(I[E].range),O[E]=getDenormalizer(I[E].range);return{extractor:function(Z){for(var $=Array(R),ee=0;ee<R;ee++)$[ee]=D[ee](Z[I[ee].name]);return $},creator:function(Z){for(var $={},ee=0;ee<R;ee++)$[I[ee].name]=O[ee](Z[ee]);return $}}}function getNormalizer(I){return function(D){return(D-I[0])/(I[1]-I[0])}}function getDenormalizer(I){return function(D){return I[0]+D*(I[1]-I[0])}}function getRandomValue(I,R){return I[Math.floor(R()*I.length)]}function getMaxDistance(I,R){for(var D=Array(R),O=Array(R),E=0;E<R;E++)D[E]=0,O[E]=1;return I(D,O)}var NodeSquare=__webpack_require__(156),NodeHexagonal=__webpack_require__(157),defaultOptions={fields:3,randomizer:Math.random,distance:function(R,D){for(var O=0,E=0,G=R.length;E<G;E++)O+=(R[E]-D[E])*(R[E]-D[E]);return O},iterations:10,learningRate:0.1,gridType:'rect',torus:!0,method:'random'};SOM.load=function(model,distance){if('SOM'===model.name){var x=model.data.length,y=model.data[0].length;distance?model.options.distance=distance:model.options.distance&&(model.options.distance=eval('('+model.options.distance+')'));var som=new SOM(x,y,model.options,!0);som.nodes=Array(x);for(var i=0;i<x;i++){som.nodes[i]=Array(y);for(var j=0;j<y;j++)som.nodes[i][j]=new som.nodeType(i,j,model.data[i][j],som)}return som}throw new Error('expecting a SOM model')},SOM.prototype.export=function(R){if(!this.done)throw new Error('model is not ready yet');var D={name:'SOM'};D.options={fields:this.options.fields,gridType:this.options.gridType,torus:this.options.torus},D.data=Array(this.x);for(var O=0;O<this.x;O++){D.data[O]=Array(this.y);for(var E=0;E<this.y;E++)D.data[O][E]=this.nodes[O][E].weights}return R&&(D.options.distance=this.distance.toString()),D},SOM.prototype._initNodes=function(){var R=Date.now(),D,O,E;for(this.nodes=Array(this.x),D=0;D<this.x;D++)for(this.nodes[D]=Array(this.y),O=0;O<this.y;O++){var G=Array(this.numWeights);for(E=0;E<this.numWeights;E++)G[E]=this.randomizer();this.nodes[D][O]=new this.nodeType(D,O,G,this)}this.times.initNodes=Date.now()-R},SOM.prototype.setTraining=function(R){if(this.trainingSet)throw new Error('training set has already been set');var D=Date.now(),O=R,E,G=R.length;if(this.extractor)for(O=Array(G),E=0;E<G;E++)O[E]=this.extractor(R[E]);this.numIterations=this.iterations*G,this.timeConstant='random'===this.algorithmMethod?this.numIterations/Math.log(this.mapRadius):G/Math.log(this.mapRadius),this.trainingSet=O,this.times.setTraining=Date.now()-D},SOM.prototype.trainOne=function(){if(this.done)return!1;if(0<this.numIterations--){var R,D,O;return'random'===this.algorithmMethod?(R=this.mapRadius*Math.exp(-this.iterationCount/this.timeConstant),D=getRandomValue(this.trainingSet,this.randomizer),this._adjust(D,R),this.learningRate=this.startLearningRate*Math.exp(-this.iterationCount/this.numIterations)):(O=-Math.floor(this.iterationCount/this.trainingSet.length),R=this.mapRadius*Math.exp(O/this.timeConstant),D=this.trainingSet[this.iterationCount%this.trainingSet.length],this._adjust(D,R),0==(this.iterationCount+1)%this.trainingSet.length&&(this.learningRate=this.startLearningRate*Math.exp(O/Math.floor(this.numIterations/this.trainingSet.length)))),this.iterationCount++,!0}return this.done=!0,!1},SOM.prototype._adjust=function(R,D){var O=Date.now(),E,G,Z,$,ee=this._findBestMatchingUnit(R),te=Date.now();this.times.findBMU+=te-O;var ie=Math.floor(D),ne=ee.x-ie,oe=ee.x+ie,se=ee.y-ie,ae=ee.y+ie;for(E=ne;E<=oe;E++){var le=E;for(0>E?le+=this.x:E>=this.x&&(le-=this.x),G=se;G<=ae;G++){var de=G;0>G?de+=this.y:G>=this.y&&(de-=this.y),Z=ee[this.distanceMethod](this.nodes[le][de]),Z<D&&($=Math.exp(-Z/(2*D)),this.nodes[le][de].adjustWeights(R,this.learningRate,$))}}this.times.adjust+=Date.now()-te},SOM.prototype.train=function(R){if(!this.done)for(this.setTraining(R);this.trainOne(););},SOM.prototype.getConvertedNodes=function(){for(var R=Array(this.x),D=0;D<this.x;D++){R[D]=Array(this.y);for(var O=0;O<this.y;O++){var E=this.nodes[D][O];R[D][O]=this.creator?this.creator(E.weights):E.weights}}return R},SOM.prototype._findBestMatchingUnit=function(R){for(var O=1/0,G=0,D,E;G<this.x;G++)for(var Z=0;Z<this.y;Z++)E=this.distance(this.nodes[G][Z].weights,R),E<O&&(O=E,D=this.nodes[G][Z]);return D},SOM.prototype.predict=function(R,D){if('boolean'==typeof R&&(D=R,R=null),R||(R=this.trainingSet),Array.isArray(R)&&(Array.isArray(R[0])||'object'==typeof R[0])){var O=this;return R.map(function(E){return O._predict(E,D)})}return this._predict(R,D)},SOM.prototype._predict=function(R,D){Array.isArray(R)||(R=this.extractor(R));var O=this._findBestMatchingUnit(R),E=[O.x,O.y];return D&&(E[2]=O.getPosition(R)),E},SOM.prototype.getQuantizationError=function(){for(var R=this.getFit(),D=R.length,O=0,E=0;E<D;E++)O+=R[E];return O/D},SOM.prototype.getFit=function(R){R||(R=this.trainingSet);for(var D=R.length,E=Array(D),G=0,O;G<D;G++)O=this._findBestMatchingUnit(R[G]),E[G]=Math.sqrt(this.distance(R[G],O.weights));return E},module.exports=SOM},function(I,R){function D(O,E,G,Z){this.x=O,this.y=E,this.weights=G,this.som=Z,this.neighbors={}}D.prototype.adjustWeights=function(E,G,Z){for(var $=0,ee=this.weights.length;$<ee;$++)this.weights[$]+=G*Z*(E[$]-this.weights[$])},D.prototype.getDistance=function(E){return Math.max(Math.abs(this.x-E.x),Math.abs(this.y-E.y))},D.prototype.getDistanceTorus=function(E){var G=Math.abs(this.x-E.x),Z=Math.abs(this.y-E.y);return Math.max(Math.min(G,this.som.gridDim.x-G),Math.min(Z,this.som.gridDim.y-Z))},D.prototype.getNeighbors=function(E){if(!this.neighbors[E]){this.neighbors[E]=[,,];var G;if(0<this[E]?G=this[E]-1:this.som.torus&&(G=this.som.gridDim[E]-1),'undefined'!=typeof G){var Z,$;'x'===E?(Z=G,$=this.y):(Z=this.x,$=G),this.neighbors[E][0]=this.som.nodes[Z][$]}var ee;this[E]<this.som.gridDim[E]-1?ee=this[E]+1:this.som.torus&&(ee=0),'undefined'!=typeof ee&&('x'===E?(Z=ee,$=this.y):(Z=this.x,$=ee),this.neighbors[E][1]=this.som.nodes[Z][$])}return this.neighbors[E]},D.prototype.getPos=function(E,G){var Z=this.getNeighbors(E),$=this.som.distance,ee,te;if(!Z[0])ee=Z[1],te=1;else if(Z[1]){var ie=$(G,Z[0].weights),ne=$(G,Z[1].weights);ie<ne?(ee=Z[0],te=-1):(ee=Z[1],te=1)}else ee=Z[0],te=-1;var oe=1-$(G,this.weights),se=1-$(G,ee.weights);return 0.5+0.5*((oe-se)/(2-oe-se))*te},D.prototype.getPosition=function(E){return[this.getPos('x',E),this.getPos('y',E)]},I.exports=D},function(I,R,D){function O(G,Z,$,ee){E.call(this,G,Z,$,ee),this.hX=G-Math.floor(Z/2),this.z=0-this.hX-Z}var E=D(156);O.prototype=new E,O.prototype.constructor=O,O.prototype.getDistance=function(Z){return Math.max(Math.abs(this.hX-Z.hX),Math.abs(this.y-Z.y),Math.abs(this.z-Z.z))},O.prototype.getDistanceTorus=function(Z){var $=Math.abs(this.hX-Z.hX),ee=Math.abs(this.y-Z.y),te=Math.abs(this.z-Z.z);return Math.max(Math.min($,this.som.gridDim.x-$),Math.min(ee,this.som.gridDim.y-ee),Math.min(te,this.som.gridDim.z-te))},O.prototype.getPosition=function(){throw new Error('Unimplemented : cannot get position of the points for hexagonal grid')},I.exports=O},function(I,R,D){I.exports=D(159)},function(I,R,D){'use strict';function O($,ee){return Math.floor(Math.random()*(ee-$+1)+$)}var E=D(160),G=D(14);class ${constructor(ee,te){if(!0===ee){const ie=te;this.layers=ie.layers,this.inputSize=ie.inputSize,this.outputSize=ie.outputSize}else{if(ee.length!==te.length)throw new RangeError('X and Y must have the same size.');this.X=ee,this.Y=te,this.inputSize=ee[0].length,this.outputSize=te[0].length}}buildNetwork(ee){ee.push(this.outputSize),this.layers=Array(ee.length);for(var te=0;te<ee.length;++te){var ie=0==te?this.inputSize:ee[te-1];this.layers[te]=new E(ie,ee[te])}this.layers[this.layers.length-1].isSigmoid=!1}forwardNN(ee){for(var te=ee.slice(),ie=0;ie<this.layers.length;++ie)te=this.layers[ie].forward(te);return te}iteration(ee,te,ie,ne){var oe=this.forwardNN(ee),se=Array(oe.length);'number'==typeof te&&(te=[te]);for(var ae=0;ae<se.length;ae++)se[ae]=te[ae]-oe[ae];var le=this.layers.length;for(ae=0;ae<le;++ae)se=this.layers[le-1-ae].train(se,ie,ne)}train(ee){ee===void 0&&(ee={});const te=this.X,ie=this.Y;var ne=ee.hiddenLayers===void 0?[10]:ee.hiddenLayers,oe=ee.iterations===void 0?50:ee.iterations,se=ee.learningRate===void 0?0.1:ee.learningRate,ae=ee.momentum===void 0?0.1:ee.momentum;this.buildNetwork(ne);for(var le=0;le<oe;++le)for(var de=0;de<ie.length;++de){var ue=O(0,ie.length-1);this.iteration(te[ue],ie[ue],se,ae)}}predict(ee){if(ee[0].length!==this.inputSize)throw new RangeError('The dataset columns must have the same size of the input layer');for(var te=Array(ee.length),ie=0;ie<ee.length;ie++)te[ie]=this.forwardNN(ee[ie]);return te=new G(te),te}toJSON(){return{name:'FNN',layers:this.layers,inputSize:this.inputSize,outputSize:this.outputSize}}static load(ee){if('FNN'!==ee.name)throw new RangeError('Invalid model: '+ee.name);return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';function O($,ee,te){var ie=2.449489742783/Math.sqrt(ee+te);return Z.rand(1,$).mul(2*ie).sub(ie).getRow(0)}function E($){return 1/(1+Math.exp(-$))}function G($){return $*(1-$)}var Z=D(14);I.exports=class{constructor(ee,te){this.output=Z.zeros(1,te).getRow(0),this.input=Z.zeros(1,ee+1).getRow(0),this.deltaWeights=Z.zeros(1,(1+ee)*te).getRow(0),this.weights=O(this.deltaWeights.length,ee,te),this.isSigmoid=!0}forward(ee){this.input=ee.slice(),this.input.push(1);var te=0;this.output=Z.zeros(1,this.output.length).getRow(0);for(var ie=0;ie<this.output.length;++ie){for(var ne=0;ne<this.input.length;++ne)this.output[ie]+=this.weights[te+ne]*this.input[ne];this.isSigmoid&&(this.output[ie]=E(this.output[ie])),te+=this.input.length}return this.output.slice()}train(ee,te,ie){for(var ne=0,oe=Z.zeros(1,this.input.length).getRow(0),se=0;se<this.output.length;++se){var ae=ee[se];this.isSigmoid&&(ae*=G(this.output[se]));for(var le=0;le<this.input.length;++le){var de=ne+le;oe[le]+=this.weights[de]*ae;var ue=this.input[le]*ae*te;this.weights[de]+=this.deltaWeights[de]*ie+ue,this.deltaWeights[de]=ue}ne+=this.input.length}return oe}}}])});;
//# sourceMappingURL=ml.min.js.map