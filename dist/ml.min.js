(function(e,i){'object'==typeof exports&&'object'==typeof module?module.exports=i():'function'==typeof define&&define.amd?define([],i):'object'==typeof exports?exports.ML=i():e.ML=i()})(this,function(){var e=Number.MIN_VALUE,t=Number.MAX_VALUE,n=Math.ceil,o=Math.tanh,s=Math.log,r=Math.pow,l=Math.exp,u=Math.abs,a=Number.EPSILON,v=Math.max,M=Math.min,c=Math.floor,m=Number.isInteger,S=Math.sqrt;return function(e){function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var t={};return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e['default']}:function(){return e};return i.d(t,'a',t),t},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p='',i(i.s=97)}([function(e,i,t){'use strict';e.exports=t(4).Matrix,e.exports.Decompositions=e.exports.DC=t(187)},function(e){'use strict';function i(e,t){for(var n=0,o=0;o<e.length;o++)n+=(e[o]-t[o])*(e[o]-t[o]);return n}function t(e,t){return S(i(e,t))}e.exports=t,t.squared=i},function(e,i,t){'use strict';i.array=t(76),i.matrix=t(248)},function(e,i,t){'use strict';var n=t(163),o=t.n(n),s=t(23),r=t(15);class a extends t.i(s.a)(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(a.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,i,t){return this[e][i]=t,this}get(e,i){return this[e][i]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),i=0;i<this.rows;i++)for(var t=0;t<this.columns;t++)e.set(i,t,this.get(i,t));return e}removeRow(e){if(t.i(r.a)(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,i){return void 0===i&&(i=e,e=this.rows),t.i(r.a)(this,e,!0),i=t.i(r.b)(this,i,!0),this.splice(e,0,i),this.rows+=1,this}removeColumn(e){if(t.i(r.c)(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var n=0;n<this.rows;n++)this[n].splice(e,1);return this.columns-=1,this}addColumn(e,n){'undefined'==typeof n&&(n=e,e=this.columns),t.i(r.c)(this,e,!0),n=t.i(r.d)(this,n);for(var o=0;o<this.rows;o++)this[o].splice(e,0,n[o]);return this.columns+=1,this}}i.a=a},function(e,i,t){'use strict';t(188);var n=t(62),o=t(16);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,i,t){return this[e][i]=t,this}get(e,i){return this[e][i]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),i=0;i<this.rows;i++)for(var t=0;t<this.columns;t++)e.set(i,t,this.get(i,t));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,i){return void 0===i&&(i=e,e=this.rows),o.checkRowIndex(this,e,!0),i=o.checkRowVector(this,i,!0),this.splice(e,0,i),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}i.Matrix=s,s.abstractMatrix=n},function(e,i,t){'use strict';var n=t(207),o=t.n(n),s=t(28),r=t(17);class a extends t.i(s.a)(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(a.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,i,t){return this[e][i]=t,this}get(e,i){return this[e][i]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),i=0;i<this.rows;i++)for(var t=0;t<this.columns;t++)e.set(i,t,this.get(i,t));return e}removeRow(e){if(t.i(r.a)(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,i){return void 0===i&&(i=e,e=this.rows),t.i(r.a)(this,e,!0),i=t.i(r.b)(this,i,!0),this.splice(e,0,i),this.rows+=1,this}removeColumn(e){if(t.i(r.c)(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var n=0;n<this.rows;n++)this[n].splice(e,1);return this.columns-=1,this}addColumn(e,n){'undefined'==typeof n&&(n=e,e=this.columns),t.i(r.c)(this,e,!0),n=t.i(r.d)(this,n);for(var o=0;o<this.rows;o++)this[o].splice(e,0,n[o]);return this.columns+=1,this}}i.a=a},function(e,i,t){'use strict';var n=t(220),o=t.n(n),s=t(31),r=t(18);class a extends t.i(s.a)(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(a.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,i,t){return this[e][i]=t,this}get(e,i){return this[e][i]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),i=0;i<this.rows;i++)for(var t=0;t<this.columns;t++)e.set(i,t,this.get(i,t));return e}removeRow(e){if(t.i(r.a)(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,i){return void 0===i&&(i=e,e=this.rows),t.i(r.a)(this,e,!0),i=t.i(r.b)(this,i,!0),this.splice(e,0,i),this.rows+=1,this}removeColumn(e){if(t.i(r.c)(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var n=0;n<this.rows;n++)this[n].splice(e,1);return this.columns-=1,this}addColumn(e,n){'undefined'==typeof n&&(n=e,e=this.columns),t.i(r.c)(this,e,!0),n=t.i(r.d)(this,n);for(var o=0;o<this.rows;o++)this[o].splice(e,0,n[o]);return this.columns+=1,this}}i.a=a},function(e,i,t){'use strict';var n=t(233),o=t.n(n),s=t(35),r=t(19);class a extends t.i(s.a)(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(a.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,i,t){return this[e][i]=t,this}get(e,i){return this[e][i]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),i=0;i<this.rows;i++)for(var t=0;t<this.columns;t++)e.set(i,t,this.get(i,t));return e}removeRow(e){if(t.i(r.a)(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,i){return void 0===i&&(i=e,e=this.rows),t.i(r.a)(this,e,!0),i=t.i(r.b)(this,i,!0),this.splice(e,0,i),this.rows+=1,this}removeColumn(e){if(t.i(r.c)(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var n=0;n<this.rows;n++)this[n].splice(e,1);return this.columns-=1,this}addColumn(e,n){'undefined'==typeof n&&(n=e,e=this.columns),t.i(r.c)(this,e,!0),n=t.i(r.d)(this,n);for(var o=0;o<this.rows;o++)this[o].splice(e,0,n[o]);return this.columns+=1,this}}i.a=a},function(e,i,t){'use strict';var n=t(23),o=t(3);class s extends t.i(n.a)(){constructor(e,i,t){super(),this.matrix=e,this.rows=i,this.columns=t}static get[Symbol.species](){return o.a}}i.a=s},function(e,i,t){'use strict';var n=t(62),o=t(4);class s extends n(){constructor(e,i,t){super(),this.matrix=e,this.rows=i,this.columns=t}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,i,t){'use strict';var n=t(28),o=t(5);class s extends t.i(n.a)(){constructor(e,i,t){super(),this.matrix=e,this.rows=i,this.columns=t}static get[Symbol.species](){return o.a}}i.a=s},function(e,i,t){'use strict';var n=t(31),o=t(6);class s extends t.i(n.a)(){constructor(e,i,t){super(),this.matrix=e,this.rows=i,this.columns=t}static get[Symbol.species](){return o.a}}i.a=s},function(e,i,t){'use strict';var n=t(35),o=t(7);class s extends t.i(n.a)(){constructor(e,i,t){super(),this.matrix=e,this.rows=i,this.columns=t}static get[Symbol.species](){return o.a}}i.a=s},function(e,i,t){e.exports=i=t(100),i.getEquallySpacedData=t(101).getEquallySpacedData,i.SNV=t(102).SNV},function(e,i,t){'use strict';var n=t(201);t.d(i,'c',function(){return n.a});var o=t(200);t.d(i,'b',function(){return o.a});class s{constructor(){if(new.target===s)throw new Error('BaseRegression must be subclassed')}predict(e){if('number'==typeof e)return this._predict(e);if(Array.isArray(e)){const t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=this._predict(e[n]);return t}throw new TypeError('x must be a number or array')}_predict(){throw new Error('_predict must be implemented')}train(){}toString(){return''}toLaTeX(){return''}score(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)throw new Error('x and y must be arrays of the same length');const o=e.length,n=Array(o);for(let s=0;s<o;s++)n[s]=this._predict(e[s]);let s=0,a=0,l=0,c=0,m=0,u=0,d=0;for(let r=0;r<o;r++)s+=n[r],a+=t[r],m+=n[r]*n[r],u+=t[r]*t[r],d+=n[r]*t[r],0!==t[r]&&(l+=(t[r]-n[r])*(t[r]-n[r])/t[r]),c=(t[r]-n[r])*(t[r]-n[r]);const i=(o*d-s*a)/S((o*m-s*s)*(o*u-a*a));return{r:i,r2:i*i,chi2:l,rmsd:c*c/o}}}i.a=s},function(e,i,t){'use strict';i.a=function(e,i,t){var n=t?e.rows:e.rows-1;if(0>i||i>n)throw new RangeError('Row index out of range')},i.c=function(e,i,t){var n=t?e.columns:e.columns-1;if(0>i||i>n)throw new RangeError('Column index out of range')},i.b=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return i},i.d=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return i},i.i=function(e,i,t){var n=i.some((i)=>{return 0>i||i>=e.rows}),o=t.some((i)=>{return 0>i||i>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof i||'object'!=typeof t)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(i)||(i=Array.from(i)),Array.isArray(t)||(i=Array.from(t)),{row:i,column:t}},i.h=function(e,i,t,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(i>t||n>o||0>i||i>=e.rows||0>t||t>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},i.e=function(e){for(var t=n.a.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},i.f=function(e){for(var t=n.a.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},i.g=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t};var n=t(3)},function(e,i,t){'use strict';var n=t(4);i.checkRowIndex=function(e,i,t){var n=t?e.rows:e.rows-1;if(0>i||i>n)throw new RangeError('Row index out of range')},i.checkColumnIndex=function(e,i,t){var n=t?e.columns:e.columns-1;if(0>i||i>n)throw new RangeError('Column index out of range')},i.checkRowVector=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return i},i.checkColumnVector=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return i},i.checkIndices=function(e,i,t){var n=i.some((i)=>{return 0>i||i>=e.rows}),o=t.some((i)=>{return 0>i||i>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof i||'object'!=typeof t)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(i)||(i=Array.from(i)),Array.isArray(t)||(i=Array.from(t)),{row:i,column:t}},i.checkRange=function(e,i,t,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(i>t||n>o||0>i||i>=e.rows||0>t||t>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},i.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},i.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},i.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},i.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,i,t){'use strict';i.a=function(e,i,t){var n=t?e.rows:e.rows-1;if(0>i||i>n)throw new RangeError('Row index out of range')},i.c=function(e,i,t){var n=t?e.columns:e.columns-1;if(0>i||i>n)throw new RangeError('Column index out of range')},i.b=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return i},i.d=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return i},i.i=function(e,i,t){var n=i.some((i)=>{return 0>i||i>=e.rows}),o=t.some((i)=>{return 0>i||i>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof i||'object'!=typeof t)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(i)||(i=Array.from(i)),Array.isArray(t)||(i=Array.from(t)),{row:i,column:t}},i.h=function(e,i,t,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(i>t||n>o||0>i||i>=e.rows||0>t||t>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},i.e=function(e){for(var t=n.a.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},i.f=function(e){for(var t=n.a.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},i.g=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t};var n=t(5)},function(e,i,t){'use strict';i.a=function(e,i,t){var n=t?e.rows:e.rows-1;if(0>i||i>n)throw new RangeError('Row index out of range')},i.c=function(e,i,t){var n=t?e.columns:e.columns-1;if(0>i||i>n)throw new RangeError('Column index out of range')},i.b=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return i},i.d=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return i},i.i=function(e,i,t){var n=i.some((i)=>{return 0>i||i>=e.rows}),o=t.some((i)=>{return 0>i||i>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof i||'object'!=typeof t)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(i)||(i=Array.from(i)),Array.isArray(t)||(i=Array.from(t)),{row:i,column:t}},i.h=function(e,i,t,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(i>t||n>o||0>i||i>=e.rows||0>t||t>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},i.e=function(e){for(var t=n.a.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},i.f=function(e){for(var t=n.a.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},i.g=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t};var n=t(6)},function(e,i,t){'use strict';i.a=function(e,i,t){var n=t?e.rows:e.rows-1;if(0>i||i>n)throw new RangeError('Row index out of range')},i.c=function(e,i,t){var n=t?e.columns:e.columns-1;if(0>i||i>n)throw new RangeError('Column index out of range')},i.b=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return i},i.d=function(e,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return i},i.i=function(e,i,t){var n=i.some((i)=>{return 0>i||i>=e.rows}),o=t.some((i)=>{return 0>i||i>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof i||'object'!=typeof t)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(i)||(i=Array.from(i)),Array.isArray(t)||(i=Array.from(t)),{row:i,column:t}},i.h=function(e,i,t,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(i>t||n>o||0>i||i>=e.rows||0>t||t>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},i.e=function(e){for(var t=n.a.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},i.f=function(e){for(var t=n.a.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},i.g=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t};var n=t(7)},function(e,i,t){'use strict';const n=t(162).Matrix,o=t(156),s=t(157),r=t(171),a=t(172),l=t(173),c=t(174),m=t(175),u=t(176),d=t(177),g=t(158),p={gaussian:o,rbf:o,polynomial:s,poly:s,anova:r,cauchy:a,exponential:l,histogram:c,min:c,laplacian:m,multiquadratic:u,rational:d,sigmoid:g,mlp:g};e.exports=class{constructor(e,i){if(this.kernelType=e,'linear'!==e)if('string'==typeof e){e=e.toLowerCase();var t=p[e];if(t)this.kernelFunction=new t(i);else throw new Error('unsupported kernel type: '+e)}else if('object'==typeof e&&'function'==typeof e.compute)this.kernelFunction=e;else throw new TypeError('first argument must be a valid kernel type or instance')}compute(e,t){if(void 0===t&&(t=e),'linear'===this.kernelType){var o=new n(e);return o.mmul(new n(t).transposeView())}const s=new n(e.length,t.length);var r,i;if(e===t)for(r=0;r<e.length;r++)for(i=r;i<e.length;i++)s[r][i]=s[i][r]=this.kernelFunction.compute(e[r],e[i]);else for(r=0;r<e.length;r++)for(i=0;i<t.length;i++)s[r][i]=this.kernelFunction.compute(e[r],t[i]);return s}}},function(e){'use strict';var i=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=function(e){return'function'==typeof Array.isArray?Array.isArray(e):'[object Array]'===t.call(e)},o=function(e){if(!e||'[object Object]'!==t.call(e))return!1;var n=i.call(e,'constructor'),o=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,'isPrototypeOf');if(e.constructor&&!n&&!o)return!1;for(var s in e);return'undefined'==typeof s||i.call(e,s)};e.exports=function e(){var t=arguments[0],s=1,i=arguments.length,r=!1,a,l,c,m,u,d;for('boolean'==typeof t&&(r=t,t=arguments[1]||{},s=2),(null==t||'object'!=typeof t&&'function'!=typeof t)&&(t={});s<i;++s)if(a=arguments[s],null!=a)for(l in a)c=t[l],m=a[l],t!==m&&(r&&m&&(o(m)||(u=n(m)))?(u?(u=!1,d=c&&n(c)?c:[]):d=c&&o(c)?c:{},t[l]=e(r,d,m)):'undefined'!=typeof m&&(t[l]=m));return t}},function(e,i,t){'use strict';function n(){this.children=[],this.distance=-1,this.index=[]}const o=t(98);n.prototype.cut=function(e){if(0>e)throw new RangeError('Threshold too small');var i=new n;i.children=this.children,i.distance=this.distance,i.index=this.index;for(var t=[i],o=[];0<t.length;){var s=t.shift();e>=s.distance?o.push(s):t=t.concat(s.children)}return o},n.prototype.group=function(e){if(!m(e)||1>e)throw new RangeError('Number of groups must be a positive integer');const i=new o(function(e,i){return i.distance-e.distance});for(i.push(this);i.size()<e;){var t=i.pop();if(0===t.children.length)break;t.children.forEach((e)=>i.push(e))}var s=new n;return s.children=i.toArray(),s.distance=this.distance,s},n.prototype.traverse=function(e){function t(e,n){if(n(e),e.children)for(var o=e.children.length-1;0<=o;o--)t(e.children[o],n)}t(this,e)},e.exports=n},function(e,i,t){'use strict';i.a=function(e){function r(e,i){return e-i}function x(e,i){for(var t in i)e=e.replace(new RegExp('%'+t+'%','g'),i[t]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,i,t){if(e*i!==t.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,i),o=0;o<e;o++)for(var s=0;s<i;s++)n.set(o,s,t[o*i+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,i){return new this(e,i)}static zeros(e,i){return this.empty(e,i).fill(0)}static ones(e,i){return this.empty(e,i).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,v(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var i=0;i<=e;i++)if(this.get(e,i)!==this.get(i,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.a(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.a(this,e),t=l.b(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.a(this,e),l.a(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.c(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.c(this,e),t=l.d(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.c(this,e),l.c(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.a(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.c(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.e(this):'column'===e?l.f(this):l.g(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var i=new this.constructor[Symbol.species](2,2);const t=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(t+l)*(n+c),u=(r+l)*n,d=t*(s-c),g=l*(a-n),p=(t+o)*c;return i.set(0,0,m+g-p+(o-l)*(a+c)),i.set(0,1,d+p),i.set(1,0,u+g),i.set(1,1,m-u+d+(r-t)*(n+s)),i}strassen3x3(e){var i=new this.constructor[Symbol.species](3,3);const t=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),d=e.get(0,1),g=e.get(0,2),p=e.get(1,0),h=e.get(1,1),j=e.get(1,2),k=e.get(2,0),x=e.get(2,1),w=e.get(2,2),f=(t-s)*(-d+h),y=(-t+s+r)*(u-d+h),b=(s+r)*(-u+d),v=t*u,M=(-t+l+c)*(u-g+j),S=(-t+l)*(g-j),z=(l+c)*(-u+g),R=(-o+c+m)*(h+k-x),V=(o-m)*(h-x),I=o*k,D=(c+m)*(-k+x),C=(-o+r+a)*(j+k-w),P=(o-a)*(j-w),A=(r+a)*(-k+w);return i.set(0,0,v+I+n*p),i.set(0,1,(t+n+o-s-r-c-m)*h+y+b+v+R+I+D),i.set(0,2,v+M+z+(t+n+o-r-a-l-c)*j+I+C+A),i.set(1,0,f+r*(-u+d+p-h-j-k+w)+y+v+I+C+P),i.set(1,1,f+y+b+v+a*x),i.set(1,2,I+C+P+A+s*g),i.set(2,0,v+M+S+c*(-u+g+p-h-j-k+x)+R+V+I),i.set(2,1,R+V+I+D+l*d),i.set(2,2,v+M+S+z+m*w),i}mmulStrassen(e){function i(e,i,t){var n=e.rows,o=e.columns;if(n===i&&o===t)return e;var s=w.zeros(i,t);return s=s.setSubMatrix(e,0,0),s}function t(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=i(e,o+1,s+1),n=i(n,o+1,s+1)):1==o%2?(e=i(e,o+1,s),n=i(n,o+1,s)):1==s%2&&(e=i(e,o,s+1),n=i(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),d=e.subMatrix(r,e.rows-1,0,a-1),g=n.subMatrix(r,n.rows-1,0,a-1),p=e.subMatrix(r,e.rows-1,a,e.columns-1),h=n.subMatrix(r,n.rows-1,a,n.columns-1),j=t(w.add(l,p),w.add(c,h),r,a),k=t(w.add(d,p),c,r,a),x=t(l,w.sub(u,h),r,a),f=t(p,w.sub(g,c),r,a),y=t(w.add(l,m),h,r,a),b=t(w.sub(d,l),w.add(c,u),r,a),v=t(w.sub(m,p),w.add(g,h),r,a),M=w.add(j,f);M.sub(y),M.add(v);var S=w.add(x,y),z=w.add(k,f),R=w.sub(j,k);R.add(x),R.add(b);var V=w.zeros(2*M.rows,2*M.columns);return V=V.setSubMatrix(M,0,0),V=V.setSubMatrix(S,M.rows,0),V=V.setSubMatrix(z,0,M.columns),V=V.setSubMatrix(R,M.rows,M.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=v(o,a),r=v(s,l);return n=i(n,m,r),e=i(e,m,r),t(n,e,m,r)}scaleRows(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.rows;r++)i=t.i(s.scale)(this.getRow(r),{min:e,max:n}),o.setRow(r,i);return o}scaleColumns(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.columns;r++)i=t.i(s.scale)(this.getColumn(r),{min:e,max:n}),o.setColumn(r,i);return o}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=r);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=r);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.h(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.h(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.i(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m.a(this)}rowView(e){return l.a(this,e),new d.a(this,e)}columnView(e){return l.c(this,e),new h.a(this,e)}flipRowView(){return new j.a(this)}flipColumnView(){return new k.a(this)}subMatrixView(e,i,t,n){return new g.a(this,e,i,t,n)}selectionView(e,i){return new p.a(this,e,i)}det(){if(this.isSquare()){var e,i,t,o;if(2===this.columns)return e=this.get(0,0),i=this.get(0,1),t=this.get(1,0),o=this.get(1,1),e*o-i*t;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),i=this.get(0,1),t=this.get(0,2),e*s.det()-i*r.det()+t*a.det()}return new n.a(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new o.a(this,{autoTranspose:!0}),n=t.leftSingularVectors,r=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=u(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),r.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var f=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,y=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,S=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,z=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,D=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,C=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,P=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,A=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],L=eval,U;for(var i of A){var _=L(x(f,{name:i[1],op:i[0]})),q=L(x(y,{name:i[1]+'S',op:i[0]})),F=L(x(b,{name:i[1]+'M',op:i[0]})),O=L(x(S,{name:i[1]}));for(U=1;U<i.length;U++)w.prototype[i[U]]=_,w.prototype[i[U]+'S']=q,w.prototype[i[U]+'M']=F,w[i[U]]=O}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var W=L(x(z,{name:T[1],method:T[0]})),E=L(x(R,{name:T[1]}));for(U=1;U<T.length;U++)w.prototype[T[U]]=W,w[T[U]]=E}var X=[['Math.pow',1,'pow']];for(var B of X){var Q='arg0';for(U=1;U<B[1];U++)Q+=`, arg${U}`;if(1!==B[1]){var J=L(x(V,{name:B[2],method:B[0],args:Q})),Y=L(x(I,{name:B[2],args:Q}));for(U=2;U<B.length;U++)w.prototype[B[U]]=J,w[B[U]]=Y}else{var H={name:B[2],args:Q,method:B[0]},K=L(x(P,H)),G=L(x(D,H)),Z=L(x(C,H)),$=L(x(I,H));for(U=2;U<B.length;U++)w.prototype[B[U]]=K,w.prototype[B[U]+'M']=Z,w.prototype[B[U]+'S']=G,w[B[U]]=$}}return w};var n=t(24),o=t(60),s=t(13),r=t.n(s),l=t(15),m=t(170),d=t(167),g=t(169),p=t(168),h=t(164),j=t(166),k=t(165)},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.a.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,d,i,g,h,p,s,t,j,k,x;for(d=0;d<a;d++)c[d]=d;for(k=Array(a),i=0;i<l;i++){for(d=0;d<a;d++)k[d]=r[d][i];for(d=0;d<a;d++){for(j=r[d],x=M(d,i),p=0,g=0;g<x;g++)p+=j[g]*k[g];j[i]=k[d]-=p}for(h=i,d=i+1;d<a;d++)u(k[d])>u(k[h])&&(h=d);if(h!==i){for(g=0;g<l;g++)s=r[h][g],r[h][g]=r[i][g],r[i][g]=s;t=c[h],c[h]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(d=i+1;d<a;d++)r[d][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=t(3);n.prototype={isSingular:function(){for(var e=this.LU,i=e.columns,t=0;t<i;t++)if(0===e[t][t])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var i=this.pivotSign,t=e.columns,n=0;n<t;n++)i*=e[n][n];return i},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.a.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},i.a=n},function(e,i){'use strict';i.a=function(e,i){var t;return u(e)>u(i)?(t=i/e,u(e)*S(1+t*t)):0===i?0:(t=e/i,u(i)*S(1+t*t))},i.b=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,i){'use strict';i.hypotenuse=function(e,i){var t;return u(e)>u(i)?(t=i/e,u(e)*S(1+t*t)):0===i?0:(t=e/i,u(i)*S(1+t*t))},i.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},i.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,i,t){'use strict';function n(e,i){return this[e][i]*=this[e][i],this}const o=t(0),s=t(2);e.exports={norm:function(e){return S(e.clone().apply(n).sum())},pow2array:n,featureNormalize:function(e){var i=s.matrix.mean(e),t=s.matrix.standardDeviation(e,i,!0),n=o.checkMatrix(e).subRowVector(i);return{result:n.divRowVector(t),means:i,std:t}}}},function(e,i,t){'use strict';i.a=function(e){function r(e,i){return e-i}function x(e,i){for(var t in i)e=e.replace(new RegExp('%'+t+'%','g'),i[t]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,i,t){if(e*i!==t.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,i),o=0;o<e;o++)for(var s=0;s<i;s++)n.set(o,s,t[o*i+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,i){return new this(e,i)}static zeros(e,i){return this.empty(e,i).fill(0)}static ones(e,i){return this.empty(e,i).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,v(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var i=0;i<=e;i++)if(this.get(e,i)!==this.get(i,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.a(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.a(this,e),t=l.b(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.a(this,e),l.a(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.c(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.c(this,e),t=l.d(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.c(this,e),l.c(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.a(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.c(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.e(this):'column'===e?l.f(this):l.g(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var i=new this.constructor[Symbol.species](2,2);const t=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(t+l)*(n+c),u=(r+l)*n,d=t*(s-c),g=l*(a-n),p=(t+o)*c;return i.set(0,0,m+g-p+(o-l)*(a+c)),i.set(0,1,d+p),i.set(1,0,u+g),i.set(1,1,m-u+d+(r-t)*(n+s)),i}strassen3x3(e){var i=new this.constructor[Symbol.species](3,3);const t=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),d=e.get(0,1),g=e.get(0,2),p=e.get(1,0),h=e.get(1,1),j=e.get(1,2),k=e.get(2,0),x=e.get(2,1),w=e.get(2,2),f=(t-s)*(-d+h),y=(-t+s+r)*(u-d+h),b=(s+r)*(-u+d),v=t*u,M=(-t+l+c)*(u-g+j),S=(-t+l)*(g-j),z=(l+c)*(-u+g),R=(-o+c+m)*(h+k-x),V=(o-m)*(h-x),I=o*k,D=(c+m)*(-k+x),C=(-o+r+a)*(j+k-w),P=(o-a)*(j-w),A=(r+a)*(-k+w);return i.set(0,0,v+I+n*p),i.set(0,1,(t+n+o-s-r-c-m)*h+y+b+v+R+I+D),i.set(0,2,v+M+z+(t+n+o-r-a-l-c)*j+I+C+A),i.set(1,0,f+r*(-u+d+p-h-j-k+w)+y+v+I+C+P),i.set(1,1,f+y+b+v+a*x),i.set(1,2,I+C+P+A+s*g),i.set(2,0,v+M+S+c*(-u+g+p-h-j-k+x)+R+V+I),i.set(2,1,R+V+I+D+l*d),i.set(2,2,v+M+S+z+m*w),i}mmulStrassen(e){function i(e,i,t){var n=e.rows,o=e.columns;if(n===i&&o===t)return e;var s=w.zeros(i,t);return s=s.setSubMatrix(e,0,0),s}function t(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=i(e,o+1,s+1),n=i(n,o+1,s+1)):1==o%2?(e=i(e,o+1,s),n=i(n,o+1,s)):1==s%2&&(e=i(e,o,s+1),n=i(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),d=e.subMatrix(r,e.rows-1,0,a-1),g=n.subMatrix(r,n.rows-1,0,a-1),p=e.subMatrix(r,e.rows-1,a,e.columns-1),h=n.subMatrix(r,n.rows-1,a,n.columns-1),j=t(w.add(l,p),w.add(c,h),r,a),k=t(w.add(d,p),c,r,a),x=t(l,w.sub(u,h),r,a),f=t(p,w.sub(g,c),r,a),y=t(w.add(l,m),h,r,a),b=t(w.sub(d,l),w.add(c,u),r,a),v=t(w.sub(m,p),w.add(g,h),r,a),M=w.add(j,f);M.sub(y),M.add(v);var S=w.add(x,y),z=w.add(k,f),R=w.sub(j,k);R.add(x),R.add(b);var V=w.zeros(2*M.rows,2*M.columns);return V=V.setSubMatrix(M,0,0),V=V.setSubMatrix(S,M.rows,0),V=V.setSubMatrix(z,0,M.columns),V=V.setSubMatrix(R,M.rows,M.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=v(o,a),r=v(s,l);return n=i(n,m,r),e=i(e,m,r),t(n,e,m,r)}scaleRows(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.rows;r++)i=t.i(s.scale)(this.getRow(r),{min:e,max:n}),o.setRow(r,i);return o}scaleColumns(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.columns;r++)i=t.i(s.scale)(this.getColumn(r),{min:e,max:n}),o.setColumn(r,i);return o}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=r);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=r);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.h(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.h(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.i(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m.a(this)}rowView(e){return l.a(this,e),new d.a(this,e)}columnView(e){return l.c(this,e),new h.a(this,e)}flipRowView(){return new j.a(this)}flipColumnView(){return new k.a(this)}subMatrixView(e,i,t,n){return new g.a(this,e,i,t,n)}selectionView(e,i){return new p.a(this,e,i)}det(){if(this.isSquare()){var e,i,t,o;if(2===this.columns)return e=this.get(0,0),i=this.get(0,1),t=this.get(1,0),o=this.get(1,1),e*o-i*t;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),i=this.get(0,1),t=this.get(0,2),e*s.det()-i*r.det()+t*a.det()}return new n.a(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new o.a(this,{autoTranspose:!0}),n=t.leftSingularVectors,r=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=u(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),r.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var f=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,y=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,S=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,z=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,D=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,C=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,P=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,A=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],L=eval,U;for(var i of A){var _=L(x(f,{name:i[1],op:i[0]})),q=L(x(y,{name:i[1]+'S',op:i[0]})),F=L(x(b,{name:i[1]+'M',op:i[0]})),O=L(x(S,{name:i[1]}));for(U=1;U<i.length;U++)w.prototype[i[U]]=_,w.prototype[i[U]+'S']=q,w.prototype[i[U]+'M']=F,w[i[U]]=O}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var W=L(x(z,{name:T[1],method:T[0]})),E=L(x(R,{name:T[1]}));for(U=1;U<T.length;U++)w.prototype[T[U]]=W,w[T[U]]=E}var X=[['Math.pow',1,'pow']];for(var B of X){var Q='arg0';for(U=1;U<B[1];U++)Q+=`, arg${U}`;if(1!==B[1]){var J=L(x(V,{name:B[2],method:B[0],args:Q})),Y=L(x(I,{name:B[2],args:Q}));for(U=2;U<B.length;U++)w.prototype[B[U]]=J,w[B[U]]=Y}else{var H={name:B[2],args:Q,method:B[0]},K=L(x(P,H)),G=L(x(D,H)),Z=L(x(C,H)),$=L(x(I,H));for(U=2;U<B.length;U++)w.prototype[B[U]]=K,w.prototype[B[U]+'M']=Z,w.prototype[B[U]+'S']=G,w[B[U]]=$}}return w};var n=t(29),o=t(67),s=t(13),r=t.n(s),l=t(17),m=t(214),d=t(211),g=t(213),p=t(212),h=t(208),j=t(210),k=t(209)},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.a.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,d,i,g,h,p,s,t,j,k,x;for(d=0;d<a;d++)c[d]=d;for(k=Array(a),i=0;i<l;i++){for(d=0;d<a;d++)k[d]=r[d][i];for(d=0;d<a;d++){for(j=r[d],x=M(d,i),p=0,g=0;g<x;g++)p+=j[g]*k[g];j[i]=k[d]-=p}for(h=i,d=i+1;d<a;d++)u(k[d])>u(k[h])&&(h=d);if(h!==i){for(g=0;g<l;g++)s=r[h][g],r[h][g]=r[i][g],r[i][g]=s;t=c[h],c[h]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(d=i+1;d<a;d++)r[d][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=t(5);n.prototype={isSingular:function(){for(var e=this.LU,i=e.columns,t=0;t<i;t++)if(0===e[t][t])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var i=this.pivotSign,t=e.columns,n=0;n<t;n++)i*=e[n][n];return i},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.a.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},i.a=n},function(e,i){'use strict';i.a=function(e,i){var t;return u(e)>u(i)?(t=i/e,u(e)*S(1+t*t)):0===i?0:(t=e/i,u(i)*S(1+t*t))},i.b=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,i,t){'use strict';i.a=function(e){function r(e,i){return e-i}function x(e,i){for(var t in i)e=e.replace(new RegExp('%'+t+'%','g'),i[t]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,i,t){if(e*i!==t.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,i),o=0;o<e;o++)for(var s=0;s<i;s++)n.set(o,s,t[o*i+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,i){return new this(e,i)}static zeros(e,i){return this.empty(e,i).fill(0)}static ones(e,i){return this.empty(e,i).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,v(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var i=0;i<=e;i++)if(this.get(e,i)!==this.get(i,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.a(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.a(this,e),t=l.b(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.a(this,e),l.a(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.c(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.c(this,e),t=l.d(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.c(this,e),l.c(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.a(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.c(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.e(this):'column'===e?l.f(this):l.g(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var i=new this.constructor[Symbol.species](2,2);const t=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(t+l)*(n+c),u=(r+l)*n,d=t*(s-c),g=l*(a-n),p=(t+o)*c;return i.set(0,0,m+g-p+(o-l)*(a+c)),i.set(0,1,d+p),i.set(1,0,u+g),i.set(1,1,m-u+d+(r-t)*(n+s)),i}strassen3x3(e){var i=new this.constructor[Symbol.species](3,3);const t=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),d=e.get(0,1),g=e.get(0,2),p=e.get(1,0),h=e.get(1,1),j=e.get(1,2),k=e.get(2,0),x=e.get(2,1),w=e.get(2,2),f=(t-s)*(-d+h),y=(-t+s+r)*(u-d+h),b=(s+r)*(-u+d),v=t*u,M=(-t+l+c)*(u-g+j),S=(-t+l)*(g-j),z=(l+c)*(-u+g),R=(-o+c+m)*(h+k-x),V=(o-m)*(h-x),I=o*k,D=(c+m)*(-k+x),C=(-o+r+a)*(j+k-w),P=(o-a)*(j-w),A=(r+a)*(-k+w);return i.set(0,0,v+I+n*p),i.set(0,1,(t+n+o-s-r-c-m)*h+y+b+v+R+I+D),i.set(0,2,v+M+z+(t+n+o-r-a-l-c)*j+I+C+A),i.set(1,0,f+r*(-u+d+p-h-j-k+w)+y+v+I+C+P),i.set(1,1,f+y+b+v+a*x),i.set(1,2,I+C+P+A+s*g),i.set(2,0,v+M+S+c*(-u+g+p-h-j-k+x)+R+V+I),i.set(2,1,R+V+I+D+l*d),i.set(2,2,v+M+S+z+m*w),i}mmulStrassen(e){function i(e,i,t){var n=e.rows,o=e.columns;if(n===i&&o===t)return e;var s=w.zeros(i,t);return s=s.setSubMatrix(e,0,0),s}function t(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=i(e,o+1,s+1),n=i(n,o+1,s+1)):1==o%2?(e=i(e,o+1,s),n=i(n,o+1,s)):1==s%2&&(e=i(e,o,s+1),n=i(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),d=e.subMatrix(r,e.rows-1,0,a-1),g=n.subMatrix(r,n.rows-1,0,a-1),p=e.subMatrix(r,e.rows-1,a,e.columns-1),h=n.subMatrix(r,n.rows-1,a,n.columns-1),j=t(w.add(l,p),w.add(c,h),r,a),k=t(w.add(d,p),c,r,a),x=t(l,w.sub(u,h),r,a),f=t(p,w.sub(g,c),r,a),y=t(w.add(l,m),h,r,a),b=t(w.sub(d,l),w.add(c,u),r,a),v=t(w.sub(m,p),w.add(g,h),r,a),M=w.add(j,f);M.sub(y),M.add(v);var S=w.add(x,y),z=w.add(k,f),R=w.sub(j,k);R.add(x),R.add(b);var V=w.zeros(2*M.rows,2*M.columns);return V=V.setSubMatrix(M,0,0),V=V.setSubMatrix(S,M.rows,0),V=V.setSubMatrix(z,0,M.columns),V=V.setSubMatrix(R,M.rows,M.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=v(o,a),r=v(s,l);return n=i(n,m,r),e=i(e,m,r),t(n,e,m,r)}scaleRows(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.rows;r++)i=t.i(s.scale)(this.getRow(r),{min:e,max:n}),o.setRow(r,i);return o}scaleColumns(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.columns;r++)i=t.i(s.scale)(this.getColumn(r),{min:e,max:n}),o.setColumn(r,i);return o}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=r);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=r);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.h(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.h(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.i(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m.a(this)}rowView(e){return l.a(this,e),new d.a(this,e)}columnView(e){return l.c(this,e),new h.a(this,e)}flipRowView(){return new j.a(this)}flipColumnView(){return new k.a(this)}subMatrixView(e,i,t,n){return new g.a(this,e,i,t,n)}selectionView(e,i){return new p.a(this,e,i)}det(){if(this.isSquare()){var e,i,t,o;if(2===this.columns)return e=this.get(0,0),i=this.get(0,1),t=this.get(1,0),o=this.get(1,1),e*o-i*t;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),i=this.get(0,1),t=this.get(0,2),e*s.det()-i*r.det()+t*a.det()}return new n.a(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new o.a(this,{autoTranspose:!0}),n=t.leftSingularVectors,r=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=u(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),r.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var f=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,y=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,S=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,z=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,D=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,C=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,P=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,A=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],L=eval,U;for(var i of A){var _=L(x(f,{name:i[1],op:i[0]})),q=L(x(y,{name:i[1]+'S',op:i[0]})),F=L(x(b,{name:i[1]+'M',op:i[0]})),O=L(x(S,{name:i[1]}));for(U=1;U<i.length;U++)w.prototype[i[U]]=_,w.prototype[i[U]+'S']=q,w.prototype[i[U]+'M']=F,w[i[U]]=O}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var W=L(x(z,{name:T[1],method:T[0]})),E=L(x(R,{name:T[1]}));for(U=1;U<T.length;U++)w.prototype[T[U]]=W,w[T[U]]=E}var X=[['Math.pow',1,'pow']];for(var B of X){var Q='arg0';for(U=1;U<B[1];U++)Q+=`, arg${U}`;if(1!==B[1]){var J=L(x(V,{name:B[2],method:B[0],args:Q})),Y=L(x(I,{name:B[2],args:Q}));for(U=2;U<B.length;U++)w.prototype[B[U]]=J,w[B[U]]=Y}else{var H={name:B[2],args:Q,method:B[0]},K=L(x(P,H)),G=L(x(D,H)),Z=L(x(C,H)),$=L(x(I,H));for(U=2;U<B.length;U++)w.prototype[B[U]]=K,w.prototype[B[U]+'M']=Z,w.prototype[B[U]+'S']=G,w[B[U]]=$}}return w};var n=t(32),o=t(70),s=t(13),r=t.n(s),l=t(18),m=t(227),d=t(224),g=t(226),p=t(225),h=t(221),j=t(223),k=t(222)},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.a.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,d,i,g,h,p,s,t,j,k,x;for(d=0;d<a;d++)c[d]=d;for(k=Array(a),i=0;i<l;i++){for(d=0;d<a;d++)k[d]=r[d][i];for(d=0;d<a;d++){for(j=r[d],x=M(d,i),p=0,g=0;g<x;g++)p+=j[g]*k[g];j[i]=k[d]-=p}for(h=i,d=i+1;d<a;d++)u(k[d])>u(k[h])&&(h=d);if(h!==i){for(g=0;g<l;g++)s=r[h][g],r[h][g]=r[i][g],r[i][g]=s;t=c[h],c[h]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(d=i+1;d<a;d++)r[d][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=t(6);n.prototype={isSingular:function(){for(var e=this.LU,i=e.columns,t=0;t<i;t++)if(0===e[t][t])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var i=this.pivotSign,t=e.columns,n=0;n<t;n++)i*=e[n][n];return i},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.a.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},i.a=n},function(e,i){'use strict';i.a=function(e,i){var t;return u(e)>u(i)?(t=i/e,u(e)*S(1+t*t)):0===i?0:(t=e/i,u(i)*S(1+t*t))},i.b=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,i,t){'use strict';function n(e,t,o){const s=t.length;let n=0,r=0,a=0,l=0;for(let c=0;c<s;c++)n+=t[c],r+=o[c],a+=t[c]*t[c],l+=t[c]*o[c];const i=s*l-n*r;e.slope=i/(s*a-n*n),e.intercept=1/s*r-e.slope*(1/s)*n,e.coefficients=[e.intercept,e.slope]}Object.defineProperty(i,'__esModule',{value:!0});var o=t(14);class s extends o.a{constructor(e,i){super(),!0===e?(this.slope=i.slope,this.intercept=i.intercept,this.coefficients=[i.intercept,i.slope]):(t.i(o.b)(e,i),n(this,e,i))}toJSON(){return{name:'simpleLinearRegression',slope:this.slope,intercept:this.intercept}}_predict(e){return this.slope*e+this.intercept}computeX(e){return(e-this.intercept)/this.slope}toString(e){let i='f(x) = ';if(0!==this.slope){const n=t.i(o.c)(this.slope,e);if(i+=('1'===n?'':n+' * ')+'x',this.intercept){const n=u(this.intercept),s=n===this.intercept?'+':'-';i+=` ${s} ${t.i(o.c)(n,e)}`}}else i+=t.i(o.c)(this.intercept,e);return i}toLaTeX(e){return this.toString(e)}static load(e){if('simpleLinearRegression'!==e.name)throw new TypeError('not a SLR model');return new s(!0,e)}}i['default']=s},function(e,i,t){'use strict';i.a=function(e){function r(e,i){return e-i}function x(e,i){for(var t in i)e=e.replace(new RegExp('%'+t+'%','g'),i[t]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,i,t){if(e*i!==t.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,i),o=0;o<e;o++)for(var s=0;s<i;s++)n.set(o,s,t[o*i+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,i){return new this(e,i)}static zeros(e,i){return this.empty(e,i).fill(0)}static ones(e,i){return this.empty(e,i).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,v(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var i=0;i<=e;i++)if(this.get(e,i)!==this.get(i,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.a(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.a(this,e),t=l.b(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.a(this,e),l.a(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.c(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.c(this,e),t=l.d(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.c(this,e),l.c(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.a(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.c(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.e(this):'column'===e?l.f(this):l.g(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var i=new this.constructor[Symbol.species](2,2);const t=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(t+l)*(n+c),u=(r+l)*n,d=t*(s-c),g=l*(a-n),p=(t+o)*c;return i.set(0,0,m+g-p+(o-l)*(a+c)),i.set(0,1,d+p),i.set(1,0,u+g),i.set(1,1,m-u+d+(r-t)*(n+s)),i}strassen3x3(e){var i=new this.constructor[Symbol.species](3,3);const t=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),d=e.get(0,1),g=e.get(0,2),p=e.get(1,0),h=e.get(1,1),j=e.get(1,2),k=e.get(2,0),x=e.get(2,1),w=e.get(2,2),f=(t-s)*(-d+h),y=(-t+s+r)*(u-d+h),b=(s+r)*(-u+d),v=t*u,M=(-t+l+c)*(u-g+j),S=(-t+l)*(g-j),z=(l+c)*(-u+g),R=(-o+c+m)*(h+k-x),V=(o-m)*(h-x),I=o*k,D=(c+m)*(-k+x),C=(-o+r+a)*(j+k-w),P=(o-a)*(j-w),A=(r+a)*(-k+w);return i.set(0,0,v+I+n*p),i.set(0,1,(t+n+o-s-r-c-m)*h+y+b+v+R+I+D),i.set(0,2,v+M+z+(t+n+o-r-a-l-c)*j+I+C+A),i.set(1,0,f+r*(-u+d+p-h-j-k+w)+y+v+I+C+P),i.set(1,1,f+y+b+v+a*x),i.set(1,2,I+C+P+A+s*g),i.set(2,0,v+M+S+c*(-u+g+p-h-j-k+x)+R+V+I),i.set(2,1,R+V+I+D+l*d),i.set(2,2,v+M+S+z+m*w),i}mmulStrassen(e){function i(e,i,t){var n=e.rows,o=e.columns;if(n===i&&o===t)return e;var s=w.zeros(i,t);return s=s.setSubMatrix(e,0,0),s}function t(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=i(e,o+1,s+1),n=i(n,o+1,s+1)):1==o%2?(e=i(e,o+1,s),n=i(n,o+1,s)):1==s%2&&(e=i(e,o,s+1),n=i(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),d=e.subMatrix(r,e.rows-1,0,a-1),g=n.subMatrix(r,n.rows-1,0,a-1),p=e.subMatrix(r,e.rows-1,a,e.columns-1),h=n.subMatrix(r,n.rows-1,a,n.columns-1),j=t(w.add(l,p),w.add(c,h),r,a),k=t(w.add(d,p),c,r,a),x=t(l,w.sub(u,h),r,a),f=t(p,w.sub(g,c),r,a),y=t(w.add(l,m),h,r,a),b=t(w.sub(d,l),w.add(c,u),r,a),v=t(w.sub(m,p),w.add(g,h),r,a),M=w.add(j,f);M.sub(y),M.add(v);var S=w.add(x,y),z=w.add(k,f),R=w.sub(j,k);R.add(x),R.add(b);var V=w.zeros(2*M.rows,2*M.columns);return V=V.setSubMatrix(M,0,0),V=V.setSubMatrix(S,M.rows,0),V=V.setSubMatrix(z,0,M.columns),V=V.setSubMatrix(R,M.rows,M.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=v(o,a),r=v(s,l);return n=i(n,m,r),e=i(e,m,r),t(n,e,m,r)}scaleRows(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.rows;r++)i=t.i(s.scale)(this.getRow(r),{min:e,max:n}),o.setRow(r,i);return o}scaleColumns(e,n){if(e=void 0===e?0:e,n=void 0===n?1:n,e>=n)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.columns;r++)i=t.i(s.scale)(this.getColumn(r),{min:e,max:n}),o.setColumn(r,i);return o}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=r);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=r);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.h(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.h(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.i(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m.a(this)}rowView(e){return l.a(this,e),new d.a(this,e)}columnView(e){return l.c(this,e),new h.a(this,e)}flipRowView(){return new j.a(this)}flipColumnView(){return new k.a(this)}subMatrixView(e,i,t,n){return new g.a(this,e,i,t,n)}selectionView(e,i){return new p.a(this,e,i)}det(){if(this.isSquare()){var e,i,t,o;if(2===this.columns)return e=this.get(0,0),i=this.get(0,1),t=this.get(1,0),o=this.get(1,1),e*o-i*t;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),i=this.get(0,1),t=this.get(0,2),e*s.det()-i*r.det()+t*a.det()}return new n.a(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new o.a(this,{autoTranspose:!0}),n=t.leftSingularVectors,r=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=u(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),r.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var f=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,y=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,S=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,z=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,D=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,C=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,P=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,A=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],L=eval,U;for(var i of A){var _=L(x(f,{name:i[1],op:i[0]})),q=L(x(y,{name:i[1]+'S',op:i[0]})),F=L(x(b,{name:i[1]+'M',op:i[0]})),O=L(x(S,{name:i[1]}));for(U=1;U<i.length;U++)w.prototype[i[U]]=_,w.prototype[i[U]+'S']=q,w.prototype[i[U]+'M']=F,w[i[U]]=O}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var W=L(x(z,{name:T[1],method:T[0]})),E=L(x(R,{name:T[1]}));for(U=1;U<T.length;U++)w.prototype[T[U]]=W,w[T[U]]=E}var X=[['Math.pow',1,'pow']];for(var B of X){var Q='arg0';for(U=1;U<B[1];U++)Q+=`, arg${U}`;if(1!==B[1]){var J=L(x(V,{name:B[2],method:B[0],args:Q})),Y=L(x(I,{name:B[2],args:Q}));for(U=2;U<B.length;U++)w.prototype[B[U]]=J,w[B[U]]=Y}else{var H={name:B[2],args:Q,method:B[0]},K=L(x(P,H)),G=L(x(D,H)),Z=L(x(C,H)),$=L(x(I,H));for(U=2;U<B.length;U++)w.prototype[B[U]]=K,w.prototype[B[U]+'M']=Z,w.prototype[B[U]+'S']=G,w[B[U]]=$}}return w};var n=t(36),o=t(72),s=t(13),r=t.n(s),l=t(19),m=t(240),d=t(237),g=t(239),p=t(238),h=t(234),j=t(236),k=t(235)},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.a.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,d,i,g,h,p,s,t,j,k,x;for(d=0;d<a;d++)c[d]=d;for(k=Array(a),i=0;i<l;i++){for(d=0;d<a;d++)k[d]=r[d][i];for(d=0;d<a;d++){for(j=r[d],x=M(d,i),p=0,g=0;g<x;g++)p+=j[g]*k[g];j[i]=k[d]-=p}for(h=i,d=i+1;d<a;d++)u(k[d])>u(k[h])&&(h=d);if(h!==i){for(g=0;g<l;g++)s=r[h][g],r[h][g]=r[i][g],r[i][g]=s;t=c[h],c[h]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(d=i+1;d<a;d++)r[d][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=t(7);n.prototype={isSingular:function(){for(var e=this.LU,i=e.columns,t=0;t<i;t++)if(0===e[t][t])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var i=this.pivotSign,t=e.columns,n=0;n<t;n++)i*=e[n][n];return i},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.a.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},i.a=n},function(e,i){'use strict';i.a=function(e,i){var t;return u(e)>u(i)?(t=i/e,u(e)*S(1+t*t)):0===i?0:(t=e/i,u(i)*S(1+t*t))},i.b=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e){'use strict';e.exports=class{predict(e){var t;if(Array.isArray(e)){t=Array(e.length);for(var n=0;n<e.length;n++)t[n]=this._predict(e[n])}else if(Number.isFinite(e))t=this._predict(e);else throw new TypeError('x must be a number or array');return t}_predict(){throw new Error('_compute not implemented')}train(){}toString(){return''}toLaTeX(){return''}modelQuality(e,t){let o=e.length;var n=Array(o);for(let s=0;s<o;s++)n[s]=this._predict(e[s]);var s=0,a=0,l=0,c=0,m=0,u=0,d=0;for(let r=0;r<o;r++)s+=n[r],a+=t[r],m+=n[r]*n[r],u+=t[r]*t[r],d+=n[r]*t[r],0!==t[r]&&(l+=(t[r]-n[r])*(t[r]-n[r])/t[r]),c=(t[r]-n[r])*(t[r]-n[r]);var i=(o*d-s*a)/S((o*m-s*s)*(o*u-a*a));return{r:i,r2:i*i,chi2:l,rmsd:c*c/o}}}},function(e){e.exports=function(e,i,t,n,o){var s,r;if(void 0===n)n=0;else if(n|=0,0>n||n>=e.length)throw new RangeError('invalid lower bound');if(void 0===o)o=e.length-1;else if(o|=0,o<n||o>=e.length)throw new RangeError('invalid upper bound');for(;n<=o;)if(s=n+(o-n>>1),r=+t(e[s],i,s,e),0>r)n=s+1;else if(0<r)o=s-1;else return s;return~n}},function(e){'use strict';e.exports=function(e,t){const n=e.length;let o=Array.from({length:n}).map(()=>Array.from({length:n}));for(let s=0;s<n;s++)for(let i=0;i<=s;i++)o[s][i]=t(e[s],e[i]);for(let s=0;s<n;s++)for(let e=s+1;e<n;e++)o[s][e]=o[e][s];return o}},function(e,i,t){'use strict';i.distance=t(108),i.similarity=t(144)},function(e,i,t){'use strict';function n(e,i){return 0|e*i}function o(e,i){return M(e-2,0|e*i)}function s(e,i,t){return c(v(e+1,0|4*e/(3*i+t)))}function r(e,i,t){return c(v(e+1,0|4*e/(i+3*t)))}const a=t(250),l=t(153),c=l.nextPrime,m=l.largestPrime,u=0,d=1,g=2;class p{constructor(e={}){if(e instanceof p)return this.table=e.table.slice(),this.values=e.values.slice(),this.state=e.state.slice(),this.minLoadFactor=e.minLoadFactor,this.maxLoadFactor=e.maxLoadFactor,this.distinct=e.distinct,this.freeEntries=e.freeEntries,this.lowWaterMark=e.lowWaterMark,void(this.highWaterMark=e.maxLoadFactor);const i=e.initialCapacity===void 0?150:e.initialCapacity;if(0>i)throw new RangeError(`initial capacity must not be less than zero: ${i}`);const t=e.minLoadFactor===void 0?1/6:e.minLoadFactor,n=e.maxLoadFactor===void 0?2/3:e.maxLoadFactor;if(0>t||1<=t)throw new RangeError(`invalid minLoadFactor: ${t}`);if(0>=n||1<=n)throw new RangeError(`invalid maxLoadFactor: ${n}`);if(t>=n)throw new RangeError(`minLoadFactor (${t}) must be smaller than maxLoadFactor (${n})`);let s=i;s=0|s/n,s=c(s),0===s&&(s=1),this.table=a(s,0),this.values=a(s,0),this.state=a(s,0),this.minLoadFactor=t,this.maxLoadFactor=s===m?1:n,this.distinct=0,this.freeEntries=s,this.lowWaterMark=0,this.highWaterMark=o(s,this.maxLoadFactor)}clone(){return new p(this)}get size(){return this.distinct}get(e){const t=this.indexOfKey(e);return 0>t?0:this.values[t]}set(e,t){let n=this.indexOfInsertion(e);if(0>n)return n=-n-1,this.values[n]=t,!1;if(this.distinct>this.highWaterMark){const i=s(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(i),this.set(e,t)}if(this.table[n]=e,this.values[n]=t,this.state[n]===u&&this.freeEntries--,this.state[n]=d,this.distinct++,1>this.freeEntries){const e=s(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(e)}return!0}remove(e,t){const n=this.indexOfKey(e);return!(0>n)&&(this.state[n]=g,this.distinct--,t||this.maybeShrinkCapacity(),!0)}delete(e,t){const n=this.indexOfKey(e);return!(0>n)&&(this.state[n]=u,this.distinct--,t||this.maybeShrinkCapacity(),!0)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){const e=r(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(e)}}containsKey(e){return 0<=this.indexOfKey(e)}indexOfKey(e){const t=this.table,n=this.state,o=this.table.length,s=2147483647&e;let r=s%o,i=s%(o-2);for(0==i&&(i=1);n[r]!==u&&(n[r]===g||t[r]!==e);)r-=i,0>r&&(r+=o);return n[r]===u?-1:r}containsValue(e){return 0<=this.indexOfValue(e)}indexOfValue(e){const t=this.values,n=this.state;for(var o=0;o<n.length;o++)if(n[o]===d&&t[o]===e)return o;return-1}indexOfInsertion(e){const t=this.table,n=this.state,o=t.length,s=2147483647&e;let r=s%o,a=s%(o-2);for(0==a&&(a=1);n[r]===d&&t[r]!==e;)r-=a,0>r&&(r+=o);if(n[r]===g){const i=r;for(;n[r]!==u&&(n[r]===g||t[r]!==e);)r-=a,0>r&&(r+=o);n[r]===u&&(r=i)}return n[r]===d?-r-1:r}ensureCapacity(e){if(this.table.length<e){const i=c(e);this.rehash(i)}}rehash(e){const t=this.table.length;if(e<=this.distinct)throw new Error('Unexpected');const s=this.table,r=this.values,l=this.state,c=a(e,0),m=a(e,0),u=a(e,0);this.lowWaterMark=n(e,this.minLoadFactor),this.highWaterMark=o(e,this.maxLoadFactor),this.table=c,this.values=m,this.state=u,this.freeEntries=e-this.distinct;for(var g=0;g<t;g++)if(l[g]===d){var i=s[g],p=this.indexOfInsertion(i);c[p]=i,m[p]=r[g],u[p]=d}}forEachKey(e){for(var t=0;t<this.state.length;t++)if(this.state[t]===d&&!e(this.table[t]))return!1;return!0}forEachValue(e){for(var t=0;t<this.state.length;t++)if(this.state[t]===d&&!e(this.values[t]))return!1;return!0}forEachPair(e){for(var t=0;t<this.state.length;t++)if(this.state[t]===d&&!e(this.table[t],this.values[t]))return!1;return!0}}e.exports=p},function(e,i,t){'use strict';function n(e,t){var n=e.length;'number'==typeof t.size&&(t.size=[t.size,t.size]);var o=n+t.size[0]+t.size[1],s;if(t.output){if(t.output.length!==o)throw new RangeError('Wrong output size');s=t.output}else s=Array(o);var r;if('circular'===t.value)for(r=0;r<o;r++)s[r]=r<t.size[0]?e[(n-t.size[0]%n+r)%n]:r<t.size[0]+n?e[r-t.size[0]]:e[(r-t.size[0])%n];else if('replicate'===t.value)for(r=0;r<o;r++)s[r]=r<t.size[0]?e[0]:r<t.size[0]+n?e[r-t.size[0]]:e[n-1];else if('symmetric'===t.value){if(t.size[0]>n||t.size[1]>n)throw new RangeError('expanded value should not be bigger than the data length');for(r=0;r<o;r++)s[r]=r<t.size[0]?e[t.size[0]-1-r]:r<t.size[0]+n?e[r-t.size[0]]:e[2*n+t.size[0]-r-1]}else for(r=0;r<o;r++)s[r]=r<t.size[0]?t.value:r<t.size[0]+n?e[r-t.size[0]]:t.value;return s}function o(e,i){var t=e.length,n=e[0].length;throw void 0===i.size[0]&&(i.size=[i.size,i.size,i.size,i.size]),new Error('matrix not supported yet, sorry')}var s=t(21),r={size:1,value:0};e.exports=function(e,i){if(i=s({},r,i),Array.isArray(e))return Array.isArray(e[0])?o(e,i):n(e,i);throw new TypeError('data should be an array')}},function(e,i,t){'use strict';function n(e){if('number'!=typeof e||o(e))throw new TypeError('Expected a number')}var o=t(251);i.asc=function(e,i){return n(e),n(i),e-i},i.desc=function(e,i){return n(e),n(i),i-e}},function(e,i,t){'use strict';var n=t(0);e.exports={transpose:function(e){if('number'==typeof e)return e;var i=e.clone();return i.transpose()},add:function(e,i){if('number'==typeof e&&'number'==typeof i)return e+i;if('number'==typeof e)return this.add(i,e);var t=e.clone();return t.add(i)},subtract:function(e,i){if('number'==typeof e&&'number'==typeof i)return e-i;if('number'==typeof e)return this.subtract(i,e);var t=e.clone();return t.sub(i)},multiply:function(e,i){if('number'==typeof e&&'number'==typeof i)return e*i;if('number'==typeof e)return this.multiply(i,e);var t=e.clone();return'number'==typeof i?t.mul(i):t=t.mmul(i),1==t.rows&&1==t.columns?t[0][0]:t},dotMultiply:function(e,i){var t=e.clone();return t.mul(i)},dotDivide:function(e,i){var t=e.clone();return t.div(i)},diag:function(e){var i=null,t=e.rows,o=e.columns,s,a;if('undefined'==typeof o&&'object'==typeof e)if(e[0]&&e[0].length)for(t=e.length,o=e[0].length,a=M(t,o),i=n.zeros(o,o),s=0;s<o;s++)i[s][s]=e[s][s];else for(o=e.length,i=n.zeros(o,o),s=0;s<o;s++)i[s][s]=e[s];if(1==t)for(i=n.zeros(o,o),s=0;s<o;s++)i[s][s]=e[0][s];else if(0<t&&0<o)for(a=M(t,o),i=Array(a),s=0;s<a;s++)i[s]=e[s][s];return i},min:function(e,t){if('number'==typeof e&&'number'==typeof t)return M(e,t);for(var o=e.rows,s=e.columns,r=new n(o,s),a=0;a<o;a++)for(var i=0;i<s;i++)r[a][i]=e[a][i]<t[a][i]?e[a][i]:t[a][i];return r},max:function(e,t){if('number'==typeof e&&'number'==typeof t)return v(e,t);for(var o=e.rows,s=e.columns,r=new n(o,s),a=0;a<o;a++)for(var i=0;i<s;i++)r[a][i]=e[a][i]>t[a][i]?e[a][i]:t[a][i];return r},solve:function(e,i){return e.solve(i)},inv:function(e){return'number'==typeof e?1/e:e.inverse()},sqrt:function(e){if('number'==typeof e)return S(e);for(var t=e.rows,o=e.columns,s=new n(t,o),r=0;r<t;r++)for(var i=0;i<o;i++)s[r][i]=S(e[r][i]);return s},exp:function(e){if('number'==typeof e)return S(e);for(var t=e.rows,o=e.columns,s=new n(t,o),r=0;r<t;r++)for(var i=0;i<o;i++)s[r][i]=l(e[r][i]);return s},dotPow:function(e,t){if('number'==typeof e)return r(e,t);for(var o=e.rows,s=e.columns,a=new n(o,s),l=0;l<o;l++)for(var i=0;i<s;i++)a[l][i]=r(e[l][i],t);return a},abs:function(e){if('number'==typeof e)return u(e);for(var t=e.rows,o=e.columns,s=new n(t,o),r=0;r<t;r++)for(var i=0;i<o;i++)s[r][i]=u(e[r][i]);return s},matrix:function(e,i){return new n(e,i)},ones:function(e,i){return n.ones(e,i)},zeros:function(e,i){return n.zeros(e,i)},random:function(e,i){return n.rand(e,i)},eye:function(e,i){return n.eye(e,i)}}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)o+=e[a]*e[a],s+=t[a]*t[a],r+=(e[a]-t[a])*(e[a]-t[a]);return r/(o+s)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=M(e[s],t[s]);return 1-o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0,l=0;l<n;l++)o+=e[l]*t[l],s+=e[l]*e[l],r+=t[l]*t[l],a+=(e[l]-t[l])*(e[l]-t[l]);return a/(s+r-o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=u(e[r]-t[r]),s+=M(e[r],t[r]);return o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=M(e[r],t[r]),s+=e[r]+t[r];return 1-o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=(S(e[s])-S(t[s]))*(S(e[s])-S(t[s]));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)o+=e[a]*t[a],s+=e[a]*e[a],r+=t[a]*t[a];return o/(S(s)*S(r))}},function(e){'use strict';e.exports=function(e,t){for(var n=0,o=0,s=0;s<e.length;s++)n+=M(e[s],t[s]),o+=e[s]+t[s];return 2*n/o}},function(e){e.exports=function(e,t,n){if(n){for(var o=0,s=0,r=0;r<e.length;r++)o+=e[r]&&t[r],s+=e[r]||t[r];return 0===s?1:o/s}for(var a=e.length,l=0,c=0,u=0,m=0;m<a;m++)l+=e[m],c+=t[m],u+=M(e[m],t[m]);return 1-(l+c-2*u)/(l+c-u)}},function(e,i,t){'use strict';var n=t(0),o=t(57);const s=t(56);class r{constructor(e){this.inputSize=e.inputSize,this.outputSize=e.outputSize,this.regularization=e.regularization,this.epsilon=e.epsilon,this.activation=e.activation,this.activationParam=e.activationParam;var i=s[e.activation],t=i.activation.length,o=1<t?(t)=>i.activation(t,e.activationParam):i.activation,r=1<t?(t)=>i.derivate(t,e.activationParam):i.derivate;this.activationFunction=function(e,i){this[e][i]=o(this[e][i])},this.derivate=function(e,i){this[e][i]=r(this[e][i])},e.model?(this.W=n.checkMatrix(e.W),this.b=n.checkMatrix(e.b)):(this.W=n.rand(this.inputSize,this.outputSize),this.b=n.zeros(1,this.outputSize),this.W.apply(function(t,i){this[t][i]/=S(e.inputSize)}))}forward(e){var i=e.mmul(this.W).addRowVector(this.b);return i.apply(this.activationFunction),this.a=i.clone(),i}backpropagation(e,i){this.dW=i.transposeView().mmul(e),this.db=o.sumCol(e);var t=i.clone();return e.mmul(this.W.transposeView()).mul(t.apply(this.derivate))}update(){this.dW.add(this.W.clone().mul(this.regularization)),this.W.add(this.dW.mul(-this.epsilon)),this.b.add(this.db.mul(-this.epsilon))}toJSON(){return{model:'Layer',inputSize:this.inputSize,outputSize:this.outputSize,regularization:this.regularization,epsilon:this.epsilon,activation:this.activation,W:this.W,b:this.b}}static load(e){if('Layer'!==e.model)throw new RangeError('the current model is not a Layer model');return new r(e)}}e.exports=r},function(e){'use strict';function i(e){return 1/(1+l(-e))}function t(e,i){return 0>e?i*(l(e)-1):e}var n=Math.cos,r=Math.sin;const a={tanh:{activation:o,derivate:(e)=>1-e*e},identity:{activation:(e)=>e,derivate:()=>1},logistic:{activation:i,derivate:(e)=>i(e)*(1-i(e))},arctan:{activation:Math.atan,derivate:(e)=>1/(e*e+1)},softsign:{activation:(e)=>e/(1+u(e)),derivate:(e)=>1/((1+u(e))*(1+u(e)))},relu:{activation:(e)=>0>e?0:e,derivate:(e)=>0>e?0:1},softplus:{activation:(e)=>s(1+l(e)),derivate:(e)=>1/(1+l(-e))},bent:{activation:(e)=>(S(e*e+1)-1)/2+e,derivate:(e)=>e/(2*S(e*e+1))+1},sinusoid:{activation:r,derivate:n},sinc:{activation:(e)=>0===e?1:r(e)/e,derivate:(e)=>0===e?0:n(e)/e-r(e)/(e*e)},gaussian:{activation:(e)=>l(-(e*e)),derivate:(e)=>-2*e*l(-(e*e))},"parametric-relu":{activation:(e,i)=>0>e?i*e:e,derivate:(e,i)=>0>e?i:1},"exponential-elu":{activation:t,derivate:(e,i)=>0>e?t(e,i)+i:1},"soft-exponential":{activation:function(e,i){return 0>i?-s(1-i*(e+i))/i:0<i?(l(i*e)-1)/i+i:e},derivate:function(e,i){return 0>i?1/(1-i*(i+e)):l(i*e)}}};e.exports=a},function(e,i,t){'use strict';var n=t(0);e.exports={dictOutputs:function(e){for(var t={},n={},o=e.length,s=0,r=0;r<o;r+=1)void 0===t[e[r]]&&(t[e[r]]=s,n[s]=e[r],s++);return{inputs:t,outputs:n}},sumCol:function(e){for(var t=n.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t[0][i]+=e[o][i];return t},sumRow:function(e){for(var t=n.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t[o][0]+=e[o][i];return t}}},function(e,i,t){'use strict';function n(e){o.call(this),this.index=e,this.distance=0,this.children=[]}const o=t(22),s=t(255);s.inherits(n,o),e.exports=n},function(e,i,t){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.a.checkMatrix(e);var a=e.clone(),l=e.rows,c=e.columns,m=Array(c),u,i,d,g;for(d=0;d<c;d++){var p=0;for(u=d;u<l;u++)p=t.i(n.a)(p,a[u][d]);if(0!==p){for(0>a[d][d]&&(p=-p),u=d;u<l;u++)a[u][d]/=p;for(a[d][d]+=1,i=d+1;i<c;i++){for(g=0,u=d;u<l;u++)g+=a[u][d]*a[u][i];for(g=-g/a[d][d],u=d;u<l;u++)a[u][i]+=g*a[u][d]}}m[d]=-p}this.QR=a,this.Rdiag=m}var r=t(3),n=t(25);o.prototype={solve:function(e){e=r.a.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r.a(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r.a(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},i.a=o},function(e,i,o){'use strict';function r(h,x){if(!(this instanceof r))return new r(h,x);h=l.a.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,z=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(z=!1);var R=!0===x.autoTranspose,I=!1,D;if(!(w<m))D=h.clone();else if(!R)D=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{D=h.transpose(),w=D.rows,m=D.columns,I=!0;var a=y;y=z,z=a}var C=Array(M(w+1,m)),s=o.i(d.b)(w,n,0),P=o.i(d.b)(m,m,0),V=Array(m),e=Array(w),A=M(w-1,m),L=v(0,M(m-2,w)),U,i,j,k,p,_,q,f,F,O,N,T,W,E,X,B,Q,J,b,c,Y;for(j=0,O=v(A,L);j<O;j++){if(j<A){for(C[j]=0,U=j;U<w;U++)C[j]=o.i(d.a)(C[j],D[U][j]);if(0!==C[j]){for(0>D[j][j]&&(C[j]=-C[j]),U=j;U<w;U++)D[U][j]/=C[j];D[j][j]+=1}C[j]=-C[j]}for(i=j+1;i<m;i++){if(j<A&&0!==C[j]){for(p=0,U=j;U<w;U++)p+=D[U][j]*D[U][i];for(p=-p/D[j][j],U=j;U<w;U++)D[U][i]+=p*D[U][j]}V[i]=D[j][i]}if(y&&j<A)for(U=j;U<w;U++)s[U][j]=D[U][j];if(j<L){for(V[j]=0,U=j+1;U<m;U++)V[j]=o.i(d.a)(V[j],V[U]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),U=j+1;U<m;U++)V[U]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(U=j+1;U<w;U++)e[U]=0;for(i=j+1;i<m;i++)for(U=j+1;U<w;U++)e[U]+=V[i]*D[U][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],U=j+1;U<w;U++)D[U][i]+=p*e[U]}if(z)for(U=j+1;U<m;U++)P[U][j]=V[U]}}if(k=M(m,w+1),A<m&&(C[A]=D[A][A]),w<k&&(C[k-1]=0),L+1<k&&(V[L]=D[L][k-1]),V[k-1]=0,y){for(i=A;i<n;i++){for(U=0;U<w;U++)s[U][i]=0;s[i][i]=1}for(j=A-1;0<=j;j--)if(0!==C[j]){for(i=j+1;i<n;i++){for(p=0,U=j;U<w;U++)p+=s[U][j]*s[U][i];for(p=-p/s[j][j],U=j;U<w;U++)s[U][i]+=p*s[U][j]}for(U=j;U<w;U++)s[U][j]=-s[U][j];for(s[j][j]=1+s[j][j],U=0;U<j-1;U++)s[U][j]=0}else{for(U=0;U<w;U++)s[U][j]=0;s[j][j]=1}}if(z)for(j=m-1;0<=j;j--){if(j<L&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,U=j+1;U<m;U++)p+=P[U][j]*P[U][i];for(p=-p/P[j+1][j],U=j+1;U<m;U++)P[U][i]+=p*P[U][j]}for(U=0;U<m;U++)P[U][j]=0;P[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(u(V[j])<=K*(u(C[j])+u(C[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(_=k-1;_>=j&&_!==j;_--)if(p=(_===k?0:u(V[_]))+(_===j+1?0:u(V[_-1])),u(C[_])<=K*p){C[_]=0;break}_===j?N=3:_===k-1?N=1:(N=2,j=_)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,i!==j&&(q=-F*V[i-1],V[i-1]=f*V[i-1]),z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][k-1],P[U][k-1]=-F*P[U][i]+f*P[U][k-1],P[U][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,q=-F*V[i],V[i]=f*V[i],y)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][j-1],s[U][j-1]=-F*s[U][i]+f*s[U][j-1],s[U][i]=p;break}case 3:{for(T=v(v(v(v(u(C[k-1]),u(C[k-2])),u(V[k-2])),u(C[j])),u(V[j])),W=C[k-1]/T,E=C[k-2]/T,X=V[k-2]/T,B=C[j]/T,Q=V[j]/T,J=((E+W)*(E-W)+X*X)/2,b=W*X*(W*X),c=0,(0!==J||0!==b)&&(c=S(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(B+W)*(B-W)+c,Y=B*Q,i=j;i<k-1;i++){if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,i!==j&&(V[i-1]=p),q=f*C[i]+F*V[i],V[i]=f*V[i]-F*C[i],Y=F*C[i+1],C[i+1]=f*C[i+1],z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][i+1],P[U][i+1]=-F*P[U][i]+f*P[U][i+1],P[U][i]=p;if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,C[i]=p,q=f*V[i]+F*C[i+1],C[i+1]=-F*V[i]+f*C[i+1],Y=F*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][i+1],s[U][i+1]=-F*s[U][i]+f*s[U][i+1],s[U][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=C[j]&&(C[j]=0>C[j]?-C[j]:0,z))for(U=0;U<=g;U++)P[U][j]=-P[U][j];for(;j<g&&!(C[j]>=C[j+1]);){if(p=C[j],C[j]=C[j+1],C[j+1]=p,z&&j<m-1)for(U=0;U<m;U++)p=P[U][j+1],P[U][j+1]=P[U][j],P[U][j]=p;if(y&&j<w-1)for(U=0;U<w;U++)p=s[U][j+1],s[U][j+1]=s[U][j],s[U][j]=p;j++}H=0,k--;break}}}if(I){var G=P;P=s,s=G}this.m=w,this.n=m,this.s=C,this.U=s,this.V=P}var l=o(3),d=o(25);r.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=v(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*v(this.m,this.n)*this.s[0]},get leftSingularVectors(){return l.a.isMatrix(this.U)||(this.U=new l.a(this.U)),this.U},get rightSingularVectors(){return l.a.isMatrix(this.V)||(this.V=new l.a(this.V)),this.V},get diagonalMatrix(){return l.a.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=l.a.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=u(this.s[s])<=n?0:1/this.s[s];var i=this.U,r=this.rightSingularVectors,a=r.mmul(o),c=r.rows,m=i.length,d=l.a.zeros(c,m),g,p,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,p=0;p<e;p++)h+=a[s][p]*i[g][p];d[s][g]=h}return d.mmul(t)},solveForDiagonal:function(e){return this.solve(l.a.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new l.a(e,this.s.length),r,i;for(r=0;r<e;r++)for(i=0;i<o;i++)s[r][i]=u(this.s[i])>n?t[r][i]/this.s[i]:0;var a=this.U,c=a.length,m=a[0].length,d=new l.a(e,c),g,p;for(r=0;r<e;r++)for(i=0;i<c;i++){for(p=0,g=0;g<m;g++)p+=s[r][g]*a[i][g];d[r][i]=p}return d}},i.a=r},function(e,i,t){'use strict';const n=t(196);i.updateClusterID=function(e,t,o,s){for(var r=0;r<e.length;r++)o[r]=n(t,e[r],{distanceFunction:s});return o},i.updateCenters=function(e,t,n){const o=e[0].length;for(var s=Array(n),r=Array(n),a=0;a<n;a++){s[a]=Array(o),r[a]=0;for(var i=0;i<o;i++)s[a][i]=0}for(var c=0;c<e.length;c++){r[t[c]]++;for(var l=0;l<o;l++)s[t[c]][l]+=e[c][l]}for(var m=0;m<n;m++)for(var u=0;u<o;u++)s[m][u]/=r[m];return s},i.calculateDistanceMatrix=function(e,t){for(var n=Array(e.length),o=0;o<e.length;++o)for(var i=o;i<e.length;++i){n[o]||(n[o]=Array(e.length)),n[i]||(n[i]=Array(e.length));const s=t(e[o],e[i]);n[o][i]=s,n[i][o]=s}return n},i.converged=function(e,t,n,o){for(var s=0;s<e.length;s++)if(n(e[s],t[s])>o)return!1;return!0}},function(e,i,t){'use strict';function n(e){function t(e,i){if(e.rows!==i.rows||e.columns!==i.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,i){return e-i}function x(e,i){for(var t in i)e=e.replace(new RegExp('%'+t+'%','g'),i[t]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,i,t){if(e*i!==t.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,i),o=0;o<e;o++)for(var s=0;s<i;s++)n.set(o,s,t[o*i+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,i){return new this(e,i)}static zeros(e,i){return this.empty(e,i).fill(0)}static ones(e,i){return this.empty(e,i).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,v(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var i=0;i<=e;i++)if(this.get(e,i)!==this.get(i,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var i=new this.constructor[Symbol.species](2,2);const t=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(t+l)*(n+c),u=(r+l)*n,d=t*(s-c),g=l*(a-n),p=(t+o)*c;return i.set(0,0,m+g-p+(o-l)*(a+c)),i.set(0,1,d+p),i.set(1,0,u+g),i.set(1,1,m-u+d+(r-t)*(n+s)),i}strassen3x3(e){var i=new this.constructor[Symbol.species](3,3);const t=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),d=e.get(0,1),g=e.get(0,2),p=e.get(1,0),h=e.get(1,1),j=e.get(1,2),k=e.get(2,0),x=e.get(2,1),w=e.get(2,2),f=(t-s)*(-d+h),y=(-t+s+r)*(u-d+h),b=(s+r)*(-u+d),v=t*u,M=(-t+l+c)*(u-g+j),S=(-t+l)*(g-j),z=(l+c)*(-u+g),R=(-o+c+m)*(h+k-x),V=(o-m)*(h-x),I=o*k,D=(c+m)*(-k+x),C=(-o+r+a)*(j+k-w),P=(o-a)*(j-w),A=(r+a)*(-k+w);return i.set(0,0,v+I+n*p),i.set(0,1,(t+n+o-s-r-c-m)*h+y+b+v+R+I+D),i.set(0,2,v+M+z+(t+n+o-r-a-l-c)*j+I+C+A),i.set(1,0,f+r*(-u+d+p-h-j-k+w)+y+v+I+C+P),i.set(1,1,f+y+b+v+a*x),i.set(1,2,I+C+P+A+s*g),i.set(2,0,v+M+S+c*(-u+g+p-h-j-k+x)+R+V+I),i.set(2,1,R+V+I+D+l*d),i.set(2,2,v+M+S+z+m*w),i}mmulStrassen(e){function i(e,i,t){var n=e.rows,o=e.columns;if(n===i&&o===t)return e;var s=w.zeros(i,t);return s=s.setSubMatrix(e,0,0),s}function t(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=i(e,o+1,s+1),n=i(n,o+1,s+1)):1==o%2?(e=i(e,o+1,s),n=i(n,o+1,s)):1==s%2&&(e=i(e,o,s+1),n=i(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),d=e.subMatrix(r,e.rows-1,0,a-1),g=n.subMatrix(r,n.rows-1,0,a-1),p=e.subMatrix(r,e.rows-1,a,e.columns-1),h=n.subMatrix(r,n.rows-1,a,n.columns-1),j=t(w.add(l,p),w.add(c,h),r,a),k=t(w.add(d,p),c,r,a),x=t(l,w.sub(u,h),r,a),f=t(p,w.sub(g,c),r,a),y=t(w.add(l,m),h,r,a),b=t(w.sub(d,l),w.add(c,u),r,a),v=t(w.sub(m,p),w.add(g,h),r,a),M=w.add(j,f);M.sub(y),M.add(v);var S=w.add(x,y),z=w.add(k,f),R=w.sub(j,k);R.add(x),R.add(b);var V=w.zeros(2*M.rows,2*M.columns);return V=V.setSubMatrix(M,0,0),V=V.setSubMatrix(S,M.rows,0),V=V.setSubMatrix(z,0,M.columns),V=V.setSubMatrix(R,M.rows,M.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=v(o,a),r=v(s,l);return n=i(n,m,r),e=i(e,m,r),t(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new d(this,e)}columnView(e){return l.checkColumnIndex(this,e),new h(this,e)}flipRowView(){return new j(this)}flipColumnView(){return new k(this)}subMatrixView(e,i,t,n){return new g(this,e,i,t,n)}selectionView(e,i){return new p(this,e,i)}det(){if(this.isSquare()){var e,i,t,n;if(2===this.columns)return e=this.get(0,0),i=this.get(0,1),t=this.get(1,0),n=this.get(1,1),e*n-i*t;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),i=this.get(0,1),t=this.get(0,2),e*s.det()-i*r.det()+t*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=u(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var f=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,y=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,S=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,z=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,D=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,C=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,P=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,A=I,L=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],U;for(var i of L){var _=eval(x(f,{name:i[1],op:i[0]})),q=eval(x(y,{name:i[1]+'S',op:i[0]})),F=eval(x(b,{name:i[1]+'M',op:i[0]})),O=eval(x(S,{name:i[1]}));for(U=1;U<i.length;U++)w.prototype[i[U]]=_,w.prototype[i[U]+'S']=q,w.prototype[i[U]+'M']=F,w[i[U]]=O}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var W=eval(x(z,{name:T[1],method:T[0]})),E=eval(x(R,{name:T[1]}));for(U=1;U<T.length;U++)w.prototype[T[U]]=W,w[T[U]]=E}var X=[['Math.pow',1,'pow']];for(var B of X){var Q='arg0';for(U=1;U<B[1];U++)Q+=`, arg${U}`;if(1!==B[1]){var J=eval(x(V,{name:B[2],method:B[0],args:Q})),Y=eval(x(I,{name:B[2],args:Q}));for(U=2;U<B.length;U++)w.prototype[B[U]]=J,w[B[U]]=Y}else{var H={name:B[2],args:Q,method:B[0]},K=eval(x(P,H)),G=eval(x(D,H)),Z=eval(x(C,H)),$=eval(x(A,H));for(U=2;U<B.length;U++)w.prototype[B[U]]=K,w.prototype[B[U]+'M']=Z,w.prototype[B[U]+'S']=G,w[B[U]]=$}}return w}e.exports=n;var o=t(63),r=t(64),s=t(13),l=t(16),m=t(195),d=t(192),g=t(194),p=t(193),h=t(189),j=t(191),k=t(190)},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,d,i,g,h,p,s,t,j,k,x;for(d=0;d<a;d++)c[d]=d;for(k=Array(a),i=0;i<l;i++){for(d=0;d<a;d++)k[d]=r[d][i];for(d=0;d<a;d++){for(j=r[d],x=M(d,i),p=0,g=0;g<x;g++)p+=j[g]*k[g];j[i]=k[d]-=p}for(h=i,d=i+1;d<a;d++)u(k[d])>u(k[h])&&(h=d);if(h!==i){for(g=0;g<l;g++)s=r[h][g],r[h][g]=r[i][g],r[i][g]=s;t=c[h],c[h]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(d=i+1;d<a;d++)r[d][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=t(4);n.prototype={isSingular:function(){for(var e=this.LU,i=e.columns,t=0;t<i;t++)if(0===e[t][t])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var i=this.pivotSign,t=e.columns,n=0;n<t;n++)i*=e[n][n];return i},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,i,t){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,z=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(z=!1);var R=!0===x.autoTranspose,I=!1,D;if(!(w<m))D=h.clone();else if(!R)D=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{D=h.transpose(),w=D.rows,m=D.columns,I=!0;var a=y;y=z,z=a}var C=Array(M(w+1,m)),s=d(w,n,0),P=d(m,m,0),V=Array(m),e=Array(w),A=M(w-1,m),L=v(0,M(m-2,w)),U,i,j,k,p,_,q,f,F,O,N,T,W,E,X,B,Q,J,b,c,Y;for(j=0,O=v(A,L);j<O;j++){if(j<A){for(C[j]=0,U=j;U<w;U++)C[j]=l(C[j],D[U][j]);if(0!==C[j]){for(0>D[j][j]&&(C[j]=-C[j]),U=j;U<w;U++)D[U][j]/=C[j];D[j][j]+=1}C[j]=-C[j]}for(i=j+1;i<m;i++){if(j<A&&0!==C[j]){for(p=0,U=j;U<w;U++)p+=D[U][j]*D[U][i];for(p=-p/D[j][j],U=j;U<w;U++)D[U][i]+=p*D[U][j]}V[i]=D[j][i]}if(y&&j<A)for(U=j;U<w;U++)s[U][j]=D[U][j];if(j<L){for(V[j]=0,U=j+1;U<m;U++)V[j]=l(V[j],V[U]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),U=j+1;U<m;U++)V[U]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(U=j+1;U<w;U++)e[U]=0;for(i=j+1;i<m;i++)for(U=j+1;U<w;U++)e[U]+=V[i]*D[U][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],U=j+1;U<w;U++)D[U][i]+=p*e[U]}if(z)for(U=j+1;U<m;U++)P[U][j]=V[U]}}if(k=M(m,w+1),A<m&&(C[A]=D[A][A]),w<k&&(C[k-1]=0),L+1<k&&(V[L]=D[L][k-1]),V[k-1]=0,y){for(i=A;i<n;i++){for(U=0;U<w;U++)s[U][i]=0;s[i][i]=1}for(j=A-1;0<=j;j--)if(0!==C[j]){for(i=j+1;i<n;i++){for(p=0,U=j;U<w;U++)p+=s[U][j]*s[U][i];for(p=-p/s[j][j],U=j;U<w;U++)s[U][i]+=p*s[U][j]}for(U=j;U<w;U++)s[U][j]=-s[U][j];for(s[j][j]=1+s[j][j],U=0;U<j-1;U++)s[U][j]=0}else{for(U=0;U<w;U++)s[U][j]=0;s[j][j]=1}}if(z)for(j=m-1;0<=j;j--){if(j<L&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,U=j+1;U<m;U++)p+=P[U][j]*P[U][i];for(p=-p/P[j+1][j],U=j+1;U<m;U++)P[U][i]+=p*P[U][j]}for(U=0;U<m;U++)P[U][j]=0;P[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(u(V[j])<=K*(u(C[j])+u(C[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(_=k-1;_>=j&&_!==j;_--)if(p=(_===k?0:u(V[_]))+(_===j+1?0:u(V[_-1])),u(C[_])<=K*p){C[_]=0;break}_===j?N=3:_===k-1?N=1:(N=2,j=_)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(C[i],q),f=C[i]/p,F=q/p,C[i]=p,i!==j&&(q=-F*V[i-1],V[i-1]=f*V[i-1]),z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][k-1],P[U][k-1]=-F*P[U][i]+f*P[U][k-1],P[U][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(C[i],q),f=C[i]/p,F=q/p,C[i]=p,q=-F*V[i],V[i]=f*V[i],y)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][j-1],s[U][j-1]=-F*s[U][i]+f*s[U][j-1],s[U][i]=p;break}case 3:{for(T=v(v(v(v(u(C[k-1]),u(C[k-2])),u(V[k-2])),u(C[j])),u(V[j])),W=C[k-1]/T,E=C[k-2]/T,X=V[k-2]/T,B=C[j]/T,Q=V[j]/T,J=((E+W)*(E-W)+X*X)/2,b=W*X*(W*X),c=0,(0!==J||0!==b)&&(c=S(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(B+W)*(B-W)+c,Y=B*Q,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,F=Y/p,i!==j&&(V[i-1]=p),q=f*C[i]+F*V[i],V[i]=f*V[i]-F*C[i],Y=F*C[i+1],C[i+1]=f*C[i+1],z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][i+1],P[U][i+1]=-F*P[U][i]+f*P[U][i+1],P[U][i]=p;if(p=l(q,Y),f=q/p,F=Y/p,C[i]=p,q=f*V[i]+F*C[i+1],C[i+1]=-F*V[i]+f*C[i+1],Y=F*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][i+1],s[U][i+1]=-F*s[U][i]+f*s[U][i+1],s[U][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=C[j]&&(C[j]=0>C[j]?-C[j]:0,z))for(U=0;U<=g;U++)P[U][j]=-P[U][j];for(;j<g&&!(C[j]>=C[j+1]);){if(p=C[j],C[j]=C[j+1],C[j+1]=p,z&&j<m-1)for(U=0;U<m;U++)p=P[U][j+1],P[U][j+1]=P[U][j],P[U][j]=p;if(y&&j<w-1)for(U=0;U<w;U++)p=s[U][j+1],s[U][j+1]=s[U][j],s[U][j]=p;j++}H=0,k--;break}}}if(I){var G=P;P=s,s=G}this.m=w,this.n=m,this.s=C,this.U=s,this.V=P}var r=t(4),n=t(26),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=v(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*v(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=u(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,d=r.Matrix.zeros(c,m),g,p,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,p=0;p<e;p++)h+=l[s][p]*i[g][p];d[s][g]=h}return d.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=u(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,d=new r.Matrix(e,c),g,p;for(a=0;a<e;a++)for(i=0;i<c;i++){for(p=0,g=0;g<m;g++)p+=s[a][g]*l[i][g];d[a][i]=p}return d}},e.exports=o},function(e,i,t){'use strict';function n(e,i){e&&(this.means=i.means,this.calculateProbabilities=i.calculateProbabilities)}function o(e,t,n){for(var o=0,s=-1,a=0,i;a<n.length;++a){i=n[a][0];for(var c=1;c<n[0][1].length+1;++c)i+=r(e[c-1],t[a][c-1],n[a][c][0],n[a][c][1]);i=l(i),i>o&&(o=i,s=a)}return s}function r(e,i,t,n){var e=e-i;return s(t*l(e*e/n))}function a(e,t){for(var n=e.columns,o=0,s=Array(100),r=0;r<t.length;r++)void 0===s[t[r]]&&(s[t[r]]=0,o++),s[t[r]]++;var i=Array(o),a=Array(o);for(r=0;r<o;++r)i[r]=new c(s[r],n),a[r]=0;for(r=0;r<e.rows;++r)i[t[r]].setRow(a[t[r]],e.getRow(r)),a[t[r]]++;return i}var c=t(0),m=t(2);e.exports.NaiveBayes=n,e.exports.separateClasses=a,n.prototype.train=function(e,t){var n=S(2*Math.PI);if(e=c.isMatrix(e)?e.clone():new c(e),e.rows!==t.length)throw new RangeError('the size of the training set and the training labels must be the same.');var o=a(e,t),r=Array(o.length);this.means=Array(o.length);for(var l=0;l<o.length;++l){var i=m.matrix.mean(o[l]),u=m.matrix.standardDeviation(o[l],i),d=s(o[l].rows/e.rows);r[l]=Array(i.length+1),r[l][0]=d;for(var g=1,p;g<i.length+1;++g)p=u[g-1],r[l][g]=[1/(n*p),-2*p*p];this.means[l]=i}this.calculateProbabilities=r},n.prototype.predict=function(e){if(e[0].length===this.calculateProbabilities[0].length)throw new RangeError('the dataset must have the same features as the training set');for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=o(e[n],this.means,this.calculateProbabilities);return t},n.prototype.export=function(){return{modelName:'NaiveBayes',means:this.means,calculateProbabilities:this.calculateProbabilities}},n.load=function(e){if('NaiveBayes'!==e.modelName)throw new RangeError('The given model is invalid!');return new n(!0,e)}},function(e,i,t){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.a.checkMatrix(e);var a=e.clone(),l=e.rows,c=e.columns,m=Array(c),u,i,d,g;for(d=0;d<c;d++){var p=0;for(u=d;u<l;u++)p=t.i(n.a)(p,a[u][d]);if(0!==p){for(0>a[d][d]&&(p=-p),u=d;u<l;u++)a[u][d]/=p;for(a[d][d]+=1,i=d+1;i<c;i++){for(g=0,u=d;u<l;u++)g+=a[u][d]*a[u][i];for(g=-g/a[d][d],u=d;u<l;u++)a[u][i]+=g*a[u][d]}}m[d]=-p}this.QR=a,this.Rdiag=m}var r=t(5),n=t(30);o.prototype={solve:function(e){e=r.a.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r.a(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r.a(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},i.a=o},function(e,i,o){'use strict';function r(h,x){if(!(this instanceof r))return new r(h,x);h=l.a.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,z=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(z=!1);var R=!0===x.autoTranspose,I=!1,D;if(!(w<m))D=h.clone();else if(!R)D=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{D=h.transpose(),w=D.rows,m=D.columns,I=!0;var a=y;y=z,z=a}var C=Array(M(w+1,m)),s=o.i(d.b)(w,n,0),P=o.i(d.b)(m,m,0),V=Array(m),e=Array(w),A=M(w-1,m),L=v(0,M(m-2,w)),U,i,j,k,p,_,q,f,F,O,N,T,W,E,X,B,Q,J,b,c,Y;for(j=0,O=v(A,L);j<O;j++){if(j<A){for(C[j]=0,U=j;U<w;U++)C[j]=o.i(d.a)(C[j],D[U][j]);if(0!==C[j]){for(0>D[j][j]&&(C[j]=-C[j]),U=j;U<w;U++)D[U][j]/=C[j];D[j][j]+=1}C[j]=-C[j]}for(i=j+1;i<m;i++){if(j<A&&0!==C[j]){for(p=0,U=j;U<w;U++)p+=D[U][j]*D[U][i];for(p=-p/D[j][j],U=j;U<w;U++)D[U][i]+=p*D[U][j]}V[i]=D[j][i]}if(y&&j<A)for(U=j;U<w;U++)s[U][j]=D[U][j];if(j<L){for(V[j]=0,U=j+1;U<m;U++)V[j]=o.i(d.a)(V[j],V[U]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),U=j+1;U<m;U++)V[U]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(U=j+1;U<w;U++)e[U]=0;for(i=j+1;i<m;i++)for(U=j+1;U<w;U++)e[U]+=V[i]*D[U][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],U=j+1;U<w;U++)D[U][i]+=p*e[U]}if(z)for(U=j+1;U<m;U++)P[U][j]=V[U]}}if(k=M(m,w+1),A<m&&(C[A]=D[A][A]),w<k&&(C[k-1]=0),L+1<k&&(V[L]=D[L][k-1]),V[k-1]=0,y){for(i=A;i<n;i++){for(U=0;U<w;U++)s[U][i]=0;s[i][i]=1}for(j=A-1;0<=j;j--)if(0!==C[j]){for(i=j+1;i<n;i++){for(p=0,U=j;U<w;U++)p+=s[U][j]*s[U][i];for(p=-p/s[j][j],U=j;U<w;U++)s[U][i]+=p*s[U][j]}for(U=j;U<w;U++)s[U][j]=-s[U][j];for(s[j][j]=1+s[j][j],U=0;U<j-1;U++)s[U][j]=0}else{for(U=0;U<w;U++)s[U][j]=0;s[j][j]=1}}if(z)for(j=m-1;0<=j;j--){if(j<L&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,U=j+1;U<m;U++)p+=P[U][j]*P[U][i];for(p=-p/P[j+1][j],U=j+1;U<m;U++)P[U][i]+=p*P[U][j]}for(U=0;U<m;U++)P[U][j]=0;P[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(u(V[j])<=K*(u(C[j])+u(C[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(_=k-1;_>=j&&_!==j;_--)if(p=(_===k?0:u(V[_]))+(_===j+1?0:u(V[_-1])),u(C[_])<=K*p){C[_]=0;break}_===j?N=3:_===k-1?N=1:(N=2,j=_)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,i!==j&&(q=-F*V[i-1],V[i-1]=f*V[i-1]),z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][k-1],P[U][k-1]=-F*P[U][i]+f*P[U][k-1],P[U][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,q=-F*V[i],V[i]=f*V[i],y)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][j-1],s[U][j-1]=-F*s[U][i]+f*s[U][j-1],s[U][i]=p;break}case 3:{for(T=v(v(v(v(u(C[k-1]),u(C[k-2])),u(V[k-2])),u(C[j])),u(V[j])),W=C[k-1]/T,E=C[k-2]/T,X=V[k-2]/T,B=C[j]/T,Q=V[j]/T,J=((E+W)*(E-W)+X*X)/2,b=W*X*(W*X),c=0,(0!==J||0!==b)&&(c=S(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(B+W)*(B-W)+c,Y=B*Q,i=j;i<k-1;i++){if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,i!==j&&(V[i-1]=p),q=f*C[i]+F*V[i],V[i]=f*V[i]-F*C[i],Y=F*C[i+1],C[i+1]=f*C[i+1],z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][i+1],P[U][i+1]=-F*P[U][i]+f*P[U][i+1],P[U][i]=p;if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,C[i]=p,q=f*V[i]+F*C[i+1],C[i+1]=-F*V[i]+f*C[i+1],Y=F*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][i+1],s[U][i+1]=-F*s[U][i]+f*s[U][i+1],s[U][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=C[j]&&(C[j]=0>C[j]?-C[j]:0,z))for(U=0;U<=g;U++)P[U][j]=-P[U][j];for(;j<g&&!(C[j]>=C[j+1]);){if(p=C[j],C[j]=C[j+1],C[j+1]=p,z&&j<m-1)for(U=0;U<m;U++)p=P[U][j+1],P[U][j+1]=P[U][j],P[U][j]=p;if(y&&j<w-1)for(U=0;U<w;U++)p=s[U][j+1],s[U][j+1]=s[U][j],s[U][j]=p;j++}H=0,k--;break}}}if(I){var G=P;P=s,s=G}this.m=w,this.n=m,this.s=C,this.U=s,this.V=P}var l=o(5),d=o(30);r.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=v(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*v(this.m,this.n)*this.s[0]},get leftSingularVectors(){return l.a.isMatrix(this.U)||(this.U=new l.a(this.U)),this.U},get rightSingularVectors(){return l.a.isMatrix(this.V)||(this.V=new l.a(this.V)),this.V},get diagonalMatrix(){return l.a.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=l.a.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=u(this.s[s])<=n?0:1/this.s[s];var i=this.U,r=this.rightSingularVectors,a=r.mmul(o),c=r.rows,m=i.length,d=l.a.zeros(c,m),g,p,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,p=0;p<e;p++)h+=a[s][p]*i[g][p];d[s][g]=h}return d.mmul(t)},solveForDiagonal:function(e){return this.solve(l.a.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new l.a(e,this.s.length),r,i;for(r=0;r<e;r++)for(i=0;i<o;i++)s[r][i]=u(this.s[i])>n?t[r][i]/this.s[i]:0;var a=this.U,c=a.length,m=a[0].length,d=new l.a(e,c),g,p;for(r=0;r<e;r++)for(i=0;i<c;i++){for(p=0,g=0;g<m;g++)p+=s[r][g]*a[i][g];d[r][i]=p}return d}},i.a=r},function(e,i,t){'use strict';function n(e,o,i,a){const l=o.length;let n;if(Array.isArray(a))n=a,a=n.length;else{a++,n=Array(a);for(let e=0;e<a;e++)n[e]=e}const c=new s.a(l,a),m=new s.a([i]);for(let t=0;t<a;t++)for(let e=0;e<l;e++)c[e][t]=0===n[t]?1:r(o[e],n[t]);const u=c.transposeView(),d=u.mmul(c),g=u.mmul(m.transposeView());e.degree=a-1,e.powers=n,e.coefficients=t.i(s.b)(d,g).to1DArray()}Object.defineProperty(i,'__esModule',{value:!0});var o=t(14),s=t(206);class a extends o.a{constructor(e,i,s){super(),!0===e?(this.degree=i.degree,this.powers=i.powers,this.coefficients=i.coefficients):(t.i(o.b)(e,i),n(this,e,i,s))}_predict(e){let i=0;for(let t=0;t<this.powers.length;t++)i+=this.coefficients[t]*r(e,this.powers[t]);return i}toJSON(){return{name:'polynomialRegression',degree:this.degree,powers:this.powers,coefficients:this.coefficients}}toString(e){return this._toFormula(e,!1)}toLaTeX(e){return this._toFormula(e,!0)}_toFormula(e,i){let n='^',s='',r=' * ';i&&(n='^{',s='}',r='');let a='',l='';for(let c=0;c<this.coefficients.length;c++)l='',0!==this.coefficients[c]&&(l=0===this.powers[c]?t.i(o.c)(this.coefficients[c],e):1===this.powers[c]?t.i(o.c)(this.coefficients[c],e)+r+'x':t.i(o.c)(this.coefficients[c],e)+r+'x'+n+this.powers[c]+s,0<this.coefficients[c]&&c!==this.coefficients.length-1?l=' + '+l:c!==this.coefficients.length-1&&(l=' '+l)),a=l+a;return'+'===a.charAt(0)&&(a=a.slice(1)),'f(x) = '+a}static load(e){if('polynomialRegression'!==e.name)throw new TypeError('not a polynomial regression model');return new a(!0,e)}}i['default']=a},function(e,i,t){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.a.checkMatrix(e);var a=e.clone(),l=e.rows,c=e.columns,m=Array(c),u,i,d,g;for(d=0;d<c;d++){var p=0;for(u=d;u<l;u++)p=t.i(n.a)(p,a[u][d]);if(0!==p){for(0>a[d][d]&&(p=-p),u=d;u<l;u++)a[u][d]/=p;for(a[d][d]+=1,i=d+1;i<c;i++){for(g=0,u=d;u<l;u++)g+=a[u][d]*a[u][i];for(g=-g/a[d][d],u=d;u<l;u++)a[u][i]+=g*a[u][d]}}m[d]=-p}this.QR=a,this.Rdiag=m}var r=t(6),n=t(33);o.prototype={solve:function(e){e=r.a.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r.a(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r.a(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},i.a=o},function(e,i,o){'use strict';function r(h,x){if(!(this instanceof r))return new r(h,x);h=l.a.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,z=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(z=!1);var R=!0===x.autoTranspose,I=!1,D;if(!(w<m))D=h.clone();else if(!R)D=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{D=h.transpose(),w=D.rows,m=D.columns,I=!0;var a=y;y=z,z=a}var C=Array(M(w+1,m)),s=o.i(d.b)(w,n,0),P=o.i(d.b)(m,m,0),V=Array(m),e=Array(w),A=M(w-1,m),L=v(0,M(m-2,w)),U,i,j,k,p,_,q,f,F,O,N,T,W,E,X,B,Q,J,b,c,Y;for(j=0,O=v(A,L);j<O;j++){if(j<A){for(C[j]=0,U=j;U<w;U++)C[j]=o.i(d.a)(C[j],D[U][j]);if(0!==C[j]){for(0>D[j][j]&&(C[j]=-C[j]),U=j;U<w;U++)D[U][j]/=C[j];D[j][j]+=1}C[j]=-C[j]}for(i=j+1;i<m;i++){if(j<A&&0!==C[j]){for(p=0,U=j;U<w;U++)p+=D[U][j]*D[U][i];for(p=-p/D[j][j],U=j;U<w;U++)D[U][i]+=p*D[U][j]}V[i]=D[j][i]}if(y&&j<A)for(U=j;U<w;U++)s[U][j]=D[U][j];if(j<L){for(V[j]=0,U=j+1;U<m;U++)V[j]=o.i(d.a)(V[j],V[U]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),U=j+1;U<m;U++)V[U]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(U=j+1;U<w;U++)e[U]=0;for(i=j+1;i<m;i++)for(U=j+1;U<w;U++)e[U]+=V[i]*D[U][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],U=j+1;U<w;U++)D[U][i]+=p*e[U]}if(z)for(U=j+1;U<m;U++)P[U][j]=V[U]}}if(k=M(m,w+1),A<m&&(C[A]=D[A][A]),w<k&&(C[k-1]=0),L+1<k&&(V[L]=D[L][k-1]),V[k-1]=0,y){for(i=A;i<n;i++){for(U=0;U<w;U++)s[U][i]=0;s[i][i]=1}for(j=A-1;0<=j;j--)if(0!==C[j]){for(i=j+1;i<n;i++){for(p=0,U=j;U<w;U++)p+=s[U][j]*s[U][i];for(p=-p/s[j][j],U=j;U<w;U++)s[U][i]+=p*s[U][j]}for(U=j;U<w;U++)s[U][j]=-s[U][j];for(s[j][j]=1+s[j][j],U=0;U<j-1;U++)s[U][j]=0}else{for(U=0;U<w;U++)s[U][j]=0;s[j][j]=1}}if(z)for(j=m-1;0<=j;j--){if(j<L&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,U=j+1;U<m;U++)p+=P[U][j]*P[U][i];for(p=-p/P[j+1][j],U=j+1;U<m;U++)P[U][i]+=p*P[U][j]}for(U=0;U<m;U++)P[U][j]=0;P[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(u(V[j])<=K*(u(C[j])+u(C[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(_=k-1;_>=j&&_!==j;_--)if(p=(_===k?0:u(V[_]))+(_===j+1?0:u(V[_-1])),u(C[_])<=K*p){C[_]=0;break}_===j?N=3:_===k-1?N=1:(N=2,j=_)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,i!==j&&(q=-F*V[i-1],V[i-1]=f*V[i-1]),z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][k-1],P[U][k-1]=-F*P[U][i]+f*P[U][k-1],P[U][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,q=-F*V[i],V[i]=f*V[i],y)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][j-1],s[U][j-1]=-F*s[U][i]+f*s[U][j-1],s[U][i]=p;break}case 3:{for(T=v(v(v(v(u(C[k-1]),u(C[k-2])),u(V[k-2])),u(C[j])),u(V[j])),W=C[k-1]/T,E=C[k-2]/T,X=V[k-2]/T,B=C[j]/T,Q=V[j]/T,J=((E+W)*(E-W)+X*X)/2,b=W*X*(W*X),c=0,(0!==J||0!==b)&&(c=S(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(B+W)*(B-W)+c,Y=B*Q,i=j;i<k-1;i++){if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,i!==j&&(V[i-1]=p),q=f*C[i]+F*V[i],V[i]=f*V[i]-F*C[i],Y=F*C[i+1],C[i+1]=f*C[i+1],z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][i+1],P[U][i+1]=-F*P[U][i]+f*P[U][i+1],P[U][i]=p;if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,C[i]=p,q=f*V[i]+F*C[i+1],C[i+1]=-F*V[i]+f*C[i+1],Y=F*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][i+1],s[U][i+1]=-F*s[U][i]+f*s[U][i+1],s[U][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=C[j]&&(C[j]=0>C[j]?-C[j]:0,z))for(U=0;U<=g;U++)P[U][j]=-P[U][j];for(;j<g&&!(C[j]>=C[j+1]);){if(p=C[j],C[j]=C[j+1],C[j+1]=p,z&&j<m-1)for(U=0;U<m;U++)p=P[U][j+1],P[U][j+1]=P[U][j],P[U][j]=p;if(y&&j<w-1)for(U=0;U<w;U++)p=s[U][j+1],s[U][j+1]=s[U][j],s[U][j]=p;j++}H=0,k--;break}}}if(I){var G=P;P=s,s=G}this.m=w,this.n=m,this.s=C,this.U=s,this.V=P}var l=o(6),d=o(33);r.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=v(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*v(this.m,this.n)*this.s[0]},get leftSingularVectors(){return l.a.isMatrix(this.U)||(this.U=new l.a(this.U)),this.U},get rightSingularVectors(){return l.a.isMatrix(this.V)||(this.V=new l.a(this.V)),this.V},get diagonalMatrix(){return l.a.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=l.a.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=u(this.s[s])<=n?0:1/this.s[s];var i=this.U,r=this.rightSingularVectors,a=r.mmul(o),c=r.rows,m=i.length,d=l.a.zeros(c,m),g,p,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,p=0;p<e;p++)h+=a[s][p]*i[g][p];d[s][g]=h}return d.mmul(t)},solveForDiagonal:function(e){return this.solve(l.a.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new l.a(e,this.s.length),r,i;for(r=0;r<e;r++)for(i=0;i<o;i++)s[r][i]=u(this.s[i])>n?t[r][i]/this.s[i]:0;var a=this.U,c=a.length,m=a[0].length,d=new l.a(e,c),g,p;for(r=0;r<e;r++)for(i=0;i<c;i++){for(p=0,g=0;g<m;g++)p+=s[r][g]*a[i][g];d[r][i]=p}return d}},i.a=r},function(e,i,t){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.a.checkMatrix(e);var a=e.clone(),l=e.rows,c=e.columns,m=Array(c),u,i,d,g;for(d=0;d<c;d++){var p=0;for(u=d;u<l;u++)p=t.i(n.a)(p,a[u][d]);if(0!==p){for(0>a[d][d]&&(p=-p),u=d;u<l;u++)a[u][d]/=p;for(a[d][d]+=1,i=d+1;i<c;i++){for(g=0,u=d;u<l;u++)g+=a[u][d]*a[u][i];for(g=-g/a[d][d],u=d;u<l;u++)a[u][i]+=g*a[u][d]}}m[d]=-p}this.QR=a,this.Rdiag=m}var r=t(7),n=t(37);o.prototype={solve:function(e){e=r.a.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r.a(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r.a(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},i.a=o},function(e,i,o){'use strict';function r(h,x){if(!(this instanceof r))return new r(h,x);h=l.a.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,z=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(z=!1);var R=!0===x.autoTranspose,I=!1,D;if(!(w<m))D=h.clone();else if(!R)D=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{D=h.transpose(),w=D.rows,m=D.columns,I=!0;var a=y;y=z,z=a}var C=Array(M(w+1,m)),s=o.i(d.b)(w,n,0),P=o.i(d.b)(m,m,0),V=Array(m),e=Array(w),A=M(w-1,m),L=v(0,M(m-2,w)),U,i,j,k,p,_,q,f,F,O,N,T,W,E,X,B,Q,J,b,c,Y;for(j=0,O=v(A,L);j<O;j++){if(j<A){for(C[j]=0,U=j;U<w;U++)C[j]=o.i(d.a)(C[j],D[U][j]);if(0!==C[j]){for(0>D[j][j]&&(C[j]=-C[j]),U=j;U<w;U++)D[U][j]/=C[j];D[j][j]+=1}C[j]=-C[j]}for(i=j+1;i<m;i++){if(j<A&&0!==C[j]){for(p=0,U=j;U<w;U++)p+=D[U][j]*D[U][i];for(p=-p/D[j][j],U=j;U<w;U++)D[U][i]+=p*D[U][j]}V[i]=D[j][i]}if(y&&j<A)for(U=j;U<w;U++)s[U][j]=D[U][j];if(j<L){for(V[j]=0,U=j+1;U<m;U++)V[j]=o.i(d.a)(V[j],V[U]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),U=j+1;U<m;U++)V[U]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(U=j+1;U<w;U++)e[U]=0;for(i=j+1;i<m;i++)for(U=j+1;U<w;U++)e[U]+=V[i]*D[U][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],U=j+1;U<w;U++)D[U][i]+=p*e[U]}if(z)for(U=j+1;U<m;U++)P[U][j]=V[U]}}if(k=M(m,w+1),A<m&&(C[A]=D[A][A]),w<k&&(C[k-1]=0),L+1<k&&(V[L]=D[L][k-1]),V[k-1]=0,y){for(i=A;i<n;i++){for(U=0;U<w;U++)s[U][i]=0;s[i][i]=1}for(j=A-1;0<=j;j--)if(0!==C[j]){for(i=j+1;i<n;i++){for(p=0,U=j;U<w;U++)p+=s[U][j]*s[U][i];for(p=-p/s[j][j],U=j;U<w;U++)s[U][i]+=p*s[U][j]}for(U=j;U<w;U++)s[U][j]=-s[U][j];for(s[j][j]=1+s[j][j],U=0;U<j-1;U++)s[U][j]=0}else{for(U=0;U<w;U++)s[U][j]=0;s[j][j]=1}}if(z)for(j=m-1;0<=j;j--){if(j<L&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,U=j+1;U<m;U++)p+=P[U][j]*P[U][i];for(p=-p/P[j+1][j],U=j+1;U<m;U++)P[U][i]+=p*P[U][j]}for(U=0;U<m;U++)P[U][j]=0;P[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(u(V[j])<=K*(u(C[j])+u(C[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(_=k-1;_>=j&&_!==j;_--)if(p=(_===k?0:u(V[_]))+(_===j+1?0:u(V[_-1])),u(C[_])<=K*p){C[_]=0;break}_===j?N=3:_===k-1?N=1:(N=2,j=_)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,i!==j&&(q=-F*V[i-1],V[i-1]=f*V[i-1]),z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][k-1],P[U][k-1]=-F*P[U][i]+f*P[U][k-1],P[U][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=o.i(d.a)(C[i],q),f=C[i]/p,F=q/p,C[i]=p,q=-F*V[i],V[i]=f*V[i],y)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][j-1],s[U][j-1]=-F*s[U][i]+f*s[U][j-1],s[U][i]=p;break}case 3:{for(T=v(v(v(v(u(C[k-1]),u(C[k-2])),u(V[k-2])),u(C[j])),u(V[j])),W=C[k-1]/T,E=C[k-2]/T,X=V[k-2]/T,B=C[j]/T,Q=V[j]/T,J=((E+W)*(E-W)+X*X)/2,b=W*X*(W*X),c=0,(0!==J||0!==b)&&(c=S(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(B+W)*(B-W)+c,Y=B*Q,i=j;i<k-1;i++){if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,i!==j&&(V[i-1]=p),q=f*C[i]+F*V[i],V[i]=f*V[i]-F*C[i],Y=F*C[i+1],C[i+1]=f*C[i+1],z)for(U=0;U<m;U++)p=f*P[U][i]+F*P[U][i+1],P[U][i+1]=-F*P[U][i]+f*P[U][i+1],P[U][i]=p;if(p=o.i(d.a)(q,Y),f=q/p,F=Y/p,C[i]=p,q=f*V[i]+F*C[i+1],C[i+1]=-F*V[i]+f*C[i+1],Y=F*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(U=0;U<w;U++)p=f*s[U][i]+F*s[U][i+1],s[U][i+1]=-F*s[U][i]+f*s[U][i+1],s[U][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=C[j]&&(C[j]=0>C[j]?-C[j]:0,z))for(U=0;U<=g;U++)P[U][j]=-P[U][j];for(;j<g&&!(C[j]>=C[j+1]);){if(p=C[j],C[j]=C[j+1],C[j+1]=p,z&&j<m-1)for(U=0;U<m;U++)p=P[U][j+1],P[U][j+1]=P[U][j],P[U][j]=p;if(y&&j<w-1)for(U=0;U<w;U++)p=s[U][j+1],s[U][j+1]=s[U][j],s[U][j]=p;j++}H=0,k--;break}}}if(I){var G=P;P=s,s=G}this.m=w,this.n=m,this.s=C,this.U=s,this.V=P}var l=o(7),d=o(37);r.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=v(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*v(this.m,this.n)*this.s[0]},get leftSingularVectors(){return l.a.isMatrix(this.U)||(this.U=new l.a(this.U)),this.U},get rightSingularVectors(){return l.a.isMatrix(this.V)||(this.V=new l.a(this.V)),this.V},get diagonalMatrix(){return l.a.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=l.a.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=u(this.s[s])<=n?0:1/this.s[s];var i=this.U,r=this.rightSingularVectors,a=r.mmul(o),c=r.rows,m=i.length,d=l.a.zeros(c,m),g,p,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,p=0;p<e;p++)h+=a[s][p]*i[g][p];d[s][g]=h}return d.mmul(t)},solveForDiagonal:function(e){return this.solve(l.a.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new l.a(e,this.s.length),r,i;for(r=0;r<e;r++)for(i=0;i<o;i++)s[r][i]=u(this.s[i])>n?t[r][i]/this.s[i]:0;var a=this.U,c=a.length,m=a[0].length,d=new l.a(e,c),g,p;for(r=0;r<e;r++)for(i=0;i<c;i++){for(p=0,g=0;g<m;g++)p+=s[r][g]*a[i][g];d[r][i]=p}return d}},i.a=r},function(e,i,t){'use strict';Object.defineProperty(i,'__esModule',{value:!0});var n=t(7);t.d(i,'default',function(){return n.a}),t.d(i,'Matrix',function(){return n.a});var o=t(35);t.d(i,'abstractMatrix',function(){return o.a});var s=t(232);t.d(i,'solve',function(){return s.a}),t.d(i,'inverse',function(){return s.b});var r=t(72);t.d(i,'SingularValueDecomposition',function(){return r.a}),t.d(i,'SVD',function(){return r.a});var a=t(231);t.d(i,'EigenvalueDecomposition',function(){return a.a}),t.d(i,'EVD',function(){return a.a});var l=t(230);t.d(i,'CholeskyDecomposition',function(){return l.a}),t.d(i,'CHO',function(){return l.a});var c=t(36);t.d(i,'LuDecomposition',function(){return c.a}),t.d(i,'LU',function(){return c.a});var m=t(71);t.d(i,'QrDecomposition',function(){return m.a}),t.d(i,'QR',function(){return m.a})},function(e,t){'use strict';function o(e,i){return e-i}t.sum=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},t.max=function(e){for(var t=-Infinity,n=e.length,o=0;o<n;o++)e[o]>t&&(t=e[o]);return t},t.min=function(e){for(var t=Infinity,n=e.length,o=0;o<n;o++)e[o]<t&&(t=e[o]);return t},t.minMax=function(e){for(var t=Infinity,n=-Infinity,o=e.length,s=0;s<o;s++)e[s]<t&&(t=e[s]),e[s]>n&&(n=e[s]);return{min:t,max:n}},t.arithmeticMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=e[o];return t/n},t.mean=t.arithmeticMean,t.geometricMean=function(e){for(var t=1,n=e.length,o=0;o<n;o++)t*=e[o];return r(t,1/n)},t.logMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=s(e[o]);return t/n},t.grandMean=function(e,t){for(var o=0,s=0,n=e.length,r=0;r<n;r++)o+=t[r]*e[r],s+=t[r];return o/s},t.truncatedMean=function(e,t,n){n===void 0&&(n=!1),n||(e=e.slice().sort(o));for(var s=e.length,r=c(s*t),a=0,l=r;l<s-r;l++)a+=e[l];return a/(s-2*r)},t.harmonicMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++){if(0===e[o])throw new RangeError('value at index '+o+'is zero');t+=1/e[o]}return n/t},t.contraHarmonicMean=function(e){for(var t=0,n=0,o=e.length,s=0;s<o;s++)t+=e[s]*e[s],n+=e[s];if(0>n)throw new RangeError('sum of values is negative');return t/n},t.median=function(e,i){i===void 0&&(i=!1),i||(e=e.slice().sort(o));var t=e.length,n=c(t/2);return 0==t%2?0.5*(e[n-1]+e[n]):e[n]},t.variance=function(e,n){n===void 0&&(n=!0);for(var o=t.mean(e),s=0,r=e.length,a=0,i;a<r;a++)i=e[a]-o,s+=i*i;return n?s/(r-1):s/r},t.standardDeviation=function(e,i){return S(t.variance(e,i))},t.standardError=function(e){return t.standardDeviation(e)/S(e.length)},t.quartiles=function(e,i){'undefined'==typeof i&&(i=!1),i||(e=e.slice(),e.sort(o));var s=e.length/4,r=e[n(s)-1],a=t.median(e,!0),l=e[n(3*s)-1];return{q1:r,q2:a,q3:l}},t.pooledStandardDeviation=function(e,i){return S(t.pooledVariance(e,i))},t.pooledVariance=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=0,s=0,r=e.length,a=0;a<r;a++){var i=e[a],l=t.variance(i);o+=(i.length-1)*l,s+=n?i.length-1:i.length}return o/s},t.mode=function(e){var t=e.length,n=Array(t),o;for(o=0;o<t;o++)n[o]=0;var i=Array(t),s=0;for(o=0;o<t;o++){var r=i.indexOf(e[o]);0<=r?n[r]++:(i[s]=e[o],n[s]=1,s++)}var a=0,l=0;for(o=0;o<s;o++)n[o]>a&&(a=n[o],l=o);return i[l]},t.covariance=function(e,n,o){'undefined'==typeof o&&(o=!0);var s=t.mean(e),r=t.mean(n);if(e.length!==n.length)throw'Vectors do not have the same dimensions';for(var a=0,c=e.length,l=0;l<c;l++){var i=e[l]-s,m=n[l]-r;a+=i*m}return o?a/(c-1):a/c},t.skewness=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=t.mean(e),s=0,c=0,m=e.length,l=0,i;l<m;l++)i=e[l]-o,s+=i*i,c+=i*i*i;var u=s/m,d=c/m,p=d/r(u,3/2);if(n){var g=S(m*(m-1));return g/(m-2)*p}return p},t.kurtosis=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),r=e.length,n=0,a=0,l=0,i;l<r;l++)i=e[l]-s,n+=i*i,a+=i*i*i*i;var c=n/r,m=a/r;if(o){var u=n/(r-1),d=a/(u*u);return r*(r+1)/((r-1)*(r-2)*(r-3))*d-3*((r-1)*(r-1)/((r-2)*(r-3)))}return m/(c*c)-3},t.entropy=function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=0;r<o;r++)n+=e[r]*s(e[r]+t);return-n},t.weightedMean=function(e,t){for(var n=0,o=e.length,s=0;s<o;s++)n+=e[s]*t[s];return n},t.weightedStandardDeviation=function(e,i){return S(t.weightedVariance(e,i))},t.weightedVariance=function(e,n){for(var o=t.weightedMean(e,n),s=0,r=e.length,l=0,a=0,c=0;c<r;c++){var i=e[c]-o,m=n[c];s+=m*(i*i),a+=m,l+=m*m}return s*(a/(a*a-l))},t.center=function(e,n){'undefined'==typeof n&&(n=!1);var o=e;n||(o=e.slice());for(var s=t.mean(o),r=o.length,a=0;a<r;a++)o[a]-=s},t.standardize=function(e,n,o){'undefined'==typeof n&&(n=t.standardDeviation(e)),'undefined'==typeof o&&(o=!1);for(var s=e.length,r=o?e:Array(s),a=0;a<s;a++)r[a]=e[a]/n;return r},t.cumulativeSum=function(e){var t=e.length,n=Array(t);n[0]=e[0];for(var o=1;o<t;o++)n[o]=n[o-1]+e[o];return n}},function(e){function i(e,i,t,n){this.x=e,this.y=i,this.weights=t,this.som=n,this.neighbors={}}i.prototype.adjustWeights=function(e,t,n){for(var o=0,i=this.weights.length;o<i;o++)this.weights[o]+=t*n*(e[o]-this.weights[o])},i.prototype.getDistance=function(e){return v(u(this.x-e.x),u(this.y-e.y))},i.prototype.getDistanceTorus=function(e){var i=u(this.x-e.x),t=u(this.y-e.y);return v(M(i,this.som.gridDim.x-i),M(t,this.som.gridDim.y-t))},i.prototype.getNeighbors=function(e){if(!this.neighbors[e]){this.neighbors[e]=[,,];var i;if(0<this[e]?i=this[e]-1:this.som.torus&&(i=this.som.gridDim[e]-1),'undefined'!=typeof i){var t,n;'x'===e?(t=i,n=this.y):(t=this.x,n=i),this.neighbors[e][0]=this.som.nodes[t][n]}var o;this[e]<this.som.gridDim[e]-1?o=this[e]+1:this.som.torus&&(o=0),'undefined'!=typeof o&&('x'===e?(t=o,n=this.y):(t=this.x,n=o),this.neighbors[e][1]=this.som.nodes[t][n])}return this.neighbors[e]},i.prototype.getPos=function(e,i){var t=this.getNeighbors(e),n=this.som.distance,o,s;if(!t[0])o=t[1],s=1;else if(t[1]){var r=n(i,t[0].weights),a=n(i,t[1].weights);r<a?(o=t[0],s=-1):(o=t[1],s=1)}else o=t[0],s=-1;var l=1-n(i,this.weights),c=1-n(i,o.weights);return 0.5+0.5*((l-c)/(2-l-c))*s},i.prototype.getPosition=function(e){return[this.getPos('x',e),this.getPos('y',e)]},e.exports=i},function(e,t){'use strict';function o(e,i){return e-i}t.sum=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},t.max=function(e){for(var t=e[0],n=e.length,o=1;o<n;o++)e[o]>t&&(t=e[o]);return t},t.min=function(e){for(var t=e[0],n=e.length,o=1;o<n;o++)e[o]<t&&(t=e[o]);return t},t.minMax=function(e){for(var t=e[0],n=e[0],o=e.length,s=1;s<o;s++)e[s]<t&&(t=e[s]),e[s]>n&&(n=e[s]);return{min:t,max:n}},t.arithmeticMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=e[o];return t/n},t.mean=t.arithmeticMean,t.geometricMean=function(e){for(var t=1,n=e.length,o=0;o<n;o++)t*=e[o];return r(t,1/n)},t.logMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=s(e[o]);return t/n},t.grandMean=function(e,t){for(var o=0,s=0,n=e.length,r=0;r<n;r++)o+=t[r]*e[r],s+=t[r];return o/s},t.truncatedMean=function(e,t,n){n===void 0&&(n=!1),n||(e=[].concat(e).sort(o));for(var s=e.length,r=c(s*t),a=0,l=r;l<s-r;l++)a+=e[l];return a/(s-2*r)},t.harmonicMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++){if(0===e[o])throw new RangeError('value at index '+o+'is zero');t+=1/e[o]}return n/t},t.contraHarmonicMean=function(e){for(var t=0,n=0,o=e.length,s=0;s<o;s++)t+=e[s]*e[s],n+=e[s];if(0>n)throw new RangeError('sum of values is negative');return t/n},t.median=function(e,i){i===void 0&&(i=!1),i||(e=[].concat(e).sort(o));var t=e.length,n=c(t/2);return 0==t%2?0.5*(e[n-1]+e[n]):e[n]},t.variance=function(e,n){n===void 0&&(n=!0);for(var o=t.mean(e),s=0,r=e.length,a=0,i;a<r;a++)i=e[a]-o,s+=i*i;return n?s/(r-1):s/r},t.standardDeviation=function(e,i){return S(t.variance(e,i))},t.standardError=function(e){return t.standardDeviation(e)/S(e.length)},t.robustMeanAndStdev=function(e){var t=0,n=0,s=e.length,r=0;for(r=0;r<s;r++)t+=e[r];t/=s;var i=Array(s);for(r=0;r<s;r++)i[r]=u(e[r]-t);return i.sort(o),n=1==s%2?i[(s-1)/2]/0.6745:0.5*(i[s/2]+i[s/2-1])/0.6745,{mean:t,stdev:n}},t.quartiles=function(e,i){'undefined'==typeof i&&(i=!1),i||(e=[].concat(e).sort(o));var s=e.length/4,r=e[n(s)-1],a=t.median(e,!0),l=e[n(3*s)-1];return{q1:r,q2:a,q3:l}},t.pooledStandardDeviation=function(e,i){return S(t.pooledVariance(e,i))},t.pooledVariance=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=0,s=0,r=e.length,a=0;a<r;a++){var i=e[a],l=t.variance(i);o+=(i.length-1)*l,s+=n?i.length-1:i.length}return o/s},t.mode=function(e){var t=e.length,n=Array(t),o;for(o=0;o<t;o++)n[o]=0;var i=Array(t),s=0;for(o=0;o<t;o++){var r=i.indexOf(e[o]);0<=r?n[r]++:(i[s]=e[o],n[s]=1,s++)}var a=0,l=0;for(o=0;o<s;o++)n[o]>a&&(a=n[o],l=o);return i[l]},t.covariance=function(e,n,o){'undefined'==typeof o&&(o=!0);var s=t.mean(e),r=t.mean(n);if(e.length!==n.length)throw'Vectors do not have the same dimensions';for(var a=0,c=e.length,l=0;l<c;l++){var i=e[l]-s,m=n[l]-r;a+=i*m}return o?a/(c-1):a/c},t.skewness=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=t.mean(e),s=0,c=0,m=e.length,l=0,i;l<m;l++)i=e[l]-o,s+=i*i,c+=i*i*i;var u=s/m,d=c/m,p=d/r(u,3/2);if(n){var g=S(m*(m-1));return g/(m-2)*p}return p},t.kurtosis=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),r=e.length,n=0,a=0,l=0,i;l<r;l++)i=e[l]-s,n+=i*i,a+=i*i*i*i;var c=n/r,m=a/r;if(o){var u=n/(r-1),d=a/(u*u);return r*(r+1)/((r-1)*(r-2)*(r-3))*d-3*((r-1)*(r-1)/((r-2)*(r-3)))}return m/(c*c)-3},t.entropy=function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=0;r<o;r++)n+=e[r]*s(e[r]+t);return-n},t.weightedMean=function(e,t){for(var n=0,o=e.length,s=0;s<o;s++)n+=e[s]*t[s];return n},t.weightedStandardDeviation=function(e,i){return S(t.weightedVariance(e,i))},t.weightedVariance=function(e,n){for(var o=t.weightedMean(e,n),s=0,r=e.length,l=0,a=0,c=0;c<r;c++){var i=e[c]-o,m=n[c];s+=m*(i*i),a+=m,l+=m*m}return s*(a/(a*a-l))},t.center=function(e,n){'undefined'==typeof n&&(n=!1);var o=e;n||(o=[].concat(e));for(var s=t.mean(o),r=o.length,a=0;a<r;a++)o[a]-=s},t.standardize=function(e,n,o){'undefined'==typeof n&&(n=t.standardDeviation(e)),'undefined'==typeof o&&(o=!1);for(var s=e.length,r=o?e:Array(s),a=0;a<s;a++)r[a]=e[a]/n;return r},t.cumulativeSum=function(e){var t=e.length,n=Array(t);n[0]=e[0];for(var o=1;o<t;o++)n[o]=n[o-1]+e[o];return n}},function(e,i,t){'use strict';function n(e){for(var t='',n=0,i;n<e.length;n++)i=(e[n]>>>0).toString(2),t+='00000000000000000000000000000000'.substr(i.length)+i;return t}var o=t(103);e.exports={count:function(e){for(var t=0,n=0;n<e.length;n++)t+=o[255&e[n]]+o[255&e[n]>>8]+o[255&e[n]>>16]+o[255&e[n]>>24];return t},and:function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=e[o]&t[o];return n},or:function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=e[o]|t[o];return n},xor:function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=e[o]^t[o];return n},not:function(e){for(var t=Array(e.length),n=0;n<t.length;n++)t[n]=~e[n];return t},getBit:function(e,i){return!!(e[i>>5]&1<<31-i%32)},setBit:function(e,i,t){var n=i>>5,o=1<<31-i%32;return e[n]=t?o|e[n]:~o&e[n],e},toBinaryString:n,parseBinaryString:function(e){for(var t=e.length/32,n=Array(t),o=0;o<t;o++)n[o]=0|parseInt(e.substr(32*o,32),2);return n},toHexString:function(e){for(var t='',n=0,i;n<e.length;n++)i=(e[n]>>>0).toString(16),t+='00000000'.substr(i.length)+i;return t},parseHexString:function(e){for(var t=e.length/8,n=Array(t),o=0;o<t;o++)n[o]=0|parseInt(e.substr(8*o,8),16);return n},toDebug:function(e){for(var t=n(e),o='',s=0;s<e.length;s++){o+='0000'.substr((32*s).toString(16).length)+(32*s).toString(16)+':';for(var i=0;32>i;i+=4)o+=' '+t.substr(32*s+i,4);s<e.length-1&&(o+='\n')}return o}}},function(e,i,t){'use strict';function n(e,i){if(e.length!==i.length)throw new Error('features and labels should have the same length')}function o(e,i){return Array(e).fill(0).map(()=>Array(i).fill(0))}function s(e){var t=new Set;for(let n=0;n<e.length;n++)t.add(e[n]);return Array.from(t)}function r(e,t,n,o,s,r,a,l){var c=s.map(function(e){return t[e]}),m=r.map(function(e){return t[e]}),u=s.map(function(e){return n[e]}),d=r.map(function(e){return n[e]}),g=new e(o);g.train(m,d);for(var p=g.predict(c),h=0;h<p.length;h++)a[l.indexOf(u[h])][l.indexOf(p[h])]++}const a=t(105),l={},m=t(104);l.leaveOneOut=function(e,i,t,n){return l.leavePOut(e,i,t,n,1)},l.leavePOut=function(e,t,l,c,u){n(t,l);const d=s(l),g=o(d.length,d.length);var p=t.length,h=m(u,p),j=Array(p),k;for(k=0;k<p;k++)j[k]=k;for(const n of h){var i=j.slice();for(k=n.length-1;0<=k;k--)i.splice(n[k],1);r(e,t,l,c,n,i,g,d)}return new a(g,d)},l.kFold=function(e,t,m,u,d){n(t,m);const g=s(m),p=o(g.length,g.length);for(var h=t.length,k=Array(h),x=0;x<h;x++)k[x]=x;for(var i=c(h/d),l=[],w=[];k.length;){var f=c(Math.random()*k.length);l.push(k[f]),k.splice(f,1),l.length===i&&(w.push(l),l=[])}for(l.length&&w.push(l),w=w.slice(0,d),x=0;x<w.length;x++){for(var y=w[x],b=[],v=0;v<w.length;v++)v!==x&&(b=b.concat(w[v]));r(e,t,m,u,y,b,p,g)}return new a(p,g)},e.exports=l},function(e,i,t){'use strict';const n=t(0),o=t(55),s=t(152),r=t(57),a=t(56);class l{constructor(e){if(e=e||{},e.model){this.hiddenLayers=e.hiddenLayers,this.iterations=e.iterations,this.learningRate=e.learningRate,this.regularization=e.regularization,this.dicts=e.dicts,this.activation=e.activation,this.activationParam=e.activationParam,this.model=Array(e.layers.length);for(var t=0;t<this.model.length-1;++t)this.model[t]=o.load(e.layers[t]);this.model[this.model.length-1]=s.load(e.layers[this.model.length-1])}else this.hiddenLayers=void 0===e.hiddenLayers?[10]:e.hiddenLayers,this.iterations=void 0===e.iterations?50:e.iterations,this.learningRate=void 0===e.learningRate?0.01:e.learningRate,this.regularization=void 0===e.regularization?0.01:e.regularization,this.activation=void 0===e.activation?'tanh':e.activation,this.activationParam=void 0===e.activationParam?1:e.activationParam,this.activation in Object.keys(a)||(this.activation='tanh')}buildNetwork(e,t){var n=2+(this.hiddenLayers.length-1);this.model=Array(n),this.model[0]=new o({inputSize:e,outputSize:this.hiddenLayers[0],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});for(var r=1;r<this.hiddenLayers.length;++r)this.model[r]=new o({inputSize:this.hiddenLayers[r-1],outputSize:this.hiddenLayers[r],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});this.model[n-1]=new s({inputSize:this.hiddenLayers[this.hiddenLayers.length-1],outputSize:t,activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate})}train(e,t){e=n.checkMatrix(e),this.dicts=r.dictOutputs(t);var o=e.columns,s=Object.keys(this.dicts.inputs).length;this.buildNetwork(o,s);for(var a=0,i;a<this.iterations;++a)i=this.propagate(e),this.backpropagation(e,t,i)}propagate(e){for(var t=e,n=0;n<this.model.length;++n)t=this.model[n].forward(t);return t.divColumnVector(r.sumRow(t))}backpropagation(e,t,n){for(var o=0;o<n.length;++o)n[o][this.dicts.inputs[t[o]]]-=1;var i=n;for(o=this.model.length-1;0<=o;--o){var s=0<o?this.model[o-1].a:e;i=this.model[o].backpropagation(i,s)}for(o=0;o<this.model.length;++o)this.model[o].update()}predict(e){e=n.checkMatrix(e);for(var t=Array(e.rows),o=this.propagate(e),s=0;s<e.rows;++s)t[s]=this.dicts.outputs[o.maxRowIndex(s)[1]];return t}toJSON(){for(var e={model:'FNN',hiddenLayers:this.hiddenLayers,iterations:this.iterations,learningRate:this.learningRate,regularization:this.regularization,activation:this.activation,activationParam:this.activationParam,dicts:this.dicts,layers:Array(this.model.length)},t=0;t<this.model.length;++t)e.layers[t]=this.model[t].toJSON();return e}static load(e){if('FNN'!==e.model)throw new RangeError('the current model is not a feed forward network');return new l(e)}}e.exports=l},function(e,i,t){'use strict';i.agnes=t(154),i.diana=t(155)},function(e,i,n){'use strict';function o(e,i,t,n,o,s){t=r.updateClusterID(i,e,t,o.distanceFunction);var a=r.updateCenters(i,t,n),c=r.converged(a,e,o.distanceFunction,o.tolerance);return new l(t,a,c,s,o.distanceFunction)}function*s(e,i,t,n,s){for(var r=!1,a=0,l;!r&&a<s.maxIterations;)l=o(e,i,t,n,s,++a),yield l.computeInformation(i),r=l.converged,e=l.centroids}const r=n(61),a=n(179),l=n(178),c=n(1).squared,u={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:'mostDistant',distanceFunction:c};e.exports=function(e,i,n){if(n=Object.assign({},u,n),0>=i||i>e.length||!m(i))throw new Error('K should be a positive integer bigger than the number of points');var l;if(!Array.isArray(n.initialization))switch(n.initialization){case'random':l=a.random(e,i);break;case'mostDistant':l=a.mostDistant(e,i,r.calculateDistanceMatrix(e,n.distanceFunction));break;default:throw new Error('Unknown initialization method: "'+n.initialization+'"');}else if(n.initialization.length!==i)throw new Error('The initial centers should have the same length as K');else l=n.initialization;0===n.maxIterations&&(n.maxIterations=t);var c=Array(e.length);if(n.withIterations)return s(l,e,c,i,n);for(var d=!1,g=0,p;!d&&g<n.maxIterations;)p=o(l,e,c,i,n,++g),d=p.converged,l=p.centroids;return p.computeInformation(e)}},function(e,i,t){'use strict';e.exports=t(181)},function(e,i,t){'use strict';const n=t(182),o=t(183),s={damping:void 0,gradientDifference:0.1,initialValues:void 0,maxIterations:100,errorTolerance:0.01};e.exports=function(e,t,r){if(!r||!r.damping||0>=r.damping)throw new TypeError('The damping option should be a positive number');if(r=Object.assign({},s,r),!r.initialValues){r.initialValues=Array(t.length);for(var a=0;a<t.length;a++)r.initialValues[a]=1}if(!e.x||!e.y)throw new TypeError('The data parameter should have a x and y elements');else if(e.x.constructor!==Array||2>e.x.length||e.y.constructor!==Array||2>e.y.length)throw new TypeError('The data parameter elements should be an array with more than 2 points');const i=e.x.length;if(i!==e.y.length)throw new RangeError('The data parameter elements should have the same size');for(var l=r.initialValues,c=n(e,l,t),m=c<=r.errorTolerance,u=0;u<r.maxIterations&&!m;u++)l=o(e,l,r.damping,r.gradientDifference,t),c=n(e,l,t),m=c<=r.errorTolerance;return{parameterValues:l,parameterError:c,iterations:u}}},function(e,i,t){'use strict';e.exports=i=t(65).NaiveBayes,i.separateClasses=t(65).separateClasses},function(e,i,t){'use strict';function n(e,t){var n=t.length/3,o=e.rows,s=h.zeros(e.length,1),a,l,i,c;for(l=0;l<n;l++)for(c=r(t[l+2*n][0]/2,2),a=t[l+n][0]*c,i=0;i<o;i++)s[i][0]+=a/(r(e[i][0]-t[l][0],2)+c);return s}function o(e,t){for(var n=t[1][0]*r(t[2][0]/2,2),o=e.rows,s=new h(e.rows,e.columns),a=0;a<o;a++)s[a][0]=n/(r(e[a][0]-t[0][0],2)+r(t[2][0]/2,2));return s}function s(e,t){for(var n=t[2][0]*t[2][0]/2,o=e.rows,s=new h(e.rows,e.columns),r=0;r<o;r++)s[r][0]=t[1][0]*l(-(e[r][0]-t[0][0])*(e[r][0]-t[0][0])/n);return s}function a(e,i,n){n=n||{};var s=m(e,n.percentage||0);if(null===s||3>s[0].rows)return null;var r=s[0],t=s[1],a=s[2],l=r.rows,c=[l/S(t.dot(t))],n=Object.create(n.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),g=u(r[0][0]-r[1][0]),p=new h([[-g/1e4],[-0.001],[-g/1e4]]),j=new h([[i.x],[1],[i.width]]),k=new h([[i.x-g],[0.75],[i.width/4]]),x=new h([[i.x+g],[1.25],[4*i.width]]),w=d.optimize(o,j,r,t,c,p,k,x,[],n);return w=w.p,[w[0],[w[1][0]*a],w[2]]}function c(e,i,n){n=n||{};var o=m(e,n.percentage||0);if(null===o||3>o[0].rows)return null;var r=o[0],t=o[1],a=o[2],l=r.rows,c=[l/S(t.dot(t))],n=Object.create(n.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),g=u(r[0][0]-r[1][0]),p=new h([[-g/1e4],[-0.001],[-g/1e4]]),p=new h([[-u(r[0][0]-r[1][0])/1e3],[-0.001],[-i.width/1e3]]),j=new h([[i.x],[1],[i.width]]),k=new h([[i.x-g],[0.75],[i.width/4]]),x=new h([[i.x+g],[1.25],[4*i.width]]),w=d.optimize(s,j,r,t,c,p,k,x,[],n);return w=w.p,[w[0],[w[1][0]*a],w[2]]}function m(e,n){var o=e.length,s=null,t=null,r=0,a,l,c;if(2==o){var i=e[0].length;if(s=Array(i),t=Array(i),a=e[0],l=e[1],'number'==typeof a[0])for(c=0;c<i;c++)s[c]=a[c],t[c]=l[c],l[c]>r&&(r=l[c]);else if('object'==typeof a[0])for(c=0;c<i;c++)s[c]=a[c][0],t[c]=l[c][0],l[c][0]>r&&(r=l[c][0])}else{var i=o;for(s=Array(i),t=Array(i),c=0;c<i;c++)s[c]=e[c][0],t[c]=e[c][1],t[c]>r&&(r=t[c])}for(c=0;c<i;c++)t[c]/=r;if(n)for(c=i-1;0<=c;c--)t[c]<n&&(t.splice(c,1),s.splice(c,1));return 0<s.length?[new h([s]).transpose(),new h([t]).transpose(),r]:null}var d=t(107),g=d.Matrix.algebra,h=t(0);e.exports.optimizeSingleLorentzian=a,e.exports.optimizeLorentzianSum=function(e,o,s){var r=m(e);if(null===r||3>r[0].rows)return null;var a=r[0],t=r[1],l=r[2],c=a.rows,p=[c/g.sqrt(t.dot(t))],s=Object.create(s||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),j=o.length,k=new h(3*j,1),x=new h(3*j,1),w=new h(3*j,1),f=new h(3*j,1),y=u(a[0][0]-a[1][0]),b;for(b=0;b<j;b++)k[b][0]=o[b].x,k[b+j][0]=1,k[b+2*j][0]=o[b].width,x[b][0]=o[b].x-y,x[b+j][0]=0,x[b+2*j][0]=o[b].width/4,w[b][0]=o[b].x+y,w[b+j][0]=1.5,w[b+2*j][0]=4*o[b].width,f[b][0]=-y/1e3,f[b+j][0]=-1e-3,f[b+2*j][0]=-y/1e3;var f=-u(a[0][0]-a[1][0])/1e4,i=d.optimize(n,k,a,t,p,f,x,w,[],s);i=i.p;var v=Array(j);for(b=0;b<j;b++)v[b]=[i[b],[i[b+j][0]*l],i[b+2*j]];return v},e.exports.optimizeSingleGaussian=c,e.exports.optimizeGaussianSum=function(e,o,s){var r=m(e);if(null===r||3>r[0].rows)return null;var a=r[0],t=r[1],l=r[2],c=a.rows,p=new h(c,1),j=c/g.sqrt(t.dot(t)),k;for(k=0;k<c;k++)p[k][0]=j;var s=Object.create(s||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,2]),i=o.length,x=new h(3*i,1),w=new h(3*i,1),f=new h(3*i,1),y=new h(3*i,1),b=u(a[0][0]-a[1][0]);for(k=0;k<i;k++)x[k][0]=o[k].x,x[k+i][0]=o[k].y/l,x[k+2*i][0]=o[k].width,w[k][0]=o[k].x-b,w[k+i][0]=0.8*o[k].y/l,w[k+2*i][0]=o[k].width/2,f[k][0]=o[k].x+b,f[k+i][0]=1.2*o[k].y/l,f[k+2*i][0]=2*o[k].width,y[k][0]=-b/1e3,y[k+i][0]=-1e-3,y[k+2*i][0]=-b/1e3;var v=d.optimize(n,x,a,t,p,y,w,f,[],s);v=v.p;var M=Array(i);for(k=0;k<i;k++)M[k]=[v[k],[v[k+i][0]*l],v[k+2*i]];return M},e.exports.singleGaussian=s,e.exports.singleLorentzian=o,e.exports.optimizeGaussianTrain=function(e,n,o){var s=m(e);if(null===s||3>s[0].rows)return null;for(var r=s[0],t=s[1],a=s[2],l=0,u=r.length,d=[],g=0,i,p,h,a,j;g<n.length;g++){for(i=n[g].x-1.5*n[g].width;r[l++]<i&&l<u;);for(i=n[g].x+1.5*n[g].width,p=[],h=[];r[l]<=i&&l<u;)p.push(r[l][0]),h.push(t[l][0]*a),l++;j=c([p,h],n[g],o),j?d.push({x:j[0][0],y:j[1][0],width:j[2][0],opt:!0}):d.push({x:n[g].x,y:n[g].y,width:n[g].width,opt:!1})}return d},e.exports.optimizeLorentzianTrain=function(e,n,o){var s=m(e);if(null===s||3>s[0].rows)return null;for(var r=s[0],t=s[1],l=s[2],c=0,u=r.length,d=[],g=0,i,p,h,l,j;g<n.length;g++){for(i=n[g].x-1.5*n[g].width;r[c++]<i&&c<u;);for(i=n[g].x+1.5*n[g].width,p=[],h=[];r[c]<=i&&c<u;)p.push(r[c][0]),h.push(t[c][0]*l),c++;j=a([p,h],n[g],o),j?d.push({x:j[0][0],y:j[1][0],width:j[2][0],opt:!0}):d.push({x:n[g].x,y:n[g].y,width:n[g].width,opt:!1})}return d}},function(e,i,t){'use strict';const n=t(0),o=n.DC.EVD,s=n.DC.SVD,r=t(2).matrix,a=r.mean,l=r.standardDeviation,c={isCovarianceMatrix:!1,center:!0,scale:!1};class m{constructor(e,t){if(!0===e){const e=t;return this.center=e.center,this.scale=e.scale,this.means=e.means,this.stdevs=e.stdevs,this.U=n.checkMatrix(e.U),void(this.S=e.S)}if(t=Object.assign({},c,t),this.center=!1,this.scale=!1,this.means=null,this.stdevs=null,t.isCovarianceMatrix)return void this._computeFromCovarianceMatrix(e);var o;if(o='boolean'==typeof t.useCovarianceMatrix?t.useCovarianceMatrix:e.length>e[0].length,o){e=this._adjust(e,t);const i=e.transposeView().mmul(e).div(e.rows-1);this._computeFromCovarianceMatrix(i)}else{e=this._adjust(e,t);var r=new s(e,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=r.rightSingularVectors;const i=r.diagonal,n=Array(i.length);for(var a=0;a<i.length;a++)n[a]=i[a]*i[a]/(e.length-1);this.S=n}}static load(e){if('PCA'!==e.name)throw new RangeError('Invalid model: '+e.name);return new m(!0,e)}predict(e){return e=new n(e),this.center&&(e.subRowVector(this.means),this.scale&&e.divRowVector(this.stdevs)),e.mmul(this.U)}getExplainedVariance(){for(var e=0,t=0;t<this.S.length;t++)e+=this.S[t];return this.S.map((i)=>i/e)}getCumulativeVariance(){for(var e=this.getExplainedVariance(),t=1;t<e.length;t++)e[t]+=e[t-1];return e}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map((e)=>S(e))}getLoadings(){return this.U.transpose()}toJSON(){return{name:'PCA',center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S}}_adjust(e,t){if(this.center=!!t.center,this.scale=!!t.scale,e=new n(e),this.center){const i=a(e),t=this.scale?l(e,i,!0):null;if(this.means=i,e.subRowVector(i),this.scale){for(var o=0;o<t.length;o++)if(0===t[o])throw new RangeError('Cannot scale the dataset (standard deviation is zero at index '+o);this.stdevs=t,e.divRowVector(t)}}return e}_computeFromCovarianceMatrix(e){const t=new o(e,{assumeSymmetric:!0});this.U=t.eigenvectorMatrix;for(var n=0;n<this.U.length;n++)this.U[n].reverse();this.S=t.realEigenvalues.reverse()}}e.exports=m},function(i,o,s){'use strict';const r=s(197);class a{constructor(n,o,s){if(s=s||{},n.length!==o.length||n[0].length!==o[0].length)throw new Error('dimensions of prediction and target do not match');const r=n.length,a=n[0].length,c=!s.max,m=[];if(s.all)for(var u=0;u<r;u++)for(var i=0;i<a;i++)m.push({pred:n[u][i],targ:o[u][i]});else{if(3>r||r!==a)throw new Error('When "all" option is false, the prediction matrix must be square and have at least 3 columns');for(var u=0;u<r-1;u++)for(var i=u+1;i<a;i++)m.push({pred:n[u][i],targ:o[u][i]})}c?m.sort((e,i)=>e.pred-i.pred):m.sort((e,i)=>i.pred-e.pred);const d=this.cutoffs=[c?e:t],g=this.fp=[0],p=this.tp=[0];for(var h=0,j=0,k=m[0].pred,x=0,w=0,u=0;u<m.length;u++)m[u].pred!==k&&(d.push(k),g.push(w),p.push(x),k=m[u].pred),m[u].targ?(h++,x++):(j++,w++);d.push(k),g.push(w),p.push(x);const f=d.length,l=this.fn=Array(f),y=this.tn=Array(f),b=this.nPosPred=Array(f),v=this.nNegPred=Array(f);for(var u=0;u<f;u++)l[u]=h-p[u],y[u]=j-g[u],b[u]=p[u]+g[u],v[u]=y[u]+l[u];this.nPos=h,this.nNeg=j,this.nSamples=h+j}getMeasure(e){if('string'!=typeof e)throw new Error('No measure specified');if(!r[e])throw new Error(`The specified measure (${e}) does not exist`);return r[e](this)}getAURC(){const e=this.cutoffs.length,t=Array(e),n=Array(e);for(var o=0;o<e;o++)t[o]=this.fp[o]/this.nNeg,n[o]=this.tp[o]/this.nPos;var i=0;for(o=1;o<e;o++)i+=0.5*(t[o]-t[o-1])*(n[o]+n[o-1]);return i}getAUDC(){const e=this.cutoffs.length,t=Array(e),n=Array(e);for(var o=0;o<e;o++)t[o]=this.fn[o]/this.nPos,n[o]=this.fp[o]/this.nNeg;var i=0;for(o=1;o<e;o++)i+=0.5*(t[o]+t[o-1])*(n[o]-n[o-1]);return i}getDistribution(e){e=e||{};for(var t=this.cutoffs.length,o=e.xMin||c(100*this.cutoffs[t-1])/100,s=e.xMax||n(100*this.cutoffs[1])/100,r=e.interval||c(1e7*((s-o)/20)-1)/1e7,a=[],l=[],m=[],u=[],d=[],g=this.tp[t-1],p=0,h=this.fp[t-1],k=0,x=o,i=t-1;x<=s;x+=r){for(;this.cutoffs[i]<x;)i--;a.push(x);var j=g-p-this.tp[i],w=h-k-this.fp[i];p+=j,k+=w,l.push(w),m.push(j),u.push(100-100*((h-this.fp[i])/h)),d.push(100-100*((g-this.tp[i])/g))}return{xLabels:a,interValues:l,intraValues:m,interCumPercent:u,intraCumPercent:d}}}a.names={acc:'Accuracy',err:'Error rate',fpr:'False positive rate',tpr:'True positive rate',fnr:'False negative rate',tnr:'True negative rate',ppv:'Positive predictive value',npv:'Negative predictive value',pcfall:'Prediction-conditioned fallout',pcmiss:'Prediction-conditioned miss',lift:'Lift value',rpp:'Rate of positive predictions',rnp:'Rate of negative predictions',threshold:'Threshold'},i.exports=a},function(e,i,t){e.exports=i=t(199),i.Utils=t(27),i.OPLS=t(198)},function(e,i,t){'use strict';i.SimpleLinearRegression=i.SLR=t(34),i.PolynomialRegression=t(68),i.ExponentialRegression=t(202),i.PowerRegression=t(215),i.NonLinearRegression=i.NLR={PotentialRegression:t(243)},i.KernelRidgeRegression=i.KRR=t(241),i.PolinomialFitting2D=t(242),i.TheilSenRegression=t(229),i.RobustPolynomialRegression=t(228)},function(e,i,t){function n(e,t,n,o){for(var s=0,a=0,l=t-n;l<t+n;l++)0<=l&&l<e.length-1&&(s+=e[l+1]-e[l],a++);return r(s/a,o)}function o(e,i,t,n){var s=0;return s=0<t?(4*t-2)/(t*(2*i-t+1))*(e*o(e,i,t-1,n)+n*o(e,i,t-1,n-1))-(t-1)*(2*i+t)/(t*(2*i-t+1))*o(e,i,t-2,n):0==t&&0==n?1:0,s}function a(e,i){var t=1;if(e>=i)for(var n=e-i+1;n<=e;n++)t*=n;return t}function l(e,i,t,r,n){for(var s=0,l=0;l<=r;l++)s+=(2*l+1)*(a(2*t,l)/a(2*t+l+1,l+1))*o(e,t,l,0)*o(i,t,l,n);return s}function s(e,i,n){for(var o=Array(e),s=c(e/2),r=-s;r<=s;r++){o[r+s]=Array(e);for(var t=-s;t<=s;t++)o[r+s][t+s]=l(t,r,s,i,n)}return o}var u=t(21),d=t(245),g={windowSize:9,derivative:0,polynomial:3};e.exports=function(e,t,o){if(o=u({},g,o),0==o.windowSize%2||5>o.windowSize||!m(o.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(o.windowSize>e.length)throw new RangeError('Window size is higher than the data length '+o.windowSize+'>'+e.length);if(0>o.derivative||!m(o.derivative))throw new RangeError('Derivative should be a positive integer');if(1>o.polynomial||!m(o.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=o.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var a=o.windowSize,p=c(a/2),h=e.length,j=Array(h),k=s(a,o.polynomial,o.derivative),x=0,w=!0;'[object Array]'===Object.prototype.toString.call(t)?w=!1:x=r(t,o.derivative);for(var f=0;f<p;f++){for(var i=k[p-f-1],y=k[p+f+1],b=0,v=0,M=0;M<a;M++)b+=i[M]*e[M],v+=y[M]*e[h-a+M-1];w?(j[p-f-1]=b/x,j[h-p+f]=v/x):(x=n(t,p-f-1,p,o.derivative),j[p-f-1]=b/x,x=n(t,h-p+f,p,o.derivative),j[h-p+f]=v/x)}for(var l=k[p],f=a,S;f<h+1;f++){S=0;for(var M=0;M<a;M++)S+=l[M]*e[M+f-a];w||(x=n(t,f-p-1,p,o.derivative)),j[f-p-1]=S/x}return j}},function(e,i,t){'use strict';var n=t(0),o=t(43),s=t(21),a={windowSize:5,derivative:1,polynomial:2,pad:'none',padValue:'replicate'};e.exports=function(e,t,u){if(u=s({},a,u),0==u.windowSize%2||5>u.windowSize||!m(u.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(0>u.derivative||!m(u.derivative))throw new RangeError('Derivative should be a positive integer');if(1>u.polynomial||!m(u.polynomial))throw new RangeError('Polynomial should be a positive integer');var g=c(u.windowSize/2),p,h;'pre'===u.pad&&(e=o(e,{size:g,value:u.padValue}));var x=Array(e.length-2*g);if(5===u.windowSize&&2===u.polynomial&&(1===u.derivative||2===u.derivative))1===u.derivative?(p=[-2,-1,0,1,2],h=10):(p=[2,-1,-2,-1,2],h=7);else{for(var w=n.ones(u.windowSize,u.polynomial+1),f=-(u.windowSize-1)/2,y=0;y<w.length;y++)for(var i=0;i<w[y].length;i++)(0!=f+1||0!==i)&&(w[y][i]=r(f+y,i));var j=w.transposeView(),b=j.mmul(w).inverse();p=b.mmul(j),p=p[u.derivative],h=1}for(var v=h*r(t,u.derivative),M=g,k;M<e.length-g;M++){k=0;for(var d=0;d<p.length;d++)k+=p[d]*e[d+M-g]/v;x[M-g]=k}return'post'===u.pad&&(x=o(x,{size:g,value:u.padValue})),x}},function(e,i,t){'use strict';function n(e,t,n,s){for(var r in this.x=e,this.y=t,n=n||{},this.options={},h)this.options[r]=n.hasOwnProperty(r)?n[r]:h[r];if('number'==typeof this.options.fields)this.numWeights=this.options.fields;else if(Array.isArray(this.options.fields)){this.numWeights=this.options.fields.length;var i=o(this.options.fields);this.extractor=i.extractor,this.creator=i.creator}else throw new Error('Invalid fields definition');if('rect'===this.options.gridType)this.nodeType=g,this.gridDim={x:e,y:t};else{this.nodeType=p;var a=this.x-c(this.y/2);this.gridDim={x:a,y:this.y,z:-(0-a-this.y)}}if(this.torus=this.options.torus,this.distanceMethod=this.torus?'getDistanceTorus':'getDistance',this.distance=this.options.distance,this.maxDistance=d(this.distance,this.numWeights),!0===s)return void(this.done=!0);if(!(0<e&&0<t))throw new Error('x and y must be positive');this.times={findBMU:0,adjust:0},this.randomizer=this.options.randomizer,this.iterationCount=0,this.iterations=this.options.iterations,this.startLearningRate=this.learningRate=this.options.learningRate,this.mapRadius=c(v(e,t)/2),this.algorithmMethod=this.options.method,this._initNodes(),this.done=!1}function o(e){for(var t=e.length,n=Array(t),o=Array(t),s=0;s<t;s++)n[s]=r(e[s].range),o[s]=a(e[s].range);return{extractor:function(o){for(var s=Array(t),r=0;r<t;r++)s[r]=n[r](o[e[r].name]);return s},creator:function(n){for(var s={},r=0;r<t;r++)s[e[r].name]=o[r](n[r]);return s}}}function r(e){return function(i){return(i-e[0])/(e[1]-e[0])}}function a(e){return function(i){return e[0]+i*(e[1]-e[0])}}function m(e,t){for(var n=0,o=0,i=e.length;o<i;o++)n+=(e[o]-t[o])*(e[o]-t[o]);return n}function u(e,i){return e[c(i()*e.length)]}function d(e,t){for(var n=Array(t),o=Array(t),s=0;s<t;s++)n[s]=0,o[s]=1;return e(n,o)}var g=t(75),p=t(247),h={fields:3,randomizer:Math.random,distance:m,iterations:10,learningRate:0.1,gridType:'rect',torus:!0,method:'random'};n.load=function(e,t){if('SOM'===e.name){var o=e.data.length,s=e.data[0].length;t?e.options.distance=t:e.options.distance&&(e.options.distance=eval('('+e.options.distance+')'));var r=new n(o,s,e.options,!0);r.nodes=Array(o);for(var a=0;a<o;a++){r.nodes[a]=Array(s);for(var i=0;i<s;i++)r.nodes[a][i]=new r.nodeType(a,i,e.data[a][i],r)}return r}throw new Error('expecting a SOM model')},n.prototype.export=function(e){if(!this.done)throw new Error('model is not ready yet');for(var t={name:'SOM',options:{fields:this.options.fields,gridType:this.options.gridType,torus:this.options.torus},data:Array(this.x)},n=0;n<this.x;n++){t.data[n]=Array(this.y);for(var i=0;i<this.y;i++)t.data[n][i]=this.nodes[n][i].weights}return e&&(t.options.distance=this.distance.toString()),t},n.prototype._initNodes=function(){var e=Date.now(),t,i,n;for(this.nodes=Array(this.x),t=0;t<this.x;t++)for(this.nodes[t]=Array(this.y),i=0;i<this.y;i++){var o=Array(this.numWeights);for(n=0;n<this.numWeights;n++)o[n]=this.randomizer();this.nodes[t][i]=new this.nodeType(t,i,o,this)}this.times.initNodes=Date.now()-e},n.prototype.setTraining=function(e){if(this.trainingSet)throw new Error('training set has already been set');var t=Date.now(),n=e,o=e.length,r;if(this.extractor)for(n=Array(o),r=0;r<o;r++)n[r]=this.extractor(e[r]);this.numIterations=this.iterations*o,this.timeConstant='random'===this.algorithmMethod?this.numIterations/s(this.mapRadius):o/s(this.mapRadius),this.trainingSet=n,this.times.setTraining=Date.now()-t},n.prototype.trainOne=function(){if(this.done)return!1;if(0<this.numIterations--){var e,i,t;return'random'===this.algorithmMethod?(e=this.mapRadius*l(-this.iterationCount/this.timeConstant),i=u(this.trainingSet,this.randomizer),this._adjust(i,e),this.learningRate=this.startLearningRate*l(-this.iterationCount/this.numIterations)):(t=-c(this.iterationCount/this.trainingSet.length),e=this.mapRadius*l(t/this.timeConstant),i=this.trainingSet[this.iterationCount%this.trainingSet.length],this._adjust(i,e),0==(this.iterationCount+1)%this.trainingSet.length&&(this.learningRate=this.startLearningRate*l(t/c(this.numIterations/this.trainingSet.length)))),this.iterationCount++,!0}return this.done=!0,!1},n.prototype._adjust=function(e,i){var t=Date.now(),n=this._findBestMatchingUnit(e),o=Date.now(),s,r,a,m;this.times.findBMU+=o-t;var u=c(i),d=n.x-u,g=n.x+u,p=n.y-u,h=n.y+u;for(s=d;s<=g;s++){var j=s;for(0>s?j+=this.x:s>=this.x&&(j-=this.x),r=p;r<=h;r++){var k=r;0>r?k+=this.y:r>=this.y&&(k-=this.y),a=n[this.distanceMethod](this.nodes[j][k]),a<i&&(m=l(-a/(2*i)),this.nodes[j][k].adjustWeights(e,this.learningRate,m))}}this.times.adjust+=Date.now()-o},n.prototype.train=function(e){if(!this.done)for(this.setTraining(e);this.trainOne(););},n.prototype.getConvertedNodes=function(){for(var e=Array(this.x),t=0;t<this.x;t++){e[t]=Array(this.y);for(var i=0,n;i<this.y;i++)n=this.nodes[t][i],e[t][i]=this.creator?this.creator(n.weights):n.weights}return e},n.prototype._findBestMatchingUnit=function(e){for(var t=Infinity,n=0,i,o;n<this.x;n++)for(var s=0;s<this.y;s++)o=this.distance(this.nodes[n][s].weights,e),o<t&&(t=o,i=this.nodes[n][s]);return i},n.prototype.predict=function(e,i){if('boolean'==typeof e&&(i=e,e=null),e||(e=this.trainingSet),Array.isArray(e)&&(Array.isArray(e[0])||'object'==typeof e[0])){var t=this;return e.map(function(e){return t._predict(e,i)})}return this._predict(e,i)},n.prototype._predict=function(e,i){Array.isArray(e)||(e=this.extractor(e));var t=this._findBestMatchingUnit(e),n=[t.x,t.y];return i&&(n[2]=t.getPosition(e)),n},n.prototype.getQuantizationError=function(){for(var e=this.getFit(),t=e.length,n=0,o=0;o<t;o++)n+=e[o];return n/t},n.prototype.getFit=function(e){e||(e=this.trainingSet);for(var t=e.length,n=Array(t),o=0,i;o<t;o++)i=this._findBestMatchingUnit(e[o]),n[o]=S(this.distance(e[o],i.weights));return n},e.exports=n},function(e,t,n){function o(e,t){for(var n in t)e=e.replace(new RegExp('%'+n+'%','g'),t[n]);return e}const s=n(42);class r{constructor(e,t,n={}){if(e instanceof r){const i=e;return void this._init(i.rows,i.columns,i.elements.clone(),i.threshold)}if(Array.isArray(e)){const r=e;e=r.length,n=t||{},t=r[0].length,this._init(e,t,new s(n),n.threshold);for(var o=0;o<e;o++)for(var i=0,a;i<t;i++)a=r[o][i],this.threshold&&u(a)<this.threshold&&(a=0),0!==a&&this.elements.set(o*t+i,r[o][i])}else this._init(e,t,new s(n),n.threshold)}_init(e,i,t,n){this.rows=e,this.columns=i,this.elements=t,this.threshold=n||0}static eye(e=1,t=e){const n=M(e,t),o=new r(e,t,{initialCapacity:n});for(var s=0;s<n;s++)o.set(s,s,1);return o}clone(){return new r(this)}to2DArray(){const e=Array(this.rows);for(var t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var e=!0;return this.forEachNonZero((t,i,n)=>{return this.get(i,t)===n?n:(e=!1,!1)}),e}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(e,i){return this.elements.get(e*this.columns+i)}set(e,i,t){return this.threshold&&u(t)<this.threshold&&(t=0),0===t?this.elements.remove(e*this.columns+i):this.elements.set(e*this.columns+i,t),this}mmul(e){this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');const i=this.rows,t=e.columns,n=new r(i,t);return this.forEachNonZero((t,i,o)=>{return e.forEachNonZero((e,s,r)=>{return i===e&&n.set(t,s,n.get(t,s)+o*r),r}),o}),n}kroneckerProduct(e){const i=this.rows,t=this.columns,n=e.rows,o=e.columns,s=new r(i*n,t*o,{initialCapacity:this.cardinality*e.cardinality});return this.forEachNonZero((t,i,r)=>{return e.forEachNonZero((e,a,l)=>{return s.set(n*t+e,o*i+a,r*l),l}),r}),s}forEachNonZero(e){return this.elements.forEachPair((t,n)=>{const o=0|t/this.columns,i=t%this.columns;let s=e(o,i,n);return!1!==s&&(this.threshold&&u(s)<this.threshold&&(s=0),s!==n&&(0===s?this.elements.remove(t,!0):this.elements.set(t,s)),!0)}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){const e=this.cardinality,t=Array(e),n=Array(e),o=Array(e);var s=0;return this.forEachNonZero((e,i,r)=>{return t[s]=e,n[s]=i,o[s]=r,s++,r}),{rows:t,columns:n,values:o}}setThreshold(e){return 0!==e&&e!==this.threshold&&(this.threshold=e,this.forEachNonZero((e,i,t)=>t)),this}}r.prototype.klass='Matrix',r.identity=r.eye,r.prototype.tensorProduct=r.prototype.kroneckerProduct,e.exports=r;var a=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,l=`
(function %name%S(value) {
    this.forEachNonZero((i, j, v) => v %op% value);
    return this;
})
`,c=`
(function %name%M(matrix) {
    matrix.forEachNonZero((i, j, v) => {
        this.set(i, j, this.get(i, j) %op% v);
        return v;
    });
    return this;
})
`,m=`
(function %name%(matrix, value) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%(value);
})
`,d=`
(function %name%() {
    this.forEachNonZero((i, j, v) => %method%(v));
    return this;
})
`,g=`
(function %name%(matrix) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%();
})
`,p=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var h of p)for(var j=1;j<h.length;j++)r.prototype[h[j]]=eval(o(a,{name:h[j],op:h[0]})),r.prototype[h[j]+'S']=eval(o(l,{name:h[j]+'S',op:h[0]})),r.prototype[h[j]+'M']=eval(o(c,{name:h[j]+'M',op:h[0]})),r[h[j]]=eval(o(m,{name:h[j]}));var i=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){i.push(['Math.'+e,e])});for(var k of i)for(var j=1;j<k.length;j++)r.prototype[k[j]]=eval(o(d,{name:k[j],method:k[0]})),r[k[j]]=eval(o(g,{name:k[j]}))},function(e,i,t){'use strict';function n(e){this.options=Object.assign({},r,e),this.kernel=new o(this.options.kernel,this.options.kernelOptions),this.b=0}const o=t(20),s=t(2).array;var r={C:1,tol:1e-4,maxPasses:10,maxIterations:1e4,kernel:'linear',alphaTol:1e-6,random:Math.random,whitening:!0};n.prototype.train=function(e,t){if(e.length!==t.length)throw new Error('Features and labels should have the same length');if(2>e.length)throw new Error('Cannot train with less than 2 observations');if(this._trained=!1,this._loaded=!1,this.N=t.length,this.D=e[0].length,this.options.whitening){this.X=Array(this.N);for(var n=0;n<this.N;n++)this.X[n]=Array(this.D);this.minMax=Array(this.D);for(var i=0,o;i<this.D;i++){for(o=Array(this.N),n=0;n<this.N;n++)o[n]=e[n][i];for(this.minMax[i]=s.minMax(o),n=0;n<this.N;n++)this.X[n][i]=(e[n][i]-this.minMax[i].min)/(this.minMax[i].max-this.minMax[i].min)}}else this.X=e;this.Y=t,this.b=0,this.W=void 0;var l=this.kernel.compute(this.X),d=t.length,m=Array(d).fill(0);this.alphas=m;for(var g=0;g<d;g++)m[g]=0;for(var a=0,p=0,h=0,j=0,k=0,x=0,f=0,y=0,b=0,S=0,z=0,R;j<this.options.maxPasses&&h<this.options.maxIterations;){for(R=0,n=0;n<d;n++)if(k=this._marginOnePrecomputed(n,l)-t[n],t[n]*k<-this.options.tol&&m[n]<this.options.C||t[n]*k>this.options.tol&&0<m[n]){for(i=n;i===n;)i=c(this.options.random()*d);if(x=this._marginOnePrecomputed(i,l)-t[i],f=m[n],y=m[i],t[n]===t[i]?(b=v(0,f+y-this.options.C),S=M(this.options.C,f+y)):(b=v(0,y-f),S=M(this.options.C,this.options.C+y+f)),1e-4>u(b-S))continue;if(z=2*l[n][i]-l[n][n]-l[i][i],0<=z)continue;var V=m[i]-t[i]*(k-x)/z;if(V>S?V=S:V<b&&(V=b),1e-3>u(y-V))continue;m[i]=V,m[n]+=t[n]*t[i]*(y-V),a=this.b-k-t[n]*(m[n]-f)*l[n][n]-t[i]*(m[i]-y)*l[n][i],p=this.b-x-t[n]*(m[n]-f)*l[n][i]-t[i]*(m[i]-y)*l[i][i],this.b=(a+p)/2,m[n]<this.options.C&&0<m[n]&&(this.b=a),m[i]<this.options.C&&0<m[i]&&(this.b=p),R+=1}h++,0==R?j+=1:j=0}if(h===this.options.maxIterations)throw new Error('max iterations reached');if(this.iterations=h,'linear'===this.options.kernel){this.W=Array(this.D);for(var I=0;I<this.D;I++){this.W[I]=0;for(var r=0;r<d;r++)this.W[I]+=t[r]*m[r]*this.X[r][I]}}var w=[],D=[],C=[];for(this._supportVectorIdx=[],n=0;n<this.N;n++)this.alphas[n]>this.options.alphaTol&&(w.push(this.X[n]),D.push(t[n]),C.push(this.alphas[n]),this._supportVectorIdx.push(n));this.X=w,this.Y=D,this.N=w.length,this.alphas=C,this._trained=!0},n.prototype.predictOne=function(e){var i=this.marginOne(e);return 0<i?1:-1},n.prototype.predict=function(e){if(!this._trained&&!this._loaded)throw new Error('Cannot predict, you need to train the SVM first');return Array.isArray(e)&&Array.isArray(e[0])?e.map(this.predictOne.bind(this)):this.predictOne(e)},n.prototype.marginOne=function(e,t){this.options.whitening&&!t&&(e=this._applyWhitening(e));var n=this.b,o;if('linear'===this.options.kernel&&this.W)for(o=0;o<this.W.length;o++)n+=this.W[o]*e[o];else for(o=0;o<this.N;o++)n+=this.alphas[o]*this.Y[o]*this.kernel.compute([e],[this.X[o]])[0][0];return n},n.prototype._marginOnePrecomputed=function(e,t){var n=this.b,o;for(o=0;o<this.N;o++)n+=this.alphas[o]*this.Y[o]*t[e][o];return n},n.prototype.margin=function(e){return Array.isArray(e)?e.map(this.marginOne.bind(this)):this.marginOne(e)},n.prototype.supportVectors=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot get support vectors, you need to train the SVM first');if(this._loaded&&'linear'===this.options.kernel)throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');return this._supportVectorIdx},n.load=function(e){this._loaded=!0,this._trained=!1;var i=new n(e.options);return'linear'===e.options.kernel?(i.W=e.W.slice(),i.D=i.W.length):(i.X=e.X.slice(),i.Y=e.Y.slice(),i.alphas=e.alphas.slice(),i.N=i.X.length,i.D=i.X[0].length),i.minMax=e.minMax,i.b=e.b,i._loaded=!0,i._trained=!1,i},n.prototype.toJSON=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot export, you need to train the SVM first');var e={};return e.options=Object.assign({},this.options),e.b=this.b,e.minMax=this.minMax,'linear'===e.options.kernel?e.W=this.W.slice():(e.X=this.X.slice(),e.Y=this.Y.slice(),e.alphas=this.alphas.slice()),e},n.prototype._applyWhitening=function(e){if(!this.minMax)throw new Error('Could not apply whitening');for(var i=Array(e.length),t=0;t<e.length;t++)i[t]=(e[t]-this.minMax[t].min)/(this.minMax[t].max-this.minMax[t].min);return i},e.exports=n},function(e,i){'use strict';function t(e,i){if(!(e instanceof i))throw new TypeError('Cannot call a class as a function')}function n(e,i){e>>>=0,i>>>=0;var t=65535&e,n=e-t;return(n*i>>>0)+t*i>>>0}function o(e){0===e.state[0]&&0===e.state[1]&&0===e.state[2]&&0===e.state[3]&&(e.state[0]=88,e.state[1]=83,e.state[2]=65,e.state[3]=68)}function s(e){var i=e.state[0];i^=i<<c,i^=i>>>m,i^=e.state[3]<<u,e.state[0]=e.state[1],e.state[1]=e.state[2],e.state[2]=e.state[3],e.state[3]=i}Object.defineProperty(i,'__esModule',{value:!0});var r=function(){function e(e,t){for(var n=0,i;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),a=8,l=function(){function e(){var i=0>=arguments.length||void 0===arguments[0]?Date.now():arguments[0];t(this,e),this.state=new Uint32Array(4),this.init(i)}return r(e,[{key:'init',value:function(e){this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(var t=1;t<a;t++)this.state[3&t]^=t+n(1812433253,this.state[3&t-1]^this.state[3&t-1]>>>30>>>0)>>>0;o(this);for(var t=0;t<a;t++)s(this)}},{key:'getUint32',value:function(){return s(this),this.state[3]+this.state[2]>>>0}},{key:'getFloat',value:function(){return(this.getUint32()>>>8)*(1/16777216)}},{key:'random',get:function(){return this._random||(this._random=this.getFloat.bind(this)),this._random}}]),e}();i['default']=l;var c=15,m=18,u=11;e.exports=i['default']},function(e){(function(){'use strict';function i(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}var t;t='undefined'!=typeof e&&e.exports?e.exports:this.RandomSelection={},t.Picker=function(e){this._originalOptions=e,this._remainingOptions=[]},t.Picker.prototype={pick:function(){0===this._remainingOptions.length&&(this._remainingOptions=i(this._originalOptions));var e=c(Math.random()*this._remainingOptions.length);return this._remainingOptions.splice(e,1)[0]}}}).call(this)},function(e,i,t){'use strict';i.ArrayUtils=i.AU=t(13),i.BitArray=t(77),i.HashTable=t(42),i.Matrix=t(0),i.PadArray=t(43),i.Regression=t(89),i.binarySearch=t(39),i.numSort=t(44);var n=i.Math={},o=t(41);n.Distance=o.distance,n.Similarity=o.similarity,n.DistanceMatrix=t(40),n.SG=t(91),n.SGG=t(90),n.Matrix=i.Matrix,n.SparseMatrix=t(93),n.Kernel=t(20);var s=i.Stat={};s.array=t(2).array,s.matrix=t(2).matrix,s.PCA=t(86),s.Performance=t(87);var r=i.Optimization={};r.BellOptimizer=t(85),r.LevenbergMarquardt=t(83);var a=i.RNG={};a.XSadd=t(95);var l=i.SL={};l.CV=t(78),l.CrossValidation=l.CV,l.SVM=t(94),l.KNN=t(82),l.NaiveBayes=t(84),l.PLS=t(88);var c=i.Clust={};c.kmeans=t(81),c.hclust=t(80);var m=i.NN=i.nn={};m.SOM=t(92),m.FNN=t(79)},function(e,i,t){e.exports=t(99)},function(e,i){var t,n,o;(function(){var s,r,l,a,m,u,d,g,p,h,j,k,w,x,f;l=c,h=M,r=function(e,i){return e<i?-1:e>i?1:0},p=function(e,i,t,n,o){var s;if(null==t&&(t=0),null==o&&(o=r),0>t)throw new Error('lo must be non-negative');for(null==n&&(n=e.length);t<n;)s=l((t+n)/2),0>o(i,e[s])?n=s:t=s+1;return[].splice.apply(e,[t,t-t].concat(i)),i},u=function(e,i,t){return null==t&&(t=r),e.push(i),x(e,0,e.length-1,t)},m=function(e,i){var t,n;return null==i&&(i=r),t=e.pop(),e.length?(n=e[0],e[0]=t,f(e,0,i)):n=t,n},g=function(e,i,t){var n;return null==t&&(t=r),n=e[0],e[0]=i,f(e,0,t),n},d=function(e,i,t){var n;return null==t&&(t=r),e.length&&0>t(e[0],i)&&(n=[e[0],i],i=n[0],e[0]=n[1],f(e,0,t)),i},a=function(e,t){var n,i,o,s,a,c;for(null==t&&(t=r),s=function(){c=[];for(var i=0,t=l(e.length/2);0<=t?i<t:i>t;0<=t?i++:i--)c.push(i);return c}.apply(this).reverse(),a=[],(i=0,o=s.length);i<o;i++)n=s[i],a.push(f(e,n,t));return a},w=function(e,i,t){var n;if(null==t&&(t=r),n=e.indexOf(i),-1!==n)return x(e,0,n,t),f(e,n,t)},j=function(e,i,t){var n,o,s,l,c;if(null==t&&(t=r),o=e.slice(0,i),!o.length)return o;for(a(o,t),c=e.slice(i),(s=0,l=c.length);s<l;s++)n=c[s],d(o,n,t);return o.sort(t).reverse()},k=function(e,t,n){var o,s,i,l,c,u,d,g,j,k;if(null==n&&(n=r),10*t<=e.length){if(l=e.slice(0,t).sort(n),!l.length)return l;for(i=l[l.length-1],g=e.slice(t),(c=0,d=g.length);c<d;c++)o=g[c],0>n(o,i)&&(p(l,o,0,null,n),l.pop(),i=l[l.length-1]);return l}for(a(e,n),k=[],(s=u=0,j=h(t,e.length));0<=j?u<j:u>j;s=0<=j?++u:--u)k.push(m(e,n));return k},x=function(e,i,t,n){var o,s,a;for(null==n&&(n=r),o=e[t];t>i;){if(a=t-1>>1,s=e[a],0>n(o,s)){e[t]=s,t=a;continue}break}return e[t]=o},f=function(e,i,t){var n,o,s,a,l;for(null==t&&(t=r),o=e.length,l=i,s=e[i],n=2*i+1;n<o;)a=n+1,a<o&&!(0>t(e[n],e[a]))&&(n=a),e[i]=e[n],i=n,n=2*i+1;return e[i]=s,x(e,l,i,t)},s=function(){function e(e){this.cmp=null==e?r:e,this.nodes=[]}return e.push=u,e.pop=m,e.replace=g,e.pushpop=d,e.heapify=a,e.updateItem=w,e.nlargest=j,e.nsmallest=k,e.prototype.push=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pop=function(){return m(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return g(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return a(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return w(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var i;return i=new e,i.nodes=this.nodes.slice(0),i},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(s,r){return n=[],t=r,o='function'==typeof t?t.apply(i,n):t,!(void 0!==o&&(e.exports=o))}(this,function(){return s})}).call(this)},function(e,i,t){'use strict';function n(e){for(var t=Array(e[0].length),n=0;n<t.length;++n)t[n]=Array(e.length);for(n=0;n<e.length;++n)for(var i=0;i<e[0].length;++i)t[i][n]=e[n][i];return t}const o=t(2).array;e.exports={coordArrayToPoints:function(e,t){if(0!=e.length%t)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var n=e.length/t,o=Array(n),s=0,r=0,i;r<e.length;r+=t){i=Array(t);for(var a=0;a<t;++a)i[a]=e[r+a];o[s]=i,s++}return o},coordArrayToCoordMatrix:function(e,t){if(0!=e.length%t)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var n=Array(t),o=e.length/t,s=0;s<n.length;s++)n[s]=Array(o);for(s=0;s<e.length;s+=t)for(var i=0,r;i<t;++i)r=c(s/t),n[i][r]=e[s+i];return n},coordMatrixToCoordArray:function(e){for(var t=Array(e.length*e[0].length),n=0,o=0;o<e[0].length;++o)for(var i=0;i<e.length;++i)t[n]=e[i][o],++n;return t},coordMatrixToPoints:n,pointsToCoordArray:function(e){for(var t=Array(e.length*e[0].length),n=0,o=0;o<e.length;++o)for(var i=0;i<e[0].length;++i)t[n]=e[o][i],++n;return t},pointsToCoordMatrix:n,applyDotProduct:function(e,t){var n,o;e.length<=t.length?(o=e,n=t):(o=t,n=e);for(var s=n.length-o.length+1,r=Array(s),a=0,i;a<s;++a){i=0;for(var l=0;l<o.length;++l)i+=o[l]*n[a+l];r[a]=i}return r},scale:function(e,t){var n=t.inPlace?e:Array(e.length);const s=t.max,r=t.min;if('number'==typeof s){if('number'==typeof r)for(var a=o.minMax(e),l=(s-r)/(a.max-a.min),c=0;c<n.length;c++)n[c]=(e[c]-a.min)*l+r;else for(var i=o.max(e),l=s/i,c=0;c<n.length;c++)n[c]=e[c]*l;}else if('number'==typeof r)for(var i=o.min(e),l=r/i,c=0;c<n.length;c++)n[c]=e[c]*l;return n}}},function(i,n){'use strict';function o(t,n,o,s,a){function l(e,i,t,n){return(n-i)/(t-e)}var c=t.length,m=(s-o)/(a-1),u=o-m/2,d=Array(a),g=t[1]-t[0],p=t[t.length-1]-t[t.length-2],h=u,k=u+m,x=e,w=0,f=t[0]-g,y=0,b=0,v=0,M=0,S=0,z=0,R=0,i=0;main:for(;;){for(;0<=f-k;){var j=r(0,k-x,v,w);if(z=b+j,d[i]=(z-S)/m,i++,i===a)break main;h=k,k+=m,S=z}x<=h&&h<=f&&(j=r(0,h-x,v,w),S=b+j),b+=r(x,f,v,M),x=f,w=y,R<c?(f=t[R],y=n[R],R++):R===c&&(f+=p,y=0),v=l(x,w,f,y),M=-v*x+w}return d}function s(e,n,o,s,r){var a=e.length,l=(s-o)/(r-1),c=e[e.length-1]-e[e.length-2],m=o-l/2,u=Array(r),d=m,g=m+l,p=-t,h=0,k=e[0],x=n[0],w=0,f=!0,y=0,b=0,v=1,i=0;main:for(;;){if(p>=k)throw new Error('x must be an increasing serie');for(;0<p-g;){if(f&&(b++,f=!1),u[i]=0>=b?0:y/b,i++,i===r)break main;d=g,g+=l,y=0,b=0}p>d&&(y+=h,b++),(p==-t||1<w)&&b--,p=k,h=x,v<a?(k=e[v],x=n[v],v++):(k+=c,x=0,w++)}return u}function r(e,i,t,n){return 0.5*t*i*i+n*i-(0.5*t*e*e+n*e)}n.getEquallySpacedData=function(e,i,t){1<e.length&&e[0]>e[1]&&(e=e.slice().reverse(),i=i.slice().reverse());var n=e.length;if(n!==i.length)throw new RangeError('the x and y vector doesn\'t have the same size.');t===void 0&&(t={});var r=t.from===void 0?e[0]:t.from;if(isNaN(r)||!isFinite(r))throw new RangeError('\'From\' value must be a number');var a=t.to===void 0?e[e.length-1]:t.to;if(isNaN(a)||!isFinite(a))throw new RangeError('\'To\' value must be a number');var l=r>a;if(l){var c=r;r=a,a=c}var m=t.numberOfPoints===void 0?100:t.numberOfPoints;if(isNaN(m)||!isFinite(m))throw new RangeError('\'Number of points\' value must be a number');if(1>m)throw new RangeError('the number of point must be higher than 1');var u='slot'===t.variant?'slot':'smooth',d='slot'==u?s(e,i,r,a,m):o(e,i,r,a,m);return l?d.reverse():d},n.integral=r},function(e,i,t){'use strict';i.SNV=function(e){for(var t=n.mean(e),o=n.standardDeviation(e),s=e.slice(),r=0;r<e.length;r++)s[r]=(s[r]-t)/o;return s};var n=t(2).array},function(e){for(var t=Array(256),n=0;256>n;n++){for(var i=n,o=0;i;)i&=i-1,o++;t[n]=o}e.exports=t},function(e){'use strict';const t={mode:'index'};e.exports=function*(e,n,o){function s(){var e,i,t;for(i=1;0>=c[i];)i++;if(0===c[i-1]){for(e=i-1;1!==e;e--)c[e]=-1;c[i]=0,u=g=0,c[1]=1,d=i-1}else{1<i&&(c[i-1]=0);do i++;while(0<c[i]);for(t=i-1,e=i;0===c[e];)c[e++]=-1;if(-1===c[e])c[e]=c[t],g=c[t]-1,u=e-1,d=t-1,c[t]=-1;else{if(e===c[0])return 0;c[i]=c[e],g=c[e]-1,c[e]=0,u=i-1,d=e-1}}return 1}o=Object.assign({},t,o);for(var r=Array(n),a=Array(e),l=Array(n),c=Array(n+2),m=0,u,d,g;m<n;m++)r[m]=m,l[m]=m<n-e?0:1;for(m=0;m<e;m++)a[m]=n-e+m;for(m=0;m<c.length;m++)c[m]=0===m?n+1:m<=n-e?0:m<=n?m-n+e:-2;if('index'===o.mode)for(yield a.slice();s();)a[g]=r[u],yield a.slice();else if('mask'===o.mode)for(yield l.slice();s();)l[u]=1,l[d]=0,yield l.slice();else throw new Error('Invalid mode')}},function(e){'use strict';class i{constructor(e,i){if(e.length!==e[0].length)throw new Error('Confusion matrix must be square');if(i.length!==e.length)throw new Error('Confusion matrix and labels should have the same length');this.labels=i,this.matrix=e}get accuracy(){for(var e=0,t=0,n=0;n<this.matrix.length;n++)for(var i=0;i<this.matrix.length;i++)n===i?e+=this.matrix[n][i]:t+=this.matrix[n][i];return e/(e+t)}get nbPredicted(){for(var e=0,t=0;t<this.matrix.length;t++)for(var i=0;i<this.matrix.length;i++)e+=this.matrix[t][i];return e}}e.exports=i},function(e,i,t){var o=t(0),s=t(45);e.exports={optimize:function(e,n,r,t,a,l,m,d,g,c){var j=0;if('object'!=typeof n[0])for(var x=0;x<n.length;x++)n[x]=[n[x]];var i=-50,w=n.length,f=t.length,y=o.zeros(w,1),b=o.zeros(f,1),z=0.01/i,R=0.01/i,V=o.zeros(f,w),x,I;if(r.length!=t.length){console.log('lm.m error: the length of t must equal the length of y_dat'),length_t=r.length,length_y_dat=t.length;var z=0;return}a=a||S((f-w+1)/s.multiply(s.transpose(t),t)),l=l||1e-3,m=m||s.multiply(u(n),-100),d=d||s.multiply(u(n),100),g=g||1,c=c||[3,10*w,1e-3,1e-3,1e-3,0.01,0.01,11,9,1];var k=c[0],D=c[1],C=c[2],P=c[3],A=c[4],L=c[5],U=c[6],_=c[7],q=c[8],F=c[9];if(0,!l.length||1==l.length){for(var O=Array(w),x=0;x<w;x++)O[x]=[l];l=O}var N=[];for(x=0;x<l.length;x++)0!=l[x][0]&&N.push(x);var T=N.length,W=!1,E=null;if(!a.length||a.length<f){var X=s.multiply(o.ones(f,1),a[0]);E=s.dotMultiply(X,X)}else E=s.dotMultiply(a,a);var B=this.lm_matx(e,r,y,b,1,V,n,t,E,l,g),Q=B.JtWJ,J=B.JtWdy,z=B.Chi_sq,Y=B.y_hat,V=B.J;v(u(J))<C&&(console.log(' *** Your Initial Guess is Extremely Close to Optimal ***'),console.log(' *** epsilon_1 = ',C),W=!0),1===F?lambda=U:(lambda=U*v(s.diag(Q)),nu=2),R=z;for(var H=null;!W&&j<=D;){++j,H=1===F?s.solve(s.add(Q,s.multiply(s.diag(s.diag(Q)),lambda)),J):s.solve(s.add(Q,s.multiply(o.eye(w),lambda)),J);var h=Array(N.length);for(I=0;I<N.length;I++)h[I]=H[N[I]];var K=s.add(n,h);for(I=0;I<K.length;I++)K[I][0]=M(v(m[I][0],K[I][0]),d[I][0]);var G=s.subtract(t,e(r,K,g)),Z=s.multiply(s.transpose(G),s.dotMultiply(G,E));if(2==F){var $=s.multiply(s.transpose(J),H),ee=s.multiply($,s.inv(s.add(s.multiply(s.subtract(Z-z),1/2)),s.multiply($,2)));H=s.multiply(ee,H);for(var I=0;I<N.length;I++)h[I]=H[N[I]];K=s.add(n,h),K=s.min(s.max(m,K),d),G=s.subtract(t,e(r,K,g)),Z=s.multiply(s.transpose(G),mat.dotMultiply(G,E))}var ie=(z-Z)/s.multiply(s.multiply(s.transpose(H),2),s.add(s.multiply(lambda,H),J));ie>L?(dX2=z-R,R=z,y=n,b=Y,n=K,B=this.lm_matx(e,r,y,b,dX2,V,n,t,E,l,g),Q=B.JtWJ,J=B.JtWdy,z=B.Chi_sq,Y=B.y_hat,V=B.J,1===F?lambda=v(lambda/q,1e-7):2===F?lambda=v(lambda/(1+ee),1e-7):3===F?(lambda=s.multiply(v(1/3,3^1-(2*ie-1)),lambda),nu=2):void 0):(z=R,0==j%(2*w)&&(B=this.lm_matx(e,r,y,b,-1,V,n,t,E,l,g),Q=B.JtWJ,J=B.JtWdy,dX2=B.Chi_sq,Y=B.y_hat,V=B.J),1===F?lambda=M(lambda*_,1e7):2===F?lambda+=u((Z-z)/2/ee):3===F?(lambda*=nu,nu=2*nu):void 0)}return E=s.multiply(s.multiply(s.transpose(G),G),o.ones(f,1)),E.apply(function(e,i){E[e][i]=(f-T+1)/E[e][i]}),B=this.lm_matx(e,r,y,b,-1,V,n,t,E,l,g),Q=B.JtWJ,J=B.JtWdy,z=B.Chi_sq,Y=B.y_hat,V=B.J,{p:n,X2:z}},lm_FD_J:function(e,i,t,r,a,l){var c=r.length,m=t.length;a=a||s.multiply(o.ones(m,1),1e-3);for(var n=t.clone(),d=new o(c,m),g=Array(m),p=0;p<m;p++){if(g[p]=a[p]*(1+u(t[p][0])),t[p]=[n[p][0]+g[p]],0!=g[p])if(y1=e(i,t,l),0>a[p][0])for(var h=s.dotDivide(s.subtract(y1,r),g[p]),j=0;j<c;j++)d[j][p]=h[j][0];else{t[p][0]=n[p][0]-g[p];for(var h=s.dotDivide(s.subtract(y1,e(i,t,l)),2*g[p]),j=0;j<c;j++)d[j][p]=h[j][0]}t[p]=n[p]}return d},lm_Broyden_J:function(e,i,t,n,o){var r=s.subtract(n,e),a=s.transpose(r);return a.div(s.multiply(a,r)),t=s.add(t,s.multiply(s.subtract(o,s.add(i,s.multiply(t,r))),a)),t},lm_matx:function(e,i,t,n,r,a,l,m,u,d,g,c){var p=m.length,h=l.length;d=d||1e-3;var j=e(i,l,g);a=0==c%(2*h)||0<r?this.lm_FD_J(e,i,l,j,d,g):this.lm_Broyden_J(t,n,a,l,j);var k=s.subtract(m,j),x=s.multiply(s.transpose(k),s.dotMultiply(k,u)),w=s.transpose(a),f=s.multiply(w,s.dotMultiply(a,s.multiply(u,o.ones(1,h)))),y=s.multiply(w,s.dotMultiply(u,k));return{JtWJ:f,JtWdy:y,Chi_sq:x,y_hat:j,J:a}}}},function(e,i,t){'use strict';e.exports=t(106),e.exports.Matrix=t(0),e.exports.Matrix.algebra=t(45)},function(e,i,t){'use strict';i.additiveSymmetric=t(109),i.avg=t(110),i.bhattacharyya=t(111),i.canberra=t(112),i.chebyshev=t(113),i.clark=t(114),i.czekanowski=t(115),i.dice=t(46),i.divergence=t(116),i.euclidean=t(1),i.fidelity=t(117),i.gower=t(118),i.harmonicMean=t(119),i.hellinger=t(120),i.innerProduct=t(121),i.intersection=t(47),i.jaccard=t(48),i.jeffreys=t(122),i.jensenDifference=t(123),i.jensenShannon=t(124),i.kdivergence=t(125),i.kulczynski=t(49),i.kullbackLeibler=t(126),i.kumarHassebrook=t(127),i.kumarJohnson=t(128),i.lorentzian=t(129),i.manhattan=t(130),i.matusita=t(131),i.minkowski=t(132),i.motyka=t(50),i.neyman=t(133),i.pearson=t(134),i.probabilisticSymmetric=t(135),i.ruzicka=t(136),i.soergel=t(137),i.sorensen=t(138),i.squared=t(139),i.squaredChord=t(51),i.squaredEuclidean=t(1).squared,i.taneja=t(140),i.tanimoto=t(141),i.topsoe=t(142),i.tree=t(249),i.waveHedges=t(143)},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])*(e[n]+t[n])/(e[n]*t[n]);return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)r=u(e[a]-t[a]),s+=r,o<r&&(o=r);return(o+s)/2}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=S(e[r]*t[r]);return-s(o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=u(e[s]-t[s])/(e[s]+t[s]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)s=u(e[r]-t[r]),o<s&&(o=s);return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=S((e[n]-t[n])*(e[n]-t[n])/((e[n]+t[n])*(e[n]+t[n])));return 2*o}},function(e,i,t){'use strict';const n=t(53);e.exports=function(e,i){return 1-n(e,i)}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/((e[n]+t[n])*(e[n]+t[n]));return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=S(e[s]*t[s]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=u(e[s]-t[s]);return o/n}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=e[s]*t[s]/(e[s]+t[s]);return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=S(e[s]*t[s]);return 2*S(1-o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=e[s]*t[s];return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=(e[r]-t[r])*s(e[r]/t[r]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=(e[r]*s(e[r])+t[r]*s(t[r]))/2-(e[r]+t[r])/2*s((e[r]+t[r])/2);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0,a=0;a<n;a++)o+=e[a]*s(2*e[a]/(e[a]+t[a])),r+=t[a]*s(2*t[a]/(e[a]+t[a]));return(o+r)/2}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=e[r]*s(2*e[r]/(e[r]+t[r]));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=e[r]*s(e[r]/t[r]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)o+=e[a]*t[a],s+=e[a]*e[a],r+=t[a]*t[a];return o/(s+r-o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=r(e[s]*e[s]-t[s]*t[s],2)/(2*r(e[s]*t[s],1.5));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=s(u(e[r]-t[r])+1);return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=u(e[n]-t[n]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=S(e[s]*t[s]);return S(2-2*o)}},function(e){e.exports=function(e,t,n){for(var o=0,i=e.length,s=0;o<i;o++)s+=r(u(e[o]-t[o]),n);return r(s,1/n)}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/e[n];return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/t[n];return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/(e[n]+t[n]);return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=M(e[r],t[r]),s+=v(e[r],t[r]);return o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=u(e[r]-t[r]),s+=v(e[r],t[r]);return o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=u(e[r]-t[r]),s+=e[r]+t[r];return o/s}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/(e[n]+t[n]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=(e[r]+t[r])/2*s((e[r]+t[r])/(2*S(e[r]*t[r])));return o}},function(e,i,t){var n=t(54);e.exports=function(e,t,o){if(o)return 1-n(e,t,o);for(var s=e.length,r=0,a=0,l=0,c=0;c<s;c++)r+=e[c],a+=t[c],l+=M(e[c],t[c]);return(r+a-2*l)/(r+a-l)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=e[r]*s(2*e[r]/(e[r]+t[r]))+t[r]*s(2*t[r]/(e[r]+t[r]));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=1-M(e[s],t[s])/v(e[s],t[s]);return o}},function(e,i,t){'use strict';i.cosine=t(52),i.czekanowski=t(53),i.dice=t(145),i.intersection=t(146),i.jaccard=t(147),i.kulczynski=t(148),i.motyka=t(149),i.pearson=t(150),i.squaredChord=t(151),i.tanimoto=t(54)},function(e,i,t){var n=t(46);e.exports=function(e,i){return 1-n(e,i)}},function(e,i,t){var n=t(47);e.exports=function(e,i){return 1-n(e,i)}},function(e,i,t){var n=t(48);e.exports=function(e,i){return 1-n(e,i)}},function(e,i,t){var n=t(49);e.exports=function(e,i){return 1/n(e,i)}},function(e,i,t){var n=t(50);e.exports=function(e,i){return 1-n(e,i)}},function(e,i,t){'use strict';var n=t(2).array,o=t(52);e.exports=function(e,t){for(var s=n.mean(e),r=n.mean(t),a=Array(e.length),l=Array(t.length),c=0;c<a.length;c++)a[c]=e[c]-s,l[c]=t[c]-r;return o(a,l)}},function(e,i,t){var n=t(51);e.exports=function(e,i){return 1-n(e,i)}},function(e,i,t){'use strict';var n=t(55);class o extends n{constructor(e){super(e),this.activationFunction=function(e,i){this[e][i]=l(this[e][i])}}static load(e){if('Layer'!==e.model)throw new RangeError('the current model is not a Layer model');return new o(e)}}e.exports=o},function(e,i,t){const n=t(39),o=t(44).asc,s=2147483647,r=[s,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];r.sort(o),i.nextPrime=function(e){let i=n(r,e,o);return 0>i&&(i=~i),r[i]},i.largestPrime=s},function(e,i,t){'use strict';function n(e,t,n){for(var o=1e101,s=0;s<e.length;s++)for(var i=0,r;i<t.length;i++)r=n[e[s]][t[i]],o=M(r,o);return o}function o(e,t,n){for(var o=-1,s=0;s<e.length;s++)for(var i=0,r;i<t.length;i++)r=n[e[s]][t[i]],o=v(r,o);return o}function s(e,t,n){for(var o=0,s=0;s<e.length;s++)for(var i=0;i<t.length;i++)o+=n[e[s]][t[i]];return o/(e.length*t.length)}function r(e,t,n){for(var o=Array(e.length*t.length),s=0;s<e.length;s++)for(var i=0;i<t.length;i++)o[s*t.length+i]=n[e[s]][t[i]];return l(o)}function a(e,i,t){return r(e,i,t)*e.length*i.length/(e.length+i.length)}function m(e,i){return e-i}function l(e,i){i===void 0&&(i=!1),i||(e=[].concat(e).sort(m));var t=e.length,n=c(t/2);return 0==t%2?0.5*(e[n-1]+e[n]):e[n]}const u=t(1),g=t(58),d=t(22),p=t(40);var h={disFunc:u,kind:'single',isDistanceMatrix:!1};e.exports=function(t,l){l=Object.assign({},h,l);var c=t.length,m=t;if(l.isDistanceMatrix||(m=p(t,l.disFunc)),'string'==typeof l.kind)switch(l.kind){case'single':l.kind=n;break;case'complete':l.kind=o;break;case'average':l.kind=s;break;case'centroid':l.kind=r;break;case'ward':l.kind=a;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof l.kind)throw new TypeError('Undefined kind of similarity');for(var u=Array(c),x=0;x<m.length;x++)u[x]=new g(x);for(var i=1e6,w={},y=0;1<u.length;){w={},i=1e6;for(var b=0;b<u.length;b++)for(var j=b+1;j<u.length;j++){var k,v;if(u[b]instanceof g)k=[u[b].index];else{k=Array(u[b].index.length);for(var S=0;S<k.length;S++)k[S]=u[b].index[S].index}if(u[j]instanceof g)v=[u[j].index];else{v=Array(u[j].index.length);for(var e=0;e<v.length;e++)v[e]=u[j].index[e].index}y=l.kind(k,v,m).toFixed(4),y in w?w[y].push([u[b],u[j]]):w[y]=[[u[b],u[j]]],i=M(y,i)}for(var f=w[i.toFixed(4)],z=Array(f.length),R=0,V;0<f.length;){V=f.shift();for(var I=0,D;I<f.length;I++)if(D=f[I].filter(function(e){return-1!==V.indexOf(e)}),0<D.length){var C=f[I].filter(function(e){return-1===V.indexOf(e)});V=V.concat(C),f.splice(I--,1)}z[R++]=V}z.length=R;for(var P=0,A;P<z.length;P++){A=new d,A.children=z[P].concat(),A.distance=i,A.index=Array(c);for(var L=0,U=0;U<z[P].length;U++)z[P][U]instanceof g?A.index[L++]=z[P][U]:(L+=z[P][U].index.length,A.index=z[P][U].index.concat(A.index)),u.splice(u.indexOf(z[P][U]),1);A.index.length=L,u.push(A)}}return u[0]}},function(e,i,t){'use strict';function n(e,t,n){for(var o=1e101,s=0;s<e.length;s++)for(var i=s,r;i<t.length;i++)r=n(e[s],t[i]),o=M(r,o);return o}function o(e,t,n){for(var o=-1,s=0;s<e.length;s++)for(var i=s,r;i<t.length;i++)r=n(e[s],t[i]),o=v(r,o);return o}function s(e,t,n){for(var o=0,s=0;s<e.length;s++)for(var i=0;i<t.length;i++)o+=n(e[s],t[i]);return o/(e.length*t.length)}function r(e,t,n){for(var o=0,s=0,r=0,a=0,l=0;l<e.length;l++)o+=e[l][0],s+=e[l][1];for(var i=0;i<t.length;i++)r+=t[i][0],a+=t[i][1];return o/=e.length,s/=e.length,r/=t.length,a/=t.length,n([o,s],[r,a])}function a(e,t,n){for(var o=0,s=0,r=0,a=0,l=0;l<e.length;l++)o+=e[l][0],s+=e[l][1];for(var i=0;i<t.length;i++)r+=t[i][0],a+=t[i][1];return o/=e.length,s/=e.length,r/=t.length,a/=t.length,n([o,s],[r,a])*e.length*t.length/(e.length+t.length)}function l(t,n,o){for(var s={d:0,p:0},r=Array(t[0].length),a=0;a<t[0].length;a++)r[a]=n[t[0][a]];for(var e=Array(t[1].length),l=0;l<t[1].length;l++)e[l]=n[t[1][l]];for(var c=0,i,m;c<r.length;c++){i=0;for(var u=0;u<r.length;u++)c!==u&&(i+=o(r[c],r[u]));i/=r.length-1,m=0;for(var d=0;d<e.length;d++)m+=o(r[c],e[d]);m/=e.length,i-m>s.d&&(s.d=i-m,s.p=c)}return s}function c(e,t,n){for(var o=0,s=0,r=0;r<e.length;r++)for(var i=r;i<e.length;i++)o+=n(t[e[r].index],t[e[i].index]),s++;return o/s}const m=t(1),u=t(58),g=t(22);var p={dist:m,kind:'single'};e.exports=function(t,h){if(h=Object.assign({},p,h),'string'==typeof h.kind)switch(h.kind){case'single':h.kind=n;break;case'complete':h.kind=o;break;case'average':h.kind=s;break;case'centroid':h.kind=r;break;case'ward':h.kind=a;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof h.kind)throw new TypeError('Undefined kind of similarity');var k=new g;k.children=Array(t.length),k.index=Array(t.length);for(var x=0;x<t.length;x++)k.children[x]=new u(x),k.index[x]=new u(x);k.distance=c(k.index,t,h.dist);for(var w=[k],y,m,b,M,S;0<w.length;){m=0,b=0;for(var z=0;z<w.length;z++){y=0;for(var i=0;i<w[z].length;i++)for(var j=i+1;j<w[z].length;j++)y=v(h.dist(t[w[z].index[i].index],t[w[z].index[j].index]),y);y>m&&(m=y,b=z)}if(m=0,2===w[b].index.length)w[b].children=[w[b].index[0],w[b].index[1]],w[b].distance=h.dist(t[w[b].index[0].index],t[w[b].index[1].index]);else if(3===w[b].index.length){w[b].children=[w[b].index[0],w[b].index[1],w[b].index[2]];var R=[h.dist(t[w[b].index[0].index],t[w[b].index[1].index]),h.dist(t[w[b].index[1].index],t[w[b].index[2].index])];w[b].distance=(R[0]+R[1])/2}else{for(var d=new g,V=new g,I=[Array(w[b].index.length),[]],D=0;D<I[0].length;D++)I[0][D]=D;for(var C=0;C<I[0].length;C++){M=0;for(var P=0;P<I[0].length;P++)C!==P&&(M+=h.dist(t[w[b].index[I[0][P]].index],t[w[b].index[I[0][C]].index]));M/=I[0].length-1,M>m&&(m=M,S=C)}for(I[1]=[S],I[0].splice(S,1),M=l(I,t,h.dist);0<M.d;)I[1].push(I[0][M.p]),I[0].splice(M.p,1),M=l(I,t,h.dist);var A=Array(I[0].length);d.index=Array(I[0].length);for(var L=0;L<A.length;L++)A[L]=t[w[b].index[I[0][L]].index],d.index[L]=w[b].index[I[0][L]],d.children[L]=w[b].index[I[0][L]];var e=Array(I[1].length);V.index=Array(I[1].length);for(var U=0;U<e.length;U++)e[U]=t[w[b].index[I[1][U]].index],V.index[U]=w[b].index[I[1][U]],V.children[U]=w[b].index[I[1][U]];d.distance=c(d.index,t,h.dist),V.distance=c(V.index,t,h.dist),w.push(d),w.push(V),w[b].children=[d,V]}w.splice(b,1)}return k}},function(e,i,t){'use strict';const n=t(1).squared,o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,i){const t=n(e,i);return l(-t/this.divisor)}}},function(e){'use strict';const i={degree:1,constant:1,scale:1};e.exports=class{constructor(e){e=Object.assign({},i,e),this.degree=e.degree,this.constant=e.constant,this.scale=e.scale}compute(e,t){for(var n=0,o=0;o<e.length;o++)n+=e[o]*t[o];return r(this.scale*n+this.constant,this.degree)}}},function(e){'use strict';const i={alpha:0.01,constant:-Math.E};e.exports=class{constructor(e){e=Object.assign({},i,e),this.alpha=e.alpha,this.constant=e.constant}compute(e,t){for(var n=0,s=0;s<e.length;s++)n+=e[s]*t[s];return o(this.alpha*n+this.constant)}}},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.a.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o.a(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var u=a[i],g=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*u[c];u[m]=p=(t[i][m]-p)/a[m][m],g+=p*p}for(g=t[i][i]-g,l&=0<g,a[i][i]=S(v(g,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=t(3);n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.a.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},i.a=n},function(e,i,t){'use strict';function o(c,u){if(u=Object.assign({},g,u),!(this instanceof o))return new o(c,u);if(c=m.a.checkMatrix(c),!c.isSquare())throw new Error('Matrix is not a square matrix');var p=c.columns,n=t.i(x.b)(p,p,0),h=Array(p),d=Array(p),e=c,k=!1,w,i;if(k=!!u.assumeSymmetric||c.isSymmetric(),k){for(w=0;w<p;w++)for(i=0;i<p;i++)n[w][i]=e.get(w,i);s(p,d,h,n),r(p,d,h,n)}else{var j=t.i(x.b)(p,p,0),f=Array(p);for(i=0;i<p;i++)for(w=0;w<p;w++)j[w][i]=e.get(w,i);a(p,j,f,n),l(p,d,h,n,j)}this.n=p,this.e=d,this.d=h,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,d;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(d=0,a=0,c=0;c<l;c++)d+=u(e[c]);if(0===d)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=d,a+=e[c]*e[c];for(s=e[l-1],r=S(a),0<s&&(r=-r),n[l]=d*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(o,n,e,a){var d,g,h,i,j,k,l,m,p,w,y,c,b,M,S,z,R;for(h=1;h<o;h++)n[h-1]=n[h];n[o-1]=0;var V=0,f=0,I=2.220446049250313e-16;for(k=0;k<o;k++){for(f=v(f,u(e[k])+u(n[k])),l=k;l<o&&!(u(n[l])<=I*f);)l++;if(l>k){R=0;do{for(++R,d=e[k],m=(e[k+1]-d)/(2*n[k]),p=t.i(x.a)(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),w=e[k+1],g=d-e[k],h=k+2;h<o;h++)e[h]-=g;for(V+=g,m=e[l],y=1,c=y,b=y,M=n[k+1],S=0,z=0,h=l-1;h>=k;h--)for(b=c,c=y,z=S,d=y*n[h],g=y*m,p=t.i(x.a)(m,n[h]),n[h+1]=S*p,S=n[h]/p,y=m/p,m=y*e[h]-S*d,e[h+1]=g+S*(y*d+S*e[h]),j=0;j<o;j++)g=a[j][h+1],a[j][h+1]=S*a[j][h]+y*g,a[j][h]=y*a[j][h]-S*g;m=-S*z*b*M*n[k]/w,n[k]=S*m,e[k]=y*m}while(u(n[k])>I*f)}e[k]+=V,n[k]=0}for(h=0;h<o-1;h++){for(j=h,m=e[h],i=h+1;i<o;i++)e[i]<m&&(j=i,m=e[i]);if(j!==h)for(e[j]=e[h],e[h]=m,i=0;i<o;i++)m=a[i][h],a[i][h]=a[i][j],a[i][j]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,d,i,p,m;for(p=s+1;p<=r-1;p++){for(m=0,d=p;d<=r;d++)m+=u(t[d][p-1]);if(0!==m){for(c=0,d=r;d>=p;d--)n[d]=t[d][p-1]/m,c+=n[d]*n[d];for(l=S(c),0<n[p]&&(l=-l),c-=n[p]*l,n[p]-=l,i=p;i<e;i++){for(a=0,d=r;d>=p;d--)a+=n[d]*t[d][i];for(a/=c,d=p;d<=r;d++)t[d][i]-=a*n[d]}for(d=0;d<=r;d++){for(a=0,i=r;i>=p;i--)a+=n[i]*t[d][i];for(a/=c,i=p;i<=r;i++)t[d][i]-=a*n[i]}n[p]=m*n[p],t[p][p-1]=m*l}}for(d=0;d<e;d++)for(i=0;i<e;i++)o[d][i]=d===i?1:0;for(p=r-1;p>=s+1;p--)if(0!==t[p][p-1]){for(d=p+1;d<=r;d++)n[d]=t[d][p-1];for(i=p;i<=r;i++){for(l=0,d=p;d<=r;d++)l+=n[d]*o[d][i];for(l=l/n[p]/t[p][p-1],d=p;d<=r;d++)o[d][i]+=l*n[d]}}}function l(o,a,e,d,g){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,R=0,V=0,I=0,p=0,D=0,C=0,P=0,A=0,L,i,j,k,l,m,t,w,x,y,U,_,q,F,O;for(L=0;L<o;L++)for((L<n||L>f)&&(e[L]=g[L][L],a[L]=0),i=v(L-1,0);i<o;i++)V+=u(g[L][i]);for(;h>=n;){for(k=h;k>n&&(C=u(g[k-1][k-1])+u(g[k][k]),0===C&&(C=V),!(u(g[k][k-1])<b*C));)k--;if(k===h)g[h][h]+=R,e[h]=g[h][h],a[h]=0,h--,A=0;else if(k===h-1){if(t=g[h][h-1]*g[h-1][h],I=(g[h-1][h-1]-g[h][h])/2,p=I*I+t,P=S(u(p)),g[h][h]+=R,g[h-1][h-1]=g[h-1][h-1]+R,w=g[h][h],0<=p){for(P=0<=I?I+P:I-P,e[h-1]=w+P,e[h]=e[h-1],0!==P&&(e[h]=w-t/P),a[h-1]=0,a[h]=0,w=g[h][h-1],C=u(w)+u(P),I=w/C,p=P/C,D=S(I*I+p*p),I/=D,p/=D,i=h-1;i<o;i++)P=g[h-1][i],g[h-1][i]=p*P+I*g[h][i],g[h][i]=p*g[h][i]-I*P;for(L=0;L<=h;L++)P=g[L][h-1],g[L][h-1]=p*P+I*g[L][h],g[L][h]=p*g[L][h]-I*P;for(L=n;L<=f;L++)P=d[L][h-1],d[L][h-1]=p*P+I*d[L][h],d[L][h]=p*d[L][h]-I*P}else e[h-1]=w+I,e[h]=w+I,a[h-1]=P,a[h]=-P;h-=2,A=0}else{if(w=g[h][h],x=0,t=0,k<h&&(x=g[h-1][h-1],t=g[h][h-1]*g[h-1][h]),10==A){for(R+=w,L=n;L<=h;L++)g[L][L]-=w;C=u(g[h][h-1])+u(g[h-1][h-2]),w=x=0.75*C,t=-0.4375*C*C}if(30==A&&(C=(x-w)/2,C=C*C+t,0<C)){for(C=S(C),x<w&&(C=-C),C=w-t/((x-w)/2+C),L=n;L<=h;L++)g[L][L]-=C;R+=C,w=x=t=0.964}for(++A,l=h-2;l>=k&&(P=g[l][l],D=w-P,C=x-P,I=(D*C-t)/g[l+1][l]+g[l][l+1],p=g[l+1][l+1]-P-D-C,D=g[l+2][l+1],C=u(I)+u(p)+u(D),I/=C,p/=C,D/=C,l!==k)&&!(u(g[l][l-1])*(u(p)+u(D))<b*(u(I)*(u(g[l-1][l-1])+u(P)+u(g[l+1][l+1]))));)l--;for(L=l+2;L<=h;L++)g[L][L-2]=0,L>l+2&&(g[L][L-3]=0);for(j=l;j<=h-1&&(F=j!==h-1,j!==l&&(I=g[j][j-1],p=g[j+1][j-1],D=F?g[j+2][j-1]:0,w=u(I)+u(p)+u(D),0!==w&&(I/=w,p/=w,D/=w)),0!==w);j++)if(C=S(I*I+p*p+D*D),0>I&&(C=-C),0!==C){for(j===l?k!==l&&(g[j][j-1]=-g[j][j-1]):g[j][j-1]=-C*w,I+=C,w=I/C,x=p/C,P=D/C,p/=I,D/=I,i=j;i<o;i++)I=g[j][i]+p*g[j+1][i],F&&(I+=D*g[j+2][i],g[j+2][i]=g[j+2][i]-I*P),g[j][i]-=I*w,g[j+1][i]=g[j+1][i]-I*x;for(L=0;L<=M(h,j+3);L++)I=w*g[L][j]+x*g[L][j+1],F&&(I+=P*g[L][j+2],g[L][j+2]=g[L][j+2]-I*D),g[L][j]-=I,g[L][j+1]=g[L][j+1]-I*p;for(L=n;L<=f;L++)I=w*d[L][j]+x*d[L][j+1],F&&(I+=P*d[L][j+2],d[L][j+2]=d[L][j+2]-I*D),d[L][j]-=I,d[L][j+1]=d[L][j+1]-I*p}}}if(0!==V){for(h=o-1;0<=h;h--)if(I=e[h],p=a[h],0===p)for(k=h,g[h][h]=1,L=h-1;0<=L;L--){for(t=g[L][L]-I,D=0,i=k;i<=h;i++)D+=g[L][i]*g[i][h];if(0>a[L])P=t,C=D;else if(k=L,0===a[L]?g[L][h]=0===t?-D/(b*V):-D/t:(w=g[L][L+1],x=g[L+1][L],p=(e[L]-I)*(e[L]-I)+a[L]*a[L],m=(w*C-P*D)/p,g[L][h]=m,g[L+1][h]=u(w)>u(P)?(-D-t*m)/w:(-C-x*m)/P),m=u(g[L][h]),1<b*m*m)for(i=L;i<=h;i++)g[i][h]/=m}else if(0>p)for(k=h-1,u(g[h][h-1])>u(g[h-1][h])?(g[h-1][h-1]=p/g[h][h-1],g[h-1][h]=-(g[h][h]-I)/g[h][h-1]):(O=c(0,-g[h-1][h],g[h-1][h-1]-I,p),g[h-1][h-1]=O[0],g[h-1][h]=O[1]),g[h][h-1]=0,g[h][h]=1,L=h-2;0<=L;L--){for(y=0,U=0,i=k;i<=h;i++)y+=g[L][i]*g[i][h-1],U+=g[L][i]*g[i][h];if(t=g[L][L]-I,0>a[L])P=t,D=y,C=U;else if(k=L,0===a[L]?(O=c(-y,-U,t,p),g[L][h-1]=O[0],g[L][h]=O[1]):(w=g[L][L+1],x=g[L+1][L],_=(e[L]-I)*(e[L]-I)+a[L]*a[L]-p*p,q=2*(e[L]-I)*p,0===_&&0===q&&(_=b*V*(u(t)+u(p)+u(w)+u(x)+u(P))),O=c(w*D-P*y+p*U,w*C-P*U-p*y,_,q),g[L][h-1]=O[0],g[L][h]=O[1],u(w)>u(P)+u(p)?(g[L+1][h-1]=(-y-t*g[L][h-1]+p*g[L][h])/w,g[L+1][h]=(-U-t*g[L][h]-p*g[L][h-1])/w):(O=c(-D-x*g[L][h-1],-C-x*g[L][h],P,p),g[L+1][h-1]=O[0],g[L+1][h]=O[1])),m=v(u(g[L][h-1]),u(g[L][h])),1<b*m*m)for(i=L;i<=h;i++)g[i][h-1]=g[i][h-1]/m,g[i][h]/=m}for(L=0;L<o;L++)if(L<n||L>f)for(i=L;i<o;i++)d[L][i]=g[L][i];for(i=o-1;i>=n;i--)for(L=n;L<=f;L++){for(P=0,j=n;j<=M(i,f);j++)P+=d[L][j]*g[j][i];d[L][i]=P}}}function c(e,i,t,n){var o,s;return u(t)>u(n)?(o=n/t,s=t+o*n,[(e+o*i)/s,(i-o*e)/s]):(o=t/n,s=n+o*t,[(o*e+i)/s,(o*i-e)/s])}var m=t(3),x=t(25);const g={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.a.isMatrix(this.V)||(this.V=new m.a(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m.a(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},i.a=o},function(e,i,t){'use strict';function n(e,i){return e=o.a.checkMatrix(e),i=o.a.checkMatrix(i),e.isSquare()?new s.a(e).solve(i):new r.a(e).solve(i)}i.b=function(e){return e=o.a.checkMatrix(e),n(e,o.a.eye(e.rows))},i.a=n;var o=t(3),s=t(24),r=t(59)},function(e,i,t){'use strict';Object.defineProperty(i,'__esModule',{value:!0});var n=t(3);t.d(i,'default',function(){return n.a}),t.d(i,'Matrix',function(){return n.a});var o=t(23);t.d(i,'abstractMatrix',function(){return o.a});var s=t(161);t.d(i,'solve',function(){return s.a}),t.d(i,'inverse',function(){return s.b});var r=t(60);t.d(i,'SingularValueDecomposition',function(){return r.a}),t.d(i,'SVD',function(){return r.a});var a=t(160);t.d(i,'EigenvalueDecomposition',function(){return a.a}),t.d(i,'EVD',function(){return a.a});var l=t(159);t.d(i,'CholeskyDecomposition',function(){return l.a}),t.d(i,'CHO',function(){return l.a});var c=t(24);t.d(i,'LuDecomposition',function(){return c.a}),t.d(i,'LU',function(){return c.a});var m=t(59);t.d(i,'QrDecomposition',function(){return m.a}),t.d(i,'QR',function(){return m.a})},function(){Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,i,t){'use strict';var n=t(8);class o extends n.a{constructor(e,i){super(e,e.rows,1),this.column=i}set(e,i,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}i.a=o},function(e,i,t){'use strict';var n=t(8);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(e,this.columns-i-1,t),this}get(e,i){return this.matrix.get(e,this.columns-i-1)}}i.a=o},function(e,i,t){'use strict';var n=t(8);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(this.rows-e-1,i,t),this}get(e,i){return this.matrix.get(this.rows-e-1,i)}}i.a=o},function(e,i,t){'use strict';var n=t(8);class o extends n.a{constructor(e,i){super(e,1,e.columns),this.row=i}set(e,i,t){return this.matrix.set(this.row,i,t),this}get(e,i){return this.matrix.get(this.row,i)}}i.a=o},function(e,i,t){'use strict';var n=t(8),o=t(15);class s extends n.a{constructor(e,i,n){var s=t.i(o.i)(e,i,n);super(e,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(e,i,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[i],t),this}get(e,i){return this.matrix.get(this.rowIndices[e],this.columnIndices[i])}}i.a=s},function(e,i,t){'use strict';var n=t(8),o=t(15);class s extends n.a{constructor(e,i,n,s,r){t.i(o.h)(e,i,n,s,r),super(e,n-i+1,r-s+1),this.startRow=i,this.startColumn=s}set(e,i,t){return this.matrix.set(this.startRow+e,this.startColumn+i,t),this}get(e,i){return this.matrix.get(this.startRow+e,this.startColumn+i)}}i.a=s},function(e,i,t){'use strict';var n=t(8);class o extends n.a{constructor(e){super(e,e.columns,e.rows)}set(e,i,t){return this.matrix.set(i,e,t),this}get(e,i){return this.matrix.get(i,e)}}i.a=o},function(e){'use strict';const i={sigma:1,degree:1};e.exports=class{constructor(e){e=Object.assign({},i,e),this.sigma=e.sigma,this.degree=e.degree}compute(e,t){for(var n=0,o=M(e.length,t.length),s=1;s<=o;++s)n+=r(l(-this.sigma*r(r(e[s-1],s)-r(t[s-1],s),2)),this.degree);return n}}},function(e,i,t){'use strict';const n=t(1).squared,o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma}compute(e,i){return 1/(1+n(e,i)/(this.sigma*this.sigma))}}},function(e,i,t){'use strict';const n=t(1),o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,i){const t=n(e,i);return l(-t/this.divisor)}}},function(e){'use strict';e.exports=class{compute(e,t){for(var n=M(e.length,t.length),o=0,s=0;s<n;++s)o+=M(e[s],t[s]);return o}}},function(e,i,t){'use strict';const n=t(1),o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma}compute(e,i){const t=n(e,i);return l(-t/this.sigma)}}},function(e,i,t){'use strict';const n=t(1).squared,o={constant:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.constant=e.constant}compute(e,i){return S(n(e,i)+this.constant*this.constant)}}},function(e,i,t){'use strict';const n=t(1).squared,o={constant:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.constant=e.constant}compute(e,i){const t=n(e,i);return 1-t/(t+this.constant)}}},function(e,i,t){'use strict';function n(e,i,t,n,o){this.clusters=e,this.centroids=i,this.converged=t,this.iterations=n,this[s]=o}const o=t(61),s=Symbol('distance');n.prototype.nearest=function(e){var i=Array(e.length),t=this.centroids.map(function(e){return e.centroid});return o.updateClusterID(e,t,i,this[s])},n.prototype.computeInformation=function(e){for(var t=this.centroids.map(function(e){return{centroid:e,error:0,size:0}}),o=0;o<e.length;o++)t[this.clusters[o]].error+=this[s](e[o],this.centroids[this.clusters[o]]),t[this.clusters[o]].size++;for(var i=0;i<this.centroids.length;i++)t[i].error/=t[i].size;return new n(this.clusters,t,this.converged,this.iterations,this[s])},e.exports=n},function(e,i,n){'use strict';const o=n(96).Picker;i.random=function(e,t){const n=new o(e);for(var s=Array(t),r=0;r<t;++r)s[r]=n.pick();return s},i.mostDistant=function(e,i,o){var s=Array(i);if(s[0]=c(Math.random()*e.length),1<i){for(var r={dist:-1,index:-1},a=0;a<e.length;++a)o[s[0]][a]>r.dist&&(r.dist=o[s[0]][a],r.index=a);if(s[1]=r.index,2<i)for(var l=2,u;l<i;++l){u={dist:-1,index:-1};for(var d=0,g;d<e.length;++d){g={dist:t,index:-1};for(var p=0;p<l;++p)o[p][d]<g.dist&&-1===s.indexOf(d)&&(g={dist:o[p][d],index:d});g.dist!==t&&g.dist>u.dist&&(u=Object.assign({},g))}s[l]=u.index}}return s.map((i)=>e[i])}},function(e,i){'use strict';/**
* k-d Tree JavaScript - V 1.01
*
* https://github.com/ubilabs/kd-tree-javascript
*
* @author Mircea Pricop <pricop@ubilabs.net>, 2012
* @author Martin Kleppe <kleppe@ubilabs.net>, 2012
* @author Ubilabs http://ubilabs.net, 2012
* @license MIT License <http://www.opensource.org/licenses/mit-license.php>
*/function t(e,i,t){this.obj=e,this.left=null,this.right=null,this.parent=t,this.dimension=i}function n(e,n,r){function i(e,n,o){var s=n%r.length,a,l;return 0===e.length?null:1===e.length?new t(e[0],s,o):(e.sort(function(e,i){return e[r[s]]-i[r[s]]}),a=c(e.length/2),l=new t(e[a],s,o),l.left=i(e.slice(0,a),n+1,l),l.right=i(e.slice(a+1),n+1,l),l)}var a=this;Array.isArray(e)?this.root=i(e,0,null):function(e){function i(e){e.left&&(e.left.parent=e,i(e.left)),e.right&&(e.right.parent=e,i(e.right))}a.root=e,i(a.root)}(e,n,r),this.toJSON=function(e){e||(e=this.root);var i=new t(e.obj,e.dimension,null);return e.left&&(i.left=a.toJSON(e.left)),e.right&&(i.right=a.toJSON(e.right)),i},this.insert=function(e){function i(t,n){if(null===t)return n;var o=r[t.dimension];return e[o]<t.obj[o]?i(t.left,t):i(t.right,t)}var n=i(this.root,null),o,s;return null===n?void(this.root=new t(e,0,null)):void(o=new t(e,(n.dimension+1)%r.length,n),s=r[n.dimension],e[s]<n.obj[s]?n.left=o:n.right=o)},this.remove=function(e){function i(t){if(null===t)return null;if(t.obj===e)return t;var n=r[t.dimension];return e[n]<t.obj[n]?i(t.left,t):i(t.right,t)}function t(e){function i(e,t){var n,o,s,a,l;return null===e?null:(n=r[t],e.dimension===t)?null===e.left?e:i(e.left,t):(o=e.obj[n],s=i(e.left,t),a=i(e.right,t),l=e,null!==s&&s.obj[n]<o&&(l=s),null!==a&&a.obj[n]<l.obj[n]&&(l=a),l)}var n,o,s;return null===e.left&&null===e.right?null===e.parent?void(a.root=null):(s=r[e.parent.dimension],void(e.obj[s]<e.parent.obj[s]?e.parent.left=null:e.parent.right=null)):void(null===e.right?(n=i(e.left,e.dimension),o=n.obj,t(n),e.right=e.left,e.left=null,e.obj=o):(n=i(e.right,e.dimension),o=n.obj,t(n),e.obj=o))}var n=i(a.root);null===n||t(n)},this.nearest=function(e,t,s){function l(o){function s(e,i){m.push([e,i]),m.size()>t&&m.pop()}var a=r[o.dimension],c=n(e,o.obj),d={},g,p,h,j;for(j=0;j<r.length;j+=1)d[r[j]]=j===o.dimension?e[r[j]]:o.obj[r[j]];return p=n(d,o.obj),null===o.right&&null===o.left?void((m.size()<t||c<m.peek()[1])&&s(o,c)):void(g=null===o.right?o.left:null===o.left?o.right:e[a]<o.obj[a]?o.left:o.right,l(g),(m.size()<t||c<m.peek()[1])&&s(o,c),(m.size()<t||u(p)<m.peek()[1])&&(h=g===o.left?o.right:o.left,null!==h&&l(h)))}var c,i,m;if(m=new o(function(i){return-i[1]}),s)for(c=0;c<t;c+=1)m.push([null,s]);for(a.root&&l(a.root),i=[],c=0;c<M(t,m.content.length);c+=1)m.content[c][0]&&i.push([m.content[c][0].obj,m.content[c][1]]);return i},this.balanceFactor=function(){function e(i){return null===i?0:v(e(i.left),e(i.right))+1}function i(e){return null===e?0:i(e.left)+i(e.right)+1}return e(a.root)/(s(i(a.root))/0.6931471805599453)}}function o(e){this.content=[],this.scoreFunction=e}o.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return 0<this.content.length&&(this.content[0]=i,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var i=this.content.pop();return void(n!=t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error('Node not found.')},size:function(){return this.content.length},bubbleUp:function(e){for(var i=this.content[e];0<e;){var t=c((e+1)/2)-1,n=this.content[t];if(this.scoreFunction(i)<this.scoreFunction(n))this.content[t]=i,this.content[e]=n,e=t;else break}},sinkDown:function(e){for(var i=this.content.length,t=this.content[e],n=this.scoreFunction(t);;){var o=2*(e+1),s=o-1,r=null;if(s<i){var a=this.content[s],l=this.scoreFunction(a);l<n&&(r=s)}if(o<i){var c=this.content[o],m=this.scoreFunction(c);m<(null==r?n:l)&&(r=o)}if(null!=r)this.content[e]=this.content[r],this.content[r]=t,e=r;else break}}},this.kdTree=n,i.kdTree=n,i.BinaryHeap=o},function(e,i,t){'use strict';function n(e,i){e&&(this.kdtree=i.kdtree,this.k=i.k,this.classes=i.classes)}e.exports=n;var o=t(180).kdTree,s=t(41);n.prototype.train=function(e,t,n){n===void 0&&(n={}),n.distance===void 0&&(n.distance=s.distance.euclidean),n.k===void 0&&(n.k=e[0].length+1);for(var r=0,a=Array(1e3),l=0,c=0;c<t.length;++c)-1===a.indexOf(t[c])&&(r++,a[l]=t[c],l++);var i=Array(e.length);for(c=0;c<i.length;++c)i[c]=e[c].slice();for(this.features=e[0].length,c=0;c<t.length;++c)i[c].push(t[c]);var m=Array(e[0].length);for(c=0;c<m.length;++c)m[c]=c;this.kdtree=new o(i,n.distance,m),this.k=n.k,this.classes=r},n.prototype.predict=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=this.getSinglePrediction(e[n]);return t},n.prototype.getSinglePrediction=function(e){for(var t=this.kdtree.nearest(e,this.k),n=Array(this.classes),o=-1,s=-1,r=t[0][0].length-1,a=0;a<n.length;++a)n[a]=0;for(a=0;a<t.length;++a){var i=t[a][0][r],l=++n[i];l>s&&(o=i,s=l)}return o},n.load=function(e){if('KNN'!==e.modelName)throw new RangeError('The given model is invalid!');return new n(!0,e)},n.prototype.export=function(){return{modelName:'KNN',kdtree:this.kdtree,k:this.k,classes:this.classes}}},function(e){'use strict';e.exports=function(e,t,n){var o=0;const s=n(...t);for(var r=0;r<e.x.length;r++)o+=u(e.y[r]-s(e.x[r]));return o}},function(e,i,t){'use strict';function n(e,i,t,o){const r=o.length,n=e.x.length;var a=Array(r);const l=o(...i);for(var c=0;c<r;c++){a[c]=Array(n);var m=i.concat();m[c]+=t;for(var u=o(...m),d=0;d<n;d++)a[c][d]=l(e.x[d])-u(e.x[d])}return new s(a)}function o(e,i,t){const n=e.x.length;var o=Array(n);const r=t(...i);for(var a=0;a<n;a++)o[a]=e.y[a]-r(e.x[a]);return new s([o])}const s=t(0);e.exports=function(e,i,t,r,a){var l=s.eye(a.length).mul(t*r*r),c=n(e,i,r,a),m=o(e,i,a).transpose();i=new s([i]);var u=s.inv(l.add(c.mmul(c.transposeView())));return i=i.sub(u.mmul(c).mmul(m).mul(r).transposeView()),i.to1DArray()}},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var u=a[i],g=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*u[c];u[m]=p=(t[i][m]-p)/a[m][m],g+=p*p}for(g=t[i][i]-g,l&=0<g,a[i][i]=S(v(g,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=t(4).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,i,t){'use strict';function o(t,c){if(c=Object.assign({},p,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),h=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,h,n),r(u,d,h,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,h,n,j)}this.n=u,this.e=d,this.d=h,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,d;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(d=0,a=0,c=0;c<l;c++)d+=u(e[c]);if(0===d)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=d,a+=e[c]*e[c];for(s=e[l-1],r=S(a),0<s&&(r=-r),n[l]=d*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,d,g,i,h,k,l,m,p,x,w,c,y,b,M,S,z;for(g=1;g<t;g++)n[g-1]=n[g];n[t-1]=0;var R=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=v(f,u(e[k])+u(n[k])),l=k;l<t&&!(u(n[l])<=V*f);)l++;if(l>k){z=0;do{for(++z,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],d=a-e[k],g=k+2;g<t;g++)e[g]-=d;for(R+=d,m=e[l],w=1,c=w,y=w,b=n[k+1],M=0,S=0,g=l-1;g>=k;g--)for(y=c,c=w,S=M,a=w*n[g],d=w*m,p=j(m,n[g]),n[g+1]=M*p,M=n[g]/p,w=m/p,m=w*e[g]-M*a,e[g+1]=d+M*(w*a+M*e[g]),h=0;h<t;h++)d=o[h][g+1],o[h][g+1]=M*o[h][g]+w*d,o[h][g]=w*o[h][g]-M*d;m=-M*S*y*b*n[k]/x,n[k]=M*m,e[k]=w*m}while(u(n[k])>V*f)}e[k]+=R,n[k]=0}for(g=0;g<t-1;g++){for(h=g,m=e[g],i=g+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==g)for(e[h]=e[g],e[g]=m,i=0;i<t;i++)m=o[i][g],o[i][g]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,d,i,p,m;for(p=s+1;p<=r-1;p++){for(m=0,d=p;d<=r;d++)m+=u(t[d][p-1]);if(0!==m){for(c=0,d=r;d>=p;d--)n[d]=t[d][p-1]/m,c+=n[d]*n[d];for(l=S(c),0<n[p]&&(l=-l),c-=n[p]*l,n[p]-=l,i=p;i<e;i++){for(a=0,d=r;d>=p;d--)a+=n[d]*t[d][i];for(a/=c,d=p;d<=r;d++)t[d][i]-=a*n[d]}for(d=0;d<=r;d++){for(a=0,i=r;i>=p;i--)a+=n[i]*t[d][i];for(a/=c,i=p;i<=r;i++)t[d][i]-=a*n[i]}n[p]=m*n[p],t[p][p-1]=m*l}}for(d=0;d<e;d++)for(i=0;i<e;i++)o[d][i]=d===i?1:0;for(p=r-1;p>=s+1;p--)if(0!==t[p][p-1]){for(d=p+1;d<=r;d++)n[d]=t[d][p-1];for(i=p;i<=r;i++){for(l=0,d=p;d<=r;d++)l+=n[d]*o[d][i];for(l=l/n[p]/t[p][p-1],d=p;d<=r;d++)o[d][i]+=l*n[d]}}}function l(o,a,e,d,g){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,R=0,V=0,I=0,p=0,D=0,C=0,P=0,A=0,L,i,j,k,l,m,t,w,x,y,U,_,q,F,O;for(L=0;L<o;L++)for((L<n||L>f)&&(e[L]=g[L][L],a[L]=0),i=v(L-1,0);i<o;i++)V+=u(g[L][i]);for(;h>=n;){for(k=h;k>n&&(C=u(g[k-1][k-1])+u(g[k][k]),0===C&&(C=V),!(u(g[k][k-1])<b*C));)k--;if(k===h)g[h][h]+=R,e[h]=g[h][h],a[h]=0,h--,A=0;else if(k===h-1){if(t=g[h][h-1]*g[h-1][h],I=(g[h-1][h-1]-g[h][h])/2,p=I*I+t,P=S(u(p)),g[h][h]+=R,g[h-1][h-1]=g[h-1][h-1]+R,w=g[h][h],0<=p){for(P=0<=I?I+P:I-P,e[h-1]=w+P,e[h]=e[h-1],0!==P&&(e[h]=w-t/P),a[h-1]=0,a[h]=0,w=g[h][h-1],C=u(w)+u(P),I=w/C,p=P/C,D=S(I*I+p*p),I/=D,p/=D,i=h-1;i<o;i++)P=g[h-1][i],g[h-1][i]=p*P+I*g[h][i],g[h][i]=p*g[h][i]-I*P;for(L=0;L<=h;L++)P=g[L][h-1],g[L][h-1]=p*P+I*g[L][h],g[L][h]=p*g[L][h]-I*P;for(L=n;L<=f;L++)P=d[L][h-1],d[L][h-1]=p*P+I*d[L][h],d[L][h]=p*d[L][h]-I*P}else e[h-1]=w+I,e[h]=w+I,a[h-1]=P,a[h]=-P;h-=2,A=0}else{if(w=g[h][h],x=0,t=0,k<h&&(x=g[h-1][h-1],t=g[h][h-1]*g[h-1][h]),10==A){for(R+=w,L=n;L<=h;L++)g[L][L]-=w;C=u(g[h][h-1])+u(g[h-1][h-2]),w=x=0.75*C,t=-0.4375*C*C}if(30==A&&(C=(x-w)/2,C=C*C+t,0<C)){for(C=S(C),x<w&&(C=-C),C=w-t/((x-w)/2+C),L=n;L<=h;L++)g[L][L]-=C;R+=C,w=x=t=0.964}for(++A,l=h-2;l>=k&&(P=g[l][l],D=w-P,C=x-P,I=(D*C-t)/g[l+1][l]+g[l][l+1],p=g[l+1][l+1]-P-D-C,D=g[l+2][l+1],C=u(I)+u(p)+u(D),I/=C,p/=C,D/=C,l!==k)&&!(u(g[l][l-1])*(u(p)+u(D))<b*(u(I)*(u(g[l-1][l-1])+u(P)+u(g[l+1][l+1]))));)l--;for(L=l+2;L<=h;L++)g[L][L-2]=0,L>l+2&&(g[L][L-3]=0);for(j=l;j<=h-1&&(F=j!==h-1,j!==l&&(I=g[j][j-1],p=g[j+1][j-1],D=F?g[j+2][j-1]:0,w=u(I)+u(p)+u(D),0!==w&&(I/=w,p/=w,D/=w)),0!==w);j++)if(C=S(I*I+p*p+D*D),0>I&&(C=-C),0!==C){for(j===l?k!==l&&(g[j][j-1]=-g[j][j-1]):g[j][j-1]=-C*w,I+=C,w=I/C,x=p/C,P=D/C,p/=I,D/=I,i=j;i<o;i++)I=g[j][i]+p*g[j+1][i],F&&(I+=D*g[j+2][i],g[j+2][i]=g[j+2][i]-I*P),g[j][i]-=I*w,g[j+1][i]=g[j+1][i]-I*x;for(L=0;L<=M(h,j+3);L++)I=w*g[L][j]+x*g[L][j+1],F&&(I+=P*g[L][j+2],g[L][j+2]=g[L][j+2]-I*D),g[L][j]-=I,g[L][j+1]=g[L][j+1]-I*p;for(L=n;L<=f;L++)I=w*d[L][j]+x*d[L][j+1],F&&(I+=P*d[L][j+2],d[L][j+2]=d[L][j+2]-I*D),d[L][j]-=I,d[L][j+1]=d[L][j+1]-I*p}}}if(0!==V){for(h=o-1;0<=h;h--)if(I=e[h],p=a[h],0===p)for(k=h,g[h][h]=1,L=h-1;0<=L;L--){for(t=g[L][L]-I,D=0,i=k;i<=h;i++)D+=g[L][i]*g[i][h];if(0>a[L])P=t,C=D;else if(k=L,0===a[L]?g[L][h]=0===t?-D/(b*V):-D/t:(w=g[L][L+1],x=g[L+1][L],p=(e[L]-I)*(e[L]-I)+a[L]*a[L],m=(w*C-P*D)/p,g[L][h]=m,g[L+1][h]=u(w)>u(P)?(-D-t*m)/w:(-C-x*m)/P),m=u(g[L][h]),1<b*m*m)for(i=L;i<=h;i++)g[i][h]/=m}else if(0>p)for(k=h-1,u(g[h][h-1])>u(g[h-1][h])?(g[h-1][h-1]=p/g[h][h-1],g[h-1][h]=-(g[h][h]-I)/g[h][h-1]):(O=c(0,-g[h-1][h],g[h-1][h-1]-I,p),g[h-1][h-1]=O[0],g[h-1][h]=O[1]),g[h][h-1]=0,g[h][h]=1,L=h-2;0<=L;L--){for(y=0,U=0,i=k;i<=h;i++)y+=g[L][i]*g[i][h-1],U+=g[L][i]*g[i][h];if(t=g[L][L]-I,0>a[L])P=t,D=y,C=U;else if(k=L,0===a[L]?(O=c(-y,-U,t,p),g[L][h-1]=O[0],g[L][h]=O[1]):(w=g[L][L+1],x=g[L+1][L],_=(e[L]-I)*(e[L]-I)+a[L]*a[L]-p*p,q=2*(e[L]-I)*p,0===_&&0===q&&(_=b*V*(u(t)+u(p)+u(w)+u(x)+u(P))),O=c(w*D-P*y+p*U,w*C-P*U-p*y,_,q),g[L][h-1]=O[0],g[L][h]=O[1],u(w)>u(P)+u(p)?(g[L+1][h-1]=(-y-t*g[L][h-1]+p*g[L][h])/w,g[L+1][h]=(-U-t*g[L][h]-p*g[L][h-1])/w):(O=c(-D-x*g[L][h-1],-C-x*g[L][h],P,p),g[L+1][h-1]=O[0],g[L+1][h]=O[1])),m=v(u(g[L][h-1]),u(g[L][h])),1<b*m*m)for(i=L;i<=h;i++)g[i][h-1]=g[i][h-1]/m,g[i][h]/=m}for(L=0;L<o;L++)if(L<n||L>f)for(i=L;i<o;i++)d[L][i]=g[L][i];for(i=o-1;i>=n;i--)for(L=n;L<=f;L++){for(P=0,j=n;j<=M(i,f);j++)P+=d[L][j]*g[j][i];d[L][i]=P}}}function c(e,i,t,n){var o,s;return u(t)>u(n)?(o=n/t,s=t+o*n,[(e+o*i)/s,(i-o*e)/s]):(o=t/n,s=n+o*t,[(o*e+i)/s,(o*i-e)/s])}const m=t(4).Matrix,n=t(26),j=n.hypotenuse,g=n.getFilled2DArray,p={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,i,t){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,d;for(u=0;u<l;u++){var g=0;for(m=u;m<a;m++)g=n(g,t[m][u]);if(0!==g){for(0>t[u][u]&&(g=-g),m=u;m<a;m++)t[m][u]/=g;for(t[u][u]+=1,i=u+1;i<l;i++){for(d=0,m=u;m<a;m++)d+=t[m][u]*t[m][i];for(d=-d/t[u][u],m=u;m<a;m++)t[m][i]+=d*t[m][u]}}c[u]=-g}this.QR=t,this.Rdiag=c}var r=t(4).Matrix,n=t(26).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,i,t){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,i){return e=s.checkMatrix(e),i=s.checkMatrix(i),e.isSquare()?new l(e).solve(i):new c(e).solve(i)}var s=t(4).Matrix,r=t(64),a=t(185),l=t(63),c=t(186),m=t(184);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,i,t){'use strict';var n=t(9);e.exports=class extends n{constructor(e,i){super(e,e.rows,1),this.column=i}set(e,i,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}},function(e,i,t){'use strict';var n=t(9);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(e,this.columns-i-1,t),this}get(e,i){return this.matrix.get(e,this.columns-i-1)}}},function(e,i,t){'use strict';var n=t(9);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(this.rows-e-1,i,t),this}get(e,i){return this.matrix.get(this.rows-e-1,i)}}},function(e,i,t){'use strict';var n=t(9);e.exports=class extends n{constructor(e,i){super(e,1,e.columns),this.row=i}set(e,i,t){return this.matrix.set(this.row,i,t),this}get(e,i){return this.matrix.get(this.row,i)}}},function(e,i,t){'use strict';var n=t(9),o=t(16);e.exports=class extends n{constructor(e,i,t){var n=o.checkIndices(e,i,t);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,i,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[i],t),this}get(e,i){return this.matrix.get(this.rowIndices[e],this.columnIndices[i])}}},function(e,i,t){'use strict';var n=t(9),o=t(16);e.exports=class extends n{constructor(e,i,t,n,s){o.checkRange(e,i,t,n,s),super(e,t-i+1,s-n+1),this.startRow=i,this.startColumn=n}set(e,i,t){return this.matrix.set(this.startRow+e,this.startColumn+i,t),this}get(e,i){return this.matrix.get(this.startRow+e,this.startColumn+i)}}},function(e,i,t){'use strict';var n=t(9);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,i,t){return this.matrix.set(i,e,t),this}get(e,i){return this.matrix.get(i,e)}}},function(i,n,o){'use strict';const s=o(1).squared,r={distanceFunction:s,similarityFunction:!1,returnVector:!1};i.exports=function(n,o,s){s=s||r;const a=s.distanceFunction||r.distanceFunction,l=s.similarityFunction||r.similarityFunction,c=s.returnVector||r.returnVector;var m=-1;if('function'==typeof l)for(var u=e,d=0,g;d<n.length;d++)g=l(o,n[d]),g>u&&(u=g,m=d);else if('function'==typeof a)for(var p=t,h=0,i;h<n.length;h++)i=a(o,n[h]),i<p&&(p=i,m=h);else throw new Error('A similarity or distance function it\'s required');return c?n[m]:m}},function(e,i){'use strict';i.acc=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=(e.tn[o]+e.tp[o])/(t-1);return n},i.err=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.fn[o]+e.fp[o]/(t-1);return n},i.fpr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.fp[o]/e.nNeg;return n},i.tpr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.tp[o]/e.nPos;return n},i.fnr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.fn[o]/e.nPos;return n},i.tnr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.tn[o]/e.nNeg;return n},i.ppv=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fp[o]+e.tp[o]?0:e.tp[o]/(e.fp[o]+e.tp[o]);return n},i.npv=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fn[o]+e.tn[o]?0:e.tn[o]/(e.fn[o]+e.tn[o]);return n},i.pcfall=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fp[o]+e.tp[o]?1:1-e.tp[o]/(e.fp[o]+e.tp[o]);return n},i.pcmiss=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fn[o]+e.tn[o]?1:1-e.tn[o]/(e.fn[o]+e.tn[o]);return n},i.lift=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.nPosPred[o]?0:e.tp[o]/e.nPos/(e.nPosPred[o]/e.nSamples);return n},i.rpp=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.nPosPred[o]/e.nSamples;return n},i.rnp=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.nNegPred[o]/e.nSamples;return n},i.threshold=(e)=>{const i=e.cutoffs.slice();return i[0]=i[1],i}},function(e,i,t){'use strict';function n(e,n,r){var a=new o(e),l=new o(n);a=s.featureNormalize(a).result,l=s.featureNormalize(l).result;var c=a.rows,m=a.columns,u=a.clone().mul(a).sum(),d=a.transpose().mmul(l);d.div(s.norm(d));for(var g=Array(r),h=Array(r),j=Array(r),k=0;k<r;k++){var i=a.mmul(d),t=a.transpose().mmul(i),x=i.transpose().mmul(i)[0][0],w=t.div(x);t=d.transpose().mmul(w)[0][0],x=d.transpose().mmul(d)[0][0];var p=w.sub(d.clone().mul(t/x));p.div(s.norm(p));var f=a.mmul(p);t=a.transpose().mmul(f),x=f.transpose().mmul(f)[0][0];var y=t.div(x);a.sub(f.mmul(y.transpose())),g[k]=p.getColumn(0),h[k]=f.getColumn(0),j[k]=y.getColumn(0)}this.Xosc=a;var b=this.Xosc.clone().mul(this.Xosc).sum();this.R2X=1-b/u,this.W=g,this.T=h,this.P=j,this.numberOSC=r}var o=t(0),s=t(27);e.exports=n,n.prototype.correctDataset=function(e){for(var n=new o(e),s=n.clone().mul(n).sum(),r=0;r<this.numberOSC;r++){var i=this.W.getColumnVector(r),a=this.P.getColumnVector(r),l=n.mmul(i);n.sub(l.mmul(a))}var t=n.clone().mul(n).sum();return{datasetOsc:n,R2Dataset:1-t/s}}},function(e,i,t){'use strict';function n(e,t){for(var n=0,o=0;o<e.rows;o++)n+=e[o][t];return n}function o(e){for(var t=0,o=-Infinity,s=0,i;s<e.columns;++s)i=n(e,s),i>o&&(o=i,t=s);return t}var s=t(0),r=t(27);class a{constructor(e,i){if(!0===e){const e=i;this.meanX=e.meanX,this.stdDevX=e.stdDevX,this.meanY=e.meanY,this.stdDevY=e.stdDevY,this.PBQ=s.checkMatrix(e.PBQ),this.R2X=e.R2X}else{if(e.length!==i.length)throw new RangeError('The number of X rows must be equal to the number of Y rows');const t=r.featureNormalize(e);this.X=t.result,this.meanX=t.means,this.stdDevX=t.std;const n=r.featureNormalize(i);this.Y=n.result,this.meanY=n.means,this.stdDevY=n.std}}train(e){e===void 0&&(e={});var i=e.latentVectors;i===void 0&&(i=M(this.X.length-1,this.X[0].length));var a=e.tolerance;a===void 0&&(a=1e-5);for(var l=this.X,c=this.Y,m=l.rows,d=l.columns,g=c.rows,h=c.columns,j=l.clone().mul(l).sum(),x=c.clone().mul(c).sum(),f=i,n=s.zeros(m,f),y=s.zeros(d,f),v=s.zeros(g,f),S=s.zeros(h,f),z=s.zeros(f,f),R=y.clone(),V=0;r.norm(c)>a&&V<f;){for(var k=l.transpose(),I=c.transpose(),D=o(l.clone().mulM(l)),C=o(c.clone().mulM(c)),P=l.getColumnVector(D),A=c.getColumnVector(C),u=s.zeros(m,1);r.norm(P.clone().sub(u))>a;){var t=k.mmul(A);t.div(r.norm(t)),u=P,P=l.mmul(t);var w=I.mmul(P);w.div(r.norm(w)),A=c.mmul(w)}u=P;var L=k.mmul(u),U=u.transpose().mmul(u)[0][0],_=L.div(U),p=r.norm(_);_.div(p),u.mul(p),t.mul(p),L=A.transpose().mmul(u),U=u.transpose().mmul(u)[0][0];var q=L.div(U)[0][0];l.sub(u.mmul(_.transpose())),c.sub(u.clone().mul(q).mmul(w.transpose())),n.setColumn(V,u),y.setColumn(V,_),v.setColumn(V,A),S.setColumn(V,w),R.setColumn(V,t),z[V][V]=q,V++}V--,n=n.subMatrix(0,n.rows-1,0,V),y=y.subMatrix(0,y.rows-1,0,V),v=v.subMatrix(0,v.rows-1,0,V),S=S.subMatrix(0,S.rows-1,0,V),R=R.subMatrix(0,R.rows-1,0,V),z=z.subMatrix(0,V,0,V),this.ssqYcal=x,this.E=l,this.F=c,this.T=n,this.P=y,this.U=v,this.Q=S,this.W=R,this.B=z,this.PBQ=y.mmul(z).mmul(S.transpose()),this.R2X=u.transpose().mmul(u).mmul(_.transpose().mmul(_)).div(j)[0][0]}predict(e){var i=s.checkMatrix(e);i=i.subRowVector(this.meanX).divRowVector(this.stdDevX);var t=i.mmul(this.PBQ);return t=t.mulRowVector(this.stdDevY).addRowVector(this.meanY),t}getExplainedVariance(){return this.R2X}toJSON(){return{name:'PLS',R2X:this.R2X,meanX:this.meanX,stdDevX:this.stdDevX,meanY:this.meanY,stdDevY:this.stdDevY,PBQ:this.PBQ}}static load(e){if('PLS'!==e.name)throw new RangeError('Invalid model: '+e.name);return new a(!0,e)}}e.exports=a},function(e,i){'use strict';i.a=function(e,i){if(!Array.isArray(e)||!Array.isArray(i))throw new TypeError('x and y must be arrays');if(e.length!==i.length)throw new RangeError('x and y arrays must have the same length')}},function(e,i){'use strict';i.a=function(e,i){return 0>e?(e=0-e,'number'==typeof i?'- '+e.toPrecision(i):'- '+e.toString()):'number'==typeof i?e.toPrecision(i):e.toString()}},function(e,i,t){'use strict';function n(e,i,t){const o=i.length,n=Array(o);for(let r=0;r<o;r++)n[r]=s(t[r]);const a=new r['default'](i,n);e.A=a.slope,e.B=l(a.intercept)}Object.defineProperty(i,'__esModule',{value:!0});var o=t(14),r=t(34);class a extends o.a{constructor(e,i){super(),!0===e?(this.A=i.A,this.B=i.B):(t.i(o.b)(e,i),n(this,e,i))}_predict(e){return this.B*l(e*this.A)}toJSON(){return{name:'exponentialRegression',A:this.A,B:this.B}}toString(e){return'f(x) = '+t.i(o.c)(this.B,e)+' * e^('+t.i(o.c)(this.A,e)+' * x)'}toLaTeX(e){return 0<=this.A?'f(x) = '+t.i(o.c)(this.B,e)+'e^{'+t.i(o.c)(this.A,e)+'x}':'f(x) = \\frac{'+t.i(o.c)(this.B,e)+'}{e^{'+t.i(o.c)(-this.A,e)+'x}}'}static load(e){if('exponentialRegression'!==e.name)throw new TypeError('not a exponential regression model');return new a(!0,e)}}i['default']=a},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.a.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o.a(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var u=a[i],g=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*u[c];u[m]=p=(t[i][m]-p)/a[m][m],g+=p*p}for(g=t[i][i]-g,l&=0<g,a[i][i]=S(v(g,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=t(5);n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.a.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}}},function(e,i,t){'use strict';function o(c,u){if(u=Object.assign({},g,u),!(this instanceof o))return new o(c,u);if(c=m.a.checkMatrix(c),!c.isSquare())throw new Error('Matrix is not a square matrix');var p=c.columns,n=t.i(x.b)(p,p,0),h=Array(p),d=Array(p),e=c,k=!1,w,i;if(k=!!u.assumeSymmetric||c.isSymmetric(),k){for(w=0;w<p;w++)for(i=0;i<p;i++)n[w][i]=e.get(w,i);s(p,d,h,n),r(p,d,h,n)}else{var j=t.i(x.b)(p,p,0),f=Array(p);for(i=0;i<p;i++)for(w=0;w<p;w++)j[w][i]=e.get(w,i);a(p,j,f,n),l(p,d,h,n,j)}this.n=p,this.e=d,this.d=h,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,d;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(d=0,a=0,c=0;c<l;c++)d+=u(e[c]);if(0===d)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=d,a+=e[c]*e[c];for(s=e[l-1],r=S(a),0<s&&(r=-r),n[l]=d*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(o,n,e,a){var d,g,h,i,j,k,l,m,p,w,y,c,b,M,S,z,R;for(h=1;h<o;h++)n[h-1]=n[h];n[o-1]=0;var V=0,f=0,I=2.220446049250313e-16;for(k=0;k<o;k++){for(f=v(f,u(e[k])+u(n[k])),l=k;l<o&&!(u(n[l])<=I*f);)l++;if(l>k){R=0;do{for(++R,d=e[k],m=(e[k+1]-d)/(2*n[k]),p=t.i(x.a)(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),w=e[k+1],g=d-e[k],h=k+2;h<o;h++)e[h]-=g;for(V+=g,m=e[l],y=1,c=y,b=y,M=n[k+1],S=0,z=0,h=l-1;h>=k;h--)for(b=c,c=y,z=S,d=y*n[h],g=y*m,p=t.i(x.a)(m,n[h]),n[h+1]=S*p,S=n[h]/p,y=m/p,m=y*e[h]-S*d,e[h+1]=g+S*(y*d+S*e[h]),j=0;j<o;j++)g=a[j][h+1],a[j][h+1]=S*a[j][h]+y*g,a[j][h]=y*a[j][h]-S*g;m=-S*z*b*M*n[k]/w,n[k]=S*m,e[k]=y*m}while(u(n[k])>I*f)}e[k]+=V,n[k]=0}for(h=0;h<o-1;h++){for(j=h,m=e[h],i=h+1;i<o;i++)e[i]<m&&(j=i,m=e[i]);if(j!==h)for(e[j]=e[h],e[h]=m,i=0;i<o;i++)m=a[i][h],a[i][h]=a[i][j],a[i][j]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,d,i,p,m;for(p=s+1;p<=r-1;p++){for(m=0,d=p;d<=r;d++)m+=u(t[d][p-1]);if(0!==m){for(c=0,d=r;d>=p;d--)n[d]=t[d][p-1]/m,c+=n[d]*n[d];for(l=S(c),0<n[p]&&(l=-l),c-=n[p]*l,n[p]-=l,i=p;i<e;i++){for(a=0,d=r;d>=p;d--)a+=n[d]*t[d][i];for(a/=c,d=p;d<=r;d++)t[d][i]-=a*n[d]}for(d=0;d<=r;d++){for(a=0,i=r;i>=p;i--)a+=n[i]*t[d][i];for(a/=c,i=p;i<=r;i++)t[d][i]-=a*n[i]}n[p]=m*n[p],t[p][p-1]=m*l}}for(d=0;d<e;d++)for(i=0;i<e;i++)o[d][i]=d===i?1:0;for(p=r-1;p>=s+1;p--)if(0!==t[p][p-1]){for(d=p+1;d<=r;d++)n[d]=t[d][p-1];for(i=p;i<=r;i++){for(l=0,d=p;d<=r;d++)l+=n[d]*o[d][i];for(l=l/n[p]/t[p][p-1],d=p;d<=r;d++)o[d][i]+=l*n[d]}}}function l(o,a,e,d,g){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,R=0,V=0,I=0,p=0,D=0,C=0,P=0,A=0,L,i,j,k,l,m,t,w,x,y,U,_,q,F,O;for(L=0;L<o;L++)for((L<n||L>f)&&(e[L]=g[L][L],a[L]=0),i=v(L-1,0);i<o;i++)V+=u(g[L][i]);for(;h>=n;){for(k=h;k>n&&(C=u(g[k-1][k-1])+u(g[k][k]),0===C&&(C=V),!(u(g[k][k-1])<b*C));)k--;if(k===h)g[h][h]+=R,e[h]=g[h][h],a[h]=0,h--,A=0;else if(k===h-1){if(t=g[h][h-1]*g[h-1][h],I=(g[h-1][h-1]-g[h][h])/2,p=I*I+t,P=S(u(p)),g[h][h]+=R,g[h-1][h-1]=g[h-1][h-1]+R,w=g[h][h],0<=p){for(P=0<=I?I+P:I-P,e[h-1]=w+P,e[h]=e[h-1],0!==P&&(e[h]=w-t/P),a[h-1]=0,a[h]=0,w=g[h][h-1],C=u(w)+u(P),I=w/C,p=P/C,D=S(I*I+p*p),I/=D,p/=D,i=h-1;i<o;i++)P=g[h-1][i],g[h-1][i]=p*P+I*g[h][i],g[h][i]=p*g[h][i]-I*P;for(L=0;L<=h;L++)P=g[L][h-1],g[L][h-1]=p*P+I*g[L][h],g[L][h]=p*g[L][h]-I*P;for(L=n;L<=f;L++)P=d[L][h-1],d[L][h-1]=p*P+I*d[L][h],d[L][h]=p*d[L][h]-I*P}else e[h-1]=w+I,e[h]=w+I,a[h-1]=P,a[h]=-P;h-=2,A=0}else{if(w=g[h][h],x=0,t=0,k<h&&(x=g[h-1][h-1],t=g[h][h-1]*g[h-1][h]),10==A){for(R+=w,L=n;L<=h;L++)g[L][L]-=w;C=u(g[h][h-1])+u(g[h-1][h-2]),w=x=0.75*C,t=-0.4375*C*C}if(30==A&&(C=(x-w)/2,C=C*C+t,0<C)){for(C=S(C),x<w&&(C=-C),C=w-t/((x-w)/2+C),L=n;L<=h;L++)g[L][L]-=C;R+=C,w=x=t=0.964}for(++A,l=h-2;l>=k&&(P=g[l][l],D=w-P,C=x-P,I=(D*C-t)/g[l+1][l]+g[l][l+1],p=g[l+1][l+1]-P-D-C,D=g[l+2][l+1],C=u(I)+u(p)+u(D),I/=C,p/=C,D/=C,l!==k)&&!(u(g[l][l-1])*(u(p)+u(D))<b*(u(I)*(u(g[l-1][l-1])+u(P)+u(g[l+1][l+1]))));)l--;for(L=l+2;L<=h;L++)g[L][L-2]=0,L>l+2&&(g[L][L-3]=0);for(j=l;j<=h-1&&(F=j!==h-1,j!==l&&(I=g[j][j-1],p=g[j+1][j-1],D=F?g[j+2][j-1]:0,w=u(I)+u(p)+u(D),0!==w&&(I/=w,p/=w,D/=w)),0!==w);j++)if(C=S(I*I+p*p+D*D),0>I&&(C=-C),0!==C){for(j===l?k!==l&&(g[j][j-1]=-g[j][j-1]):g[j][j-1]=-C*w,I+=C,w=I/C,x=p/C,P=D/C,p/=I,D/=I,i=j;i<o;i++)I=g[j][i]+p*g[j+1][i],F&&(I+=D*g[j+2][i],g[j+2][i]=g[j+2][i]-I*P),g[j][i]-=I*w,g[j+1][i]=g[j+1][i]-I*x;for(L=0;L<=M(h,j+3);L++)I=w*g[L][j]+x*g[L][j+1],F&&(I+=P*g[L][j+2],g[L][j+2]=g[L][j+2]-I*D),g[L][j]-=I,g[L][j+1]=g[L][j+1]-I*p;for(L=n;L<=f;L++)I=w*d[L][j]+x*d[L][j+1],F&&(I+=P*d[L][j+2],d[L][j+2]=d[L][j+2]-I*D),d[L][j]-=I,d[L][j+1]=d[L][j+1]-I*p}}}if(0!==V){for(h=o-1;0<=h;h--)if(I=e[h],p=a[h],0===p)for(k=h,g[h][h]=1,L=h-1;0<=L;L--){for(t=g[L][L]-I,D=0,i=k;i<=h;i++)D+=g[L][i]*g[i][h];if(0>a[L])P=t,C=D;else if(k=L,0===a[L]?g[L][h]=0===t?-D/(b*V):-D/t:(w=g[L][L+1],x=g[L+1][L],p=(e[L]-I)*(e[L]-I)+a[L]*a[L],m=(w*C-P*D)/p,g[L][h]=m,g[L+1][h]=u(w)>u(P)?(-D-t*m)/w:(-C-x*m)/P),m=u(g[L][h]),1<b*m*m)for(i=L;i<=h;i++)g[i][h]/=m}else if(0>p)for(k=h-1,u(g[h][h-1])>u(g[h-1][h])?(g[h-1][h-1]=p/g[h][h-1],g[h-1][h]=-(g[h][h]-I)/g[h][h-1]):(O=c(0,-g[h-1][h],g[h-1][h-1]-I,p),g[h-1][h-1]=O[0],g[h-1][h]=O[1]),g[h][h-1]=0,g[h][h]=1,L=h-2;0<=L;L--){for(y=0,U=0,i=k;i<=h;i++)y+=g[L][i]*g[i][h-1],U+=g[L][i]*g[i][h];if(t=g[L][L]-I,0>a[L])P=t,D=y,C=U;else if(k=L,0===a[L]?(O=c(-y,-U,t,p),g[L][h-1]=O[0],g[L][h]=O[1]):(w=g[L][L+1],x=g[L+1][L],_=(e[L]-I)*(e[L]-I)+a[L]*a[L]-p*p,q=2*(e[L]-I)*p,0===_&&0===q&&(_=b*V*(u(t)+u(p)+u(w)+u(x)+u(P))),O=c(w*D-P*y+p*U,w*C-P*U-p*y,_,q),g[L][h-1]=O[0],g[L][h]=O[1],u(w)>u(P)+u(p)?(g[L+1][h-1]=(-y-t*g[L][h-1]+p*g[L][h])/w,g[L+1][h]=(-U-t*g[L][h]-p*g[L][h-1])/w):(O=c(-D-x*g[L][h-1],-C-x*g[L][h],P,p),g[L+1][h-1]=O[0],g[L+1][h]=O[1])),m=v(u(g[L][h-1]),u(g[L][h])),1<b*m*m)for(i=L;i<=h;i++)g[i][h-1]=g[i][h-1]/m,g[i][h]/=m}for(L=0;L<o;L++)if(L<n||L>f)for(i=L;i<o;i++)d[L][i]=g[L][i];for(i=o-1;i>=n;i--)for(L=n;L<=f;L++){for(P=0,j=n;j<=M(i,f);j++)P+=d[L][j]*g[j][i];d[L][i]=P}}}function c(e,i,t,n){var o,s;return u(t)>u(n)?(o=n/t,s=t+o*n,[(e+o*i)/s,(i-o*e)/s]):(o=t/n,s=n+o*t,[(o*e+i)/s,(o*i-e)/s])}var m=t(5),x=t(30);const g={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.a.isMatrix(this.V)||(this.V=new m.a(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m.a(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}}},function(e,i,t){'use strict';i.a=function(e,i){return e=n.a.checkMatrix(e),i=n.a.checkMatrix(i),e.isSquare()?new o.a(e).solve(i):new s.a(e).solve(i)};var n=t(5),o=t(29),s=t(66)},function(e,i,t){'use strict';var n=t(5);t.d(i,'a',function(){return n.a});var o=t(28),s=t(205);t.d(i,'b',function(){return s.a});var r=t(67),a=t(204),l=t(203),c=t(29),m=t(66)},function(){Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,i,t){'use strict';var n=t(10);class o extends n.a{constructor(e,i){super(e,e.rows,1),this.column=i}set(e,i,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}i.a=o},function(e,i,t){'use strict';var n=t(10);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(e,this.columns-i-1,t),this}get(e,i){return this.matrix.get(e,this.columns-i-1)}}i.a=o},function(e,i,t){'use strict';var n=t(10);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(this.rows-e-1,i,t),this}get(e,i){return this.matrix.get(this.rows-e-1,i)}}i.a=o},function(e,i,t){'use strict';var n=t(10);class o extends n.a{constructor(e,i){super(e,1,e.columns),this.row=i}set(e,i,t){return this.matrix.set(this.row,i,t),this}get(e,i){return this.matrix.get(this.row,i)}}i.a=o},function(e,i,t){'use strict';var n=t(10),o=t(17);class s extends n.a{constructor(e,i,n){var s=t.i(o.i)(e,i,n);super(e,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(e,i,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[i],t),this}get(e,i){return this.matrix.get(this.rowIndices[e],this.columnIndices[i])}}i.a=s},function(e,i,t){'use strict';var n=t(10),o=t(17);class s extends n.a{constructor(e,i,n,s,r){t.i(o.h)(e,i,n,s,r),super(e,n-i+1,r-s+1),this.startRow=i,this.startColumn=s}set(e,i,t){return this.matrix.set(this.startRow+e,this.startColumn+i,t),this}get(e,i){return this.matrix.get(this.startRow+e,this.startColumn+i)}}i.a=s},function(e,i,t){'use strict';var n=t(10);class o extends n.a{constructor(e){super(e,e.columns,e.rows)}set(e,i,t){return this.matrix.set(i,e,t),this}get(e,i){return this.matrix.get(i,e)}}i.a=o},function(e,i,t){'use strict';function n(e,t,o){const r=t.length,n=Array(r),c=Array(r);for(let a=0;a<r;a++)n[a]=s(t[a]),c[a]=s(o[a]);const i=new a['default'](n,c);e.A=l(i.intercept),e.B=i.slope}Object.defineProperty(i,'__esModule',{value:!0});var o=t(14),a=t(34);class c extends o.a{constructor(e,i){super(),!0===e?(this.A=i.A,this.B=i.B):(t.i(o.b)(e,i),n(this,e,i))}_predict(e){return this.A*r(e,this.B)}toJSON(){return{name:'powerRegression',A:this.A,B:this.B}}toString(e){return'f(x) = '+t.i(o.c)(this.A,e)+' * x^'+t.i(o.c)(this.B,e)}toLaTeX(e){return 0<=this.B?'f(x) = '+t.i(o.c)(this.A,e)+'x^{'+t.i(o.c)(this.B,e)+'}':'f(x) = \\frac{'+t.i(o.c)(this.A,e)+'}{x^{'+t.i(o.c)(-this.B,e)+'}}'}static load(e){if('powerRegression'!==e.name)throw new TypeError('not a power regression model');return new c(!0,e)}}i['default']=c},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.a.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o.a(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var u=a[i],g=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*u[c];u[m]=p=(t[i][m]-p)/a[m][m],g+=p*p}for(g=t[i][i]-g,l&=0<g,a[i][i]=S(v(g,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=t(6);n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.a.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}}},function(e,i,t){'use strict';function o(c,u){if(u=Object.assign({},g,u),!(this instanceof o))return new o(c,u);if(c=m.a.checkMatrix(c),!c.isSquare())throw new Error('Matrix is not a square matrix');var p=c.columns,n=t.i(x.b)(p,p,0),h=Array(p),d=Array(p),e=c,k=!1,w,i;if(k=!!u.assumeSymmetric||c.isSymmetric(),k){for(w=0;w<p;w++)for(i=0;i<p;i++)n[w][i]=e.get(w,i);s(p,d,h,n),r(p,d,h,n)}else{var j=t.i(x.b)(p,p,0),f=Array(p);for(i=0;i<p;i++)for(w=0;w<p;w++)j[w][i]=e.get(w,i);a(p,j,f,n),l(p,d,h,n,j)}this.n=p,this.e=d,this.d=h,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,d;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(d=0,a=0,c=0;c<l;c++)d+=u(e[c]);if(0===d)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=d,a+=e[c]*e[c];for(s=e[l-1],r=S(a),0<s&&(r=-r),n[l]=d*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(o,n,e,a){var d,g,h,i,j,k,l,m,p,w,y,c,b,M,S,z,R;for(h=1;h<o;h++)n[h-1]=n[h];n[o-1]=0;var V=0,f=0,I=2.220446049250313e-16;for(k=0;k<o;k++){for(f=v(f,u(e[k])+u(n[k])),l=k;l<o&&!(u(n[l])<=I*f);)l++;if(l>k){R=0;do{for(++R,d=e[k],m=(e[k+1]-d)/(2*n[k]),p=t.i(x.a)(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),w=e[k+1],g=d-e[k],h=k+2;h<o;h++)e[h]-=g;for(V+=g,m=e[l],y=1,c=y,b=y,M=n[k+1],S=0,z=0,h=l-1;h>=k;h--)for(b=c,c=y,z=S,d=y*n[h],g=y*m,p=t.i(x.a)(m,n[h]),n[h+1]=S*p,S=n[h]/p,y=m/p,m=y*e[h]-S*d,e[h+1]=g+S*(y*d+S*e[h]),j=0;j<o;j++)g=a[j][h+1],a[j][h+1]=S*a[j][h]+y*g,a[j][h]=y*a[j][h]-S*g;m=-S*z*b*M*n[k]/w,n[k]=S*m,e[k]=y*m}while(u(n[k])>I*f)}e[k]+=V,n[k]=0}for(h=0;h<o-1;h++){for(j=h,m=e[h],i=h+1;i<o;i++)e[i]<m&&(j=i,m=e[i]);if(j!==h)for(e[j]=e[h],e[h]=m,i=0;i<o;i++)m=a[i][h],a[i][h]=a[i][j],a[i][j]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,d,i,p,m;for(p=s+1;p<=r-1;p++){for(m=0,d=p;d<=r;d++)m+=u(t[d][p-1]);if(0!==m){for(c=0,d=r;d>=p;d--)n[d]=t[d][p-1]/m,c+=n[d]*n[d];for(l=S(c),0<n[p]&&(l=-l),c-=n[p]*l,n[p]-=l,i=p;i<e;i++){for(a=0,d=r;d>=p;d--)a+=n[d]*t[d][i];for(a/=c,d=p;d<=r;d++)t[d][i]-=a*n[d]}for(d=0;d<=r;d++){for(a=0,i=r;i>=p;i--)a+=n[i]*t[d][i];for(a/=c,i=p;i<=r;i++)t[d][i]-=a*n[i]}n[p]=m*n[p],t[p][p-1]=m*l}}for(d=0;d<e;d++)for(i=0;i<e;i++)o[d][i]=d===i?1:0;for(p=r-1;p>=s+1;p--)if(0!==t[p][p-1]){for(d=p+1;d<=r;d++)n[d]=t[d][p-1];for(i=p;i<=r;i++){for(l=0,d=p;d<=r;d++)l+=n[d]*o[d][i];for(l=l/n[p]/t[p][p-1],d=p;d<=r;d++)o[d][i]+=l*n[d]}}}function l(o,a,e,d,g){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,R=0,V=0,I=0,p=0,D=0,C=0,P=0,A=0,L,i,j,k,l,m,t,w,x,y,U,_,q,F,O;for(L=0;L<o;L++)for((L<n||L>f)&&(e[L]=g[L][L],a[L]=0),i=v(L-1,0);i<o;i++)V+=u(g[L][i]);for(;h>=n;){for(k=h;k>n&&(C=u(g[k-1][k-1])+u(g[k][k]),0===C&&(C=V),!(u(g[k][k-1])<b*C));)k--;if(k===h)g[h][h]+=R,e[h]=g[h][h],a[h]=0,h--,A=0;else if(k===h-1){if(t=g[h][h-1]*g[h-1][h],I=(g[h-1][h-1]-g[h][h])/2,p=I*I+t,P=S(u(p)),g[h][h]+=R,g[h-1][h-1]=g[h-1][h-1]+R,w=g[h][h],0<=p){for(P=0<=I?I+P:I-P,e[h-1]=w+P,e[h]=e[h-1],0!==P&&(e[h]=w-t/P),a[h-1]=0,a[h]=0,w=g[h][h-1],C=u(w)+u(P),I=w/C,p=P/C,D=S(I*I+p*p),I/=D,p/=D,i=h-1;i<o;i++)P=g[h-1][i],g[h-1][i]=p*P+I*g[h][i],g[h][i]=p*g[h][i]-I*P;for(L=0;L<=h;L++)P=g[L][h-1],g[L][h-1]=p*P+I*g[L][h],g[L][h]=p*g[L][h]-I*P;for(L=n;L<=f;L++)P=d[L][h-1],d[L][h-1]=p*P+I*d[L][h],d[L][h]=p*d[L][h]-I*P}else e[h-1]=w+I,e[h]=w+I,a[h-1]=P,a[h]=-P;h-=2,A=0}else{if(w=g[h][h],x=0,t=0,k<h&&(x=g[h-1][h-1],t=g[h][h-1]*g[h-1][h]),10==A){for(R+=w,L=n;L<=h;L++)g[L][L]-=w;C=u(g[h][h-1])+u(g[h-1][h-2]),w=x=0.75*C,t=-0.4375*C*C}if(30==A&&(C=(x-w)/2,C=C*C+t,0<C)){for(C=S(C),x<w&&(C=-C),C=w-t/((x-w)/2+C),L=n;L<=h;L++)g[L][L]-=C;R+=C,w=x=t=0.964}for(++A,l=h-2;l>=k&&(P=g[l][l],D=w-P,C=x-P,I=(D*C-t)/g[l+1][l]+g[l][l+1],p=g[l+1][l+1]-P-D-C,D=g[l+2][l+1],C=u(I)+u(p)+u(D),I/=C,p/=C,D/=C,l!==k)&&!(u(g[l][l-1])*(u(p)+u(D))<b*(u(I)*(u(g[l-1][l-1])+u(P)+u(g[l+1][l+1]))));)l--;for(L=l+2;L<=h;L++)g[L][L-2]=0,L>l+2&&(g[L][L-3]=0);for(j=l;j<=h-1&&(F=j!==h-1,j!==l&&(I=g[j][j-1],p=g[j+1][j-1],D=F?g[j+2][j-1]:0,w=u(I)+u(p)+u(D),0!==w&&(I/=w,p/=w,D/=w)),0!==w);j++)if(C=S(I*I+p*p+D*D),0>I&&(C=-C),0!==C){for(j===l?k!==l&&(g[j][j-1]=-g[j][j-1]):g[j][j-1]=-C*w,I+=C,w=I/C,x=p/C,P=D/C,p/=I,D/=I,i=j;i<o;i++)I=g[j][i]+p*g[j+1][i],F&&(I+=D*g[j+2][i],g[j+2][i]=g[j+2][i]-I*P),g[j][i]-=I*w,g[j+1][i]=g[j+1][i]-I*x;for(L=0;L<=M(h,j+3);L++)I=w*g[L][j]+x*g[L][j+1],F&&(I+=P*g[L][j+2],g[L][j+2]=g[L][j+2]-I*D),g[L][j]-=I,g[L][j+1]=g[L][j+1]-I*p;for(L=n;L<=f;L++)I=w*d[L][j]+x*d[L][j+1],F&&(I+=P*d[L][j+2],d[L][j+2]=d[L][j+2]-I*D),d[L][j]-=I,d[L][j+1]=d[L][j+1]-I*p}}}if(0!==V){for(h=o-1;0<=h;h--)if(I=e[h],p=a[h],0===p)for(k=h,g[h][h]=1,L=h-1;0<=L;L--){for(t=g[L][L]-I,D=0,i=k;i<=h;i++)D+=g[L][i]*g[i][h];if(0>a[L])P=t,C=D;else if(k=L,0===a[L]?g[L][h]=0===t?-D/(b*V):-D/t:(w=g[L][L+1],x=g[L+1][L],p=(e[L]-I)*(e[L]-I)+a[L]*a[L],m=(w*C-P*D)/p,g[L][h]=m,g[L+1][h]=u(w)>u(P)?(-D-t*m)/w:(-C-x*m)/P),m=u(g[L][h]),1<b*m*m)for(i=L;i<=h;i++)g[i][h]/=m}else if(0>p)for(k=h-1,u(g[h][h-1])>u(g[h-1][h])?(g[h-1][h-1]=p/g[h][h-1],g[h-1][h]=-(g[h][h]-I)/g[h][h-1]):(O=c(0,-g[h-1][h],g[h-1][h-1]-I,p),g[h-1][h-1]=O[0],g[h-1][h]=O[1]),g[h][h-1]=0,g[h][h]=1,L=h-2;0<=L;L--){for(y=0,U=0,i=k;i<=h;i++)y+=g[L][i]*g[i][h-1],U+=g[L][i]*g[i][h];if(t=g[L][L]-I,0>a[L])P=t,D=y,C=U;else if(k=L,0===a[L]?(O=c(-y,-U,t,p),g[L][h-1]=O[0],g[L][h]=O[1]):(w=g[L][L+1],x=g[L+1][L],_=(e[L]-I)*(e[L]-I)+a[L]*a[L]-p*p,q=2*(e[L]-I)*p,0===_&&0===q&&(_=b*V*(u(t)+u(p)+u(w)+u(x)+u(P))),O=c(w*D-P*y+p*U,w*C-P*U-p*y,_,q),g[L][h-1]=O[0],g[L][h]=O[1],u(w)>u(P)+u(p)?(g[L+1][h-1]=(-y-t*g[L][h-1]+p*g[L][h])/w,g[L+1][h]=(-U-t*g[L][h]-p*g[L][h-1])/w):(O=c(-D-x*g[L][h-1],-C-x*g[L][h],P,p),g[L+1][h-1]=O[0],g[L+1][h]=O[1])),m=v(u(g[L][h-1]),u(g[L][h])),1<b*m*m)for(i=L;i<=h;i++)g[i][h-1]=g[i][h-1]/m,g[i][h]/=m}for(L=0;L<o;L++)if(L<n||L>f)for(i=L;i<o;i++)d[L][i]=g[L][i];for(i=o-1;i>=n;i--)for(L=n;L<=f;L++){for(P=0,j=n;j<=M(i,f);j++)P+=d[L][j]*g[j][i];d[L][i]=P}}}function c(e,i,t,n){var o,s;return u(t)>u(n)?(o=n/t,s=t+o*n,[(e+o*i)/s,(i-o*e)/s]):(o=t/n,s=n+o*t,[(o*e+i)/s,(o*i-e)/s])}var m=t(6),x=t(33);const g={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.a.isMatrix(this.V)||(this.V=new m.a(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m.a(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}}},function(e,i,t){'use strict';i.a=function(e,i){return e=n.a.checkMatrix(e),i=n.a.checkMatrix(i),e.isSquare()?new o.a(e).solve(i):new s.a(e).solve(i)};var n=t(6),o=t(32),s=t(69)},function(e,i,t){'use strict';var n=t(6),o=t(31),s=t(218);t.d(i,'a',function(){return s.a});var r=t(70),a=t(217),l=t(216),c=t(32),m=t(69)},function(){Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,i,t){'use strict';var n=t(11);class o extends n.a{constructor(e,i){super(e,e.rows,1),this.column=i}set(e,i,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}i.a=o},function(e,i,t){'use strict';var n=t(11);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(e,this.columns-i-1,t),this}get(e,i){return this.matrix.get(e,this.columns-i-1)}}i.a=o},function(e,i,t){'use strict';var n=t(11);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(this.rows-e-1,i,t),this}get(e,i){return this.matrix.get(this.rows-e-1,i)}}i.a=o},function(e,i,t){'use strict';var n=t(11);class o extends n.a{constructor(e,i){super(e,1,e.columns),this.row=i}set(e,i,t){return this.matrix.set(this.row,i,t),this}get(e,i){return this.matrix.get(this.row,i)}}i.a=o},function(e,i,t){'use strict';var n=t(11),o=t(18);class s extends n.a{constructor(e,i,n){var s=t.i(o.i)(e,i,n);super(e,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(e,i,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[i],t),this}get(e,i){return this.matrix.get(this.rowIndices[e],this.columnIndices[i])}}i.a=s},function(e,i,t){'use strict';var n=t(11),o=t(18);class s extends n.a{constructor(e,i,n,s,r){t.i(o.h)(e,i,n,s,r),super(e,n-i+1,r-s+1),this.startRow=i,this.startColumn=s}set(e,i,t){return this.matrix.set(this.startRow+e,this.startColumn+i,t),this}get(e,i){return this.matrix.get(this.startRow+e,this.startColumn+i)}}i.a=s},function(e,i,t){'use strict';var n=t(11);class o extends n.a{constructor(e){super(e,e.columns,e.rows)}set(e,i,t){return this.matrix.set(i,e,t),this}get(e,i){return this.matrix.get(i,e)}}i.a=o},function(e,i,t){'use strict';function n(e,t,n,r){let c=Array(r);for(let i=0;i<r;i++)c[i]=i;const m=o(t,n,r);for(var u=0,i;u<m.length;u++){for(var d=m[u],g=s(d,c),p=t.slice(),h=0;h<t.length;h++)p[h]=n[h]-a(t[h],c,g),p[h]={residual:p[h]*p[h],coefficients:g};var j=l(p);(!i||j.residual<i.residual)&&(i=j)}e.degree=r,e.powers=c,e.coefficients=i.coefficients}function o(e,t,n){for(var o=c(e.length/n),s=Array(o),r=0;r<e.length;r++){for(var i=c(Math.random()*o),a=0;a<e.length;)if(!s[i]){s[i]=[{x:e[r],y:t[r]}];break}else if(s[i].length<n){s[i].push({x:e[r],y:t[r]});break}else a++,i=(i+1)%o;if(a===e.length)return s}return s}function s(e,n){for(var o=e.slice(),s=e.slice(),a=0;a<o.length;a++){s[a]=[e[a].y],o[a]=Array(n.length);for(var i=0;i<n.length;i++)o[a][i]=r(e[a].x,n[i])}return t.i(u.a)(o,s).to1DArray()}function a(e,i,t){let n=0;for(let o=0;o<i.length;o++)n+=t[o]*r(e,i[o]);return n}function l(e){e.sort((e,i)=>e.residual-i.residual);var i=e.length,t=c(i/2);return 0==i%2?e[t-1]:e[t]}Object.defineProperty(i,'__esModule',{value:!0});var m=t(14),u=t(219);class d extends m.a{constructor(e,i,o){super(),!0===e?(this.degree=i.degree,this.powers=i.powers,this.coefficients=i.coefficients):(t.i(m.b)(e,i),n(this,e,i,o))}toJSON(){return{name:'robustPolynomialRegression',degree:this.degree,powers:this.powers,coefficients:this.coefficients}}_predict(e){return a(e,this.powers,this.coefficients)}toString(e){return this._toFormula(e,!1)}toLaTeX(e){return this._toFormula(e,!0)}_toFormula(e,i){let n='^',o='',s=' * ';i&&(n='^{',o='}',s='');let r='',a='';for(let l=0;l<this.coefficients.length;l++)a='',0!==this.coefficients[l]&&(a=0===this.powers[l]?t.i(m.c)(this.coefficients[l],e):1===this.powers[l]?t.i(m.c)(this.coefficients[l],e)+s+'x':t.i(m.c)(this.coefficients[l],e)+s+'x'+n+this.powers[l]+o,0<this.coefficients[l]&&l!==this.coefficients.length-1?a=' + '+a:l!==this.coefficients.length-1&&(a=' '+a)),r=a+r;return'+'===r.charAt(0)&&(r=r.slice(1)),'f(x) = '+r}static load(e){if('robustPolynomialRegression'!==e.name)throw new TypeError('not a RobustPolynomialRegression model');return new d(!0,e)}}i['default']=d},function(e,i,t){'use strict';function n(e,t,n){let o=t.length,s=Array(o*o),r=0;for(let a=0;a<o;++a)for(let e=a+1;e<o;++e)t[a]!==t[e]&&(s[r++]=(n[e]-n[a])/(t[e]-t[a]));s.length=r;let l=a(s),c=Array(o);for(let s=0;s<o;++s)c[s]=n[s]-l*t[s];e.slope=l,e.intercept=a(c),e.coefficients=[e.intercept,e.slope]}Object.defineProperty(i,'__esModule',{value:!0});var o=t(14),s=t(2),r=t.n(s);const a=s.array.median;class l extends o.a{constructor(e,i){super(),!0===e?(this.slope=i.slope,this.intercept=i.intercept,this.coefficients=i.coefficients):(t.i(o.b)(e,i),n(this,e,i))}toJSON(){return{name:'TheilSenRegression',slope:this.slope,intercept:this.intercept}}_predict(e){return this.slope*e+this.intercept}computeX(e){return(e-this.intercept)/this.slope}toString(e){var i='f(x) = ';if(this.slope){var n=t.i(o.c)(this.slope,e);if(i+=(1e-5>u(n-1)?'':n+' * ')+'x',this.intercept){var s=u(this.intercept),r=s===this.intercept?'+':'-';i+=' '+r+' '+t.i(o.c)(s,e)}}else i+=t.i(o.c)(this.intercept,e);return i}toLaTeX(e){return this.toString(e)}static load(e){if('TheilSenRegression'!==e.name)throw new TypeError('not a Theil-Sen model');return new l(!0,e)}}i['default']=l},function(e,i,t){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.a.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o.a(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var u=a[i],g=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*u[c];u[m]=p=(t[i][m]-p)/a[m][m],g+=p*p}for(g=t[i][i]-g,l&=0<g,a[i][i]=S(v(g,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=t(7);n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.a.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},i.a=n},function(e,i,t){'use strict';function o(c,u){if(u=Object.assign({},g,u),!(this instanceof o))return new o(c,u);if(c=m.a.checkMatrix(c),!c.isSquare())throw new Error('Matrix is not a square matrix');var p=c.columns,n=t.i(x.b)(p,p,0),h=Array(p),d=Array(p),e=c,k=!1,w,i;if(k=!!u.assumeSymmetric||c.isSymmetric(),k){for(w=0;w<p;w++)for(i=0;i<p;i++)n[w][i]=e.get(w,i);s(p,d,h,n),r(p,d,h,n)}else{var j=t.i(x.b)(p,p,0),f=Array(p);for(i=0;i<p;i++)for(w=0;w<p;w++)j[w][i]=e.get(w,i);a(p,j,f,n),l(p,d,h,n,j)}this.n=p,this.e=d,this.d=h,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,d;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(d=0,a=0,c=0;c<l;c++)d+=u(e[c]);if(0===d)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=d,a+=e[c]*e[c];for(s=e[l-1],r=S(a),0<s&&(r=-r),n[l]=d*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(o,n,e,a){var d,g,h,i,j,k,l,m,p,w,y,c,b,M,S,z,R;for(h=1;h<o;h++)n[h-1]=n[h];n[o-1]=0;var V=0,f=0,I=2.220446049250313e-16;for(k=0;k<o;k++){for(f=v(f,u(e[k])+u(n[k])),l=k;l<o&&!(u(n[l])<=I*f);)l++;if(l>k){R=0;do{for(++R,d=e[k],m=(e[k+1]-d)/(2*n[k]),p=t.i(x.a)(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),w=e[k+1],g=d-e[k],h=k+2;h<o;h++)e[h]-=g;for(V+=g,m=e[l],y=1,c=y,b=y,M=n[k+1],S=0,z=0,h=l-1;h>=k;h--)for(b=c,c=y,z=S,d=y*n[h],g=y*m,p=t.i(x.a)(m,n[h]),n[h+1]=S*p,S=n[h]/p,y=m/p,m=y*e[h]-S*d,e[h+1]=g+S*(y*d+S*e[h]),j=0;j<o;j++)g=a[j][h+1],a[j][h+1]=S*a[j][h]+y*g,a[j][h]=y*a[j][h]-S*g;m=-S*z*b*M*n[k]/w,n[k]=S*m,e[k]=y*m}while(u(n[k])>I*f)}e[k]+=V,n[k]=0}for(h=0;h<o-1;h++){for(j=h,m=e[h],i=h+1;i<o;i++)e[i]<m&&(j=i,m=e[i]);if(j!==h)for(e[j]=e[h],e[h]=m,i=0;i<o;i++)m=a[i][h],a[i][h]=a[i][j],a[i][j]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,d,i,p,m;for(p=s+1;p<=r-1;p++){for(m=0,d=p;d<=r;d++)m+=u(t[d][p-1]);if(0!==m){for(c=0,d=r;d>=p;d--)n[d]=t[d][p-1]/m,c+=n[d]*n[d];for(l=S(c),0<n[p]&&(l=-l),c-=n[p]*l,n[p]-=l,i=p;i<e;i++){for(a=0,d=r;d>=p;d--)a+=n[d]*t[d][i];for(a/=c,d=p;d<=r;d++)t[d][i]-=a*n[d]}for(d=0;d<=r;d++){for(a=0,i=r;i>=p;i--)a+=n[i]*t[d][i];for(a/=c,i=p;i<=r;i++)t[d][i]-=a*n[i]}n[p]=m*n[p],t[p][p-1]=m*l}}for(d=0;d<e;d++)for(i=0;i<e;i++)o[d][i]=d===i?1:0;for(p=r-1;p>=s+1;p--)if(0!==t[p][p-1]){for(d=p+1;d<=r;d++)n[d]=t[d][p-1];for(i=p;i<=r;i++){for(l=0,d=p;d<=r;d++)l+=n[d]*o[d][i];for(l=l/n[p]/t[p][p-1],d=p;d<=r;d++)o[d][i]+=l*n[d]}}}function l(o,a,e,d,g){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,R=0,V=0,I=0,p=0,D=0,C=0,P=0,A=0,L,i,j,k,l,m,t,w,x,y,U,_,q,F,O;for(L=0;L<o;L++)for((L<n||L>f)&&(e[L]=g[L][L],a[L]=0),i=v(L-1,0);i<o;i++)V+=u(g[L][i]);for(;h>=n;){for(k=h;k>n&&(C=u(g[k-1][k-1])+u(g[k][k]),0===C&&(C=V),!(u(g[k][k-1])<b*C));)k--;if(k===h)g[h][h]+=R,e[h]=g[h][h],a[h]=0,h--,A=0;else if(k===h-1){if(t=g[h][h-1]*g[h-1][h],I=(g[h-1][h-1]-g[h][h])/2,p=I*I+t,P=S(u(p)),g[h][h]+=R,g[h-1][h-1]=g[h-1][h-1]+R,w=g[h][h],0<=p){for(P=0<=I?I+P:I-P,e[h-1]=w+P,e[h]=e[h-1],0!==P&&(e[h]=w-t/P),a[h-1]=0,a[h]=0,w=g[h][h-1],C=u(w)+u(P),I=w/C,p=P/C,D=S(I*I+p*p),I/=D,p/=D,i=h-1;i<o;i++)P=g[h-1][i],g[h-1][i]=p*P+I*g[h][i],g[h][i]=p*g[h][i]-I*P;for(L=0;L<=h;L++)P=g[L][h-1],g[L][h-1]=p*P+I*g[L][h],g[L][h]=p*g[L][h]-I*P;for(L=n;L<=f;L++)P=d[L][h-1],d[L][h-1]=p*P+I*d[L][h],d[L][h]=p*d[L][h]-I*P}else e[h-1]=w+I,e[h]=w+I,a[h-1]=P,a[h]=-P;h-=2,A=0}else{if(w=g[h][h],x=0,t=0,k<h&&(x=g[h-1][h-1],t=g[h][h-1]*g[h-1][h]),10==A){for(R+=w,L=n;L<=h;L++)g[L][L]-=w;C=u(g[h][h-1])+u(g[h-1][h-2]),w=x=0.75*C,t=-0.4375*C*C}if(30==A&&(C=(x-w)/2,C=C*C+t,0<C)){for(C=S(C),x<w&&(C=-C),C=w-t/((x-w)/2+C),L=n;L<=h;L++)g[L][L]-=C;R+=C,w=x=t=0.964}for(++A,l=h-2;l>=k&&(P=g[l][l],D=w-P,C=x-P,I=(D*C-t)/g[l+1][l]+g[l][l+1],p=g[l+1][l+1]-P-D-C,D=g[l+2][l+1],C=u(I)+u(p)+u(D),I/=C,p/=C,D/=C,l!==k)&&!(u(g[l][l-1])*(u(p)+u(D))<b*(u(I)*(u(g[l-1][l-1])+u(P)+u(g[l+1][l+1]))));)l--;for(L=l+2;L<=h;L++)g[L][L-2]=0,L>l+2&&(g[L][L-3]=0);for(j=l;j<=h-1&&(F=j!==h-1,j!==l&&(I=g[j][j-1],p=g[j+1][j-1],D=F?g[j+2][j-1]:0,w=u(I)+u(p)+u(D),0!==w&&(I/=w,p/=w,D/=w)),0!==w);j++)if(C=S(I*I+p*p+D*D),0>I&&(C=-C),0!==C){for(j===l?k!==l&&(g[j][j-1]=-g[j][j-1]):g[j][j-1]=-C*w,I+=C,w=I/C,x=p/C,P=D/C,p/=I,D/=I,i=j;i<o;i++)I=g[j][i]+p*g[j+1][i],F&&(I+=D*g[j+2][i],g[j+2][i]=g[j+2][i]-I*P),g[j][i]-=I*w,g[j+1][i]=g[j+1][i]-I*x;for(L=0;L<=M(h,j+3);L++)I=w*g[L][j]+x*g[L][j+1],F&&(I+=P*g[L][j+2],g[L][j+2]=g[L][j+2]-I*D),g[L][j]-=I,g[L][j+1]=g[L][j+1]-I*p;for(L=n;L<=f;L++)I=w*d[L][j]+x*d[L][j+1],F&&(I+=P*d[L][j+2],d[L][j+2]=d[L][j+2]-I*D),d[L][j]-=I,d[L][j+1]=d[L][j+1]-I*p}}}if(0!==V){for(h=o-1;0<=h;h--)if(I=e[h],p=a[h],0===p)for(k=h,g[h][h]=1,L=h-1;0<=L;L--){for(t=g[L][L]-I,D=0,i=k;i<=h;i++)D+=g[L][i]*g[i][h];if(0>a[L])P=t,C=D;else if(k=L,0===a[L]?g[L][h]=0===t?-D/(b*V):-D/t:(w=g[L][L+1],x=g[L+1][L],p=(e[L]-I)*(e[L]-I)+a[L]*a[L],m=(w*C-P*D)/p,g[L][h]=m,g[L+1][h]=u(w)>u(P)?(-D-t*m)/w:(-C-x*m)/P),m=u(g[L][h]),1<b*m*m)for(i=L;i<=h;i++)g[i][h]/=m}else if(0>p)for(k=h-1,u(g[h][h-1])>u(g[h-1][h])?(g[h-1][h-1]=p/g[h][h-1],g[h-1][h]=-(g[h][h]-I)/g[h][h-1]):(O=c(0,-g[h-1][h],g[h-1][h-1]-I,p),g[h-1][h-1]=O[0],g[h-1][h]=O[1]),g[h][h-1]=0,g[h][h]=1,L=h-2;0<=L;L--){for(y=0,U=0,i=k;i<=h;i++)y+=g[L][i]*g[i][h-1],U+=g[L][i]*g[i][h];if(t=g[L][L]-I,0>a[L])P=t,D=y,C=U;else if(k=L,0===a[L]?(O=c(-y,-U,t,p),g[L][h-1]=O[0],g[L][h]=O[1]):(w=g[L][L+1],x=g[L+1][L],_=(e[L]-I)*(e[L]-I)+a[L]*a[L]-p*p,q=2*(e[L]-I)*p,0===_&&0===q&&(_=b*V*(u(t)+u(p)+u(w)+u(x)+u(P))),O=c(w*D-P*y+p*U,w*C-P*U-p*y,_,q),g[L][h-1]=O[0],g[L][h]=O[1],u(w)>u(P)+u(p)?(g[L+1][h-1]=(-y-t*g[L][h-1]+p*g[L][h])/w,g[L+1][h]=(-U-t*g[L][h]-p*g[L][h-1])/w):(O=c(-D-x*g[L][h-1],-C-x*g[L][h],P,p),g[L+1][h-1]=O[0],g[L+1][h]=O[1])),m=v(u(g[L][h-1]),u(g[L][h])),1<b*m*m)for(i=L;i<=h;i++)g[i][h-1]=g[i][h-1]/m,g[i][h]/=m}for(L=0;L<o;L++)if(L<n||L>f)for(i=L;i<o;i++)d[L][i]=g[L][i];for(i=o-1;i>=n;i--)for(L=n;L<=f;L++){for(P=0,j=n;j<=M(i,f);j++)P+=d[L][j]*g[j][i];d[L][i]=P}}}function c(e,i,t,n){var o,s;return u(t)>u(n)?(o=n/t,s=t+o*n,[(e+o*i)/s,(i-o*e)/s]):(o=t/n,s=n+o*t,[(o*e+i)/s,(o*i-e)/s])}var m=t(7),x=t(37);const g={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.a.isMatrix(this.V)||(this.V=new m.a(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m.a(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},i.a=o},function(e,i,t){'use strict';function n(e,i){return e=o.a.checkMatrix(e),i=o.a.checkMatrix(i),e.isSquare()?new s.a(e).solve(i):new r.a(e).solve(i)}i.b=function(e){return e=o.a.checkMatrix(e),n(e,o.a.eye(e.rows))},i.a=n;var o=t(7),s=t(36),r=t(71)},function(){Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,i,t){'use strict';var n=t(12);class o extends n.a{constructor(e,i){super(e,e.rows,1),this.column=i}set(e,i,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}i.a=o},function(e,i,t){'use strict';var n=t(12);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(e,this.columns-i-1,t),this}get(e,i){return this.matrix.get(e,this.columns-i-1)}}i.a=o},function(e,i,t){'use strict';var n=t(12);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,i,t){return this.matrix.set(this.rows-e-1,i,t),this}get(e,i){return this.matrix.get(this.rows-e-1,i)}}i.a=o},function(e,i,t){'use strict';var n=t(12);class o extends n.a{constructor(e,i){super(e,1,e.columns),this.row=i}set(e,i,t){return this.matrix.set(this.row,i,t),this}get(e,i){return this.matrix.get(this.row,i)}}i.a=o},function(e,i,t){'use strict';var n=t(12),o=t(19);class s extends n.a{constructor(e,i,n){var s=t.i(o.i)(e,i,n);super(e,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(e,i,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[i],t),this}get(e,i){return this.matrix.get(this.rowIndices[e],this.columnIndices[i])}}i.a=s},function(e,i,t){'use strict';var n=t(12),o=t(19);class s extends n.a{constructor(e,i,n,s,r){t.i(o.h)(e,i,n,s,r),super(e,n-i+1,r-s+1),this.startRow=i,this.startColumn=s}set(e,i,t){return this.matrix.set(this.startRow+e,this.startColumn+i,t),this}get(e,i){return this.matrix.get(this.startRow+e,this.startColumn+i)}}i.a=s},function(e,i,t){'use strict';var n=t(12);class o extends n.a{constructor(e){super(e,e.columns,e.rows)}set(e,i,t){return this.matrix.set(i,e,t),this}get(e,i){return this.matrix.get(i,e)}}i.a=o},function(e,i,t){'use strict';const n=t(73),o=n.Matrix,s=n.solve,r=t(20),a=t(38),l={lambda:0.1,kernelType:'gaussian',kernelOptions:{},computeCoefficient:!1};class c extends a{constructor(e,i,t){if(super(),!0===e)this.alpha=i.alpha,this.inputs=i.inputs,this.kernelType=i.kernelType,this.kernelOptions=i.kernelOptions,this.kernel=new r(i.kernelType,i.kernelOptions),i.quality&&(this.quality=i.quality);else{t=Object.assign({},l,t);const a=new r(t.kernelType,t.kernelOptions),c=a.compute(e),m=e.length;c.add(o.eye(m,m).mul(t.lambda)),this.alpha=s(c,i),this.inputs=e,this.kernelType=t.kernelType,this.kernelOptions=t.kernelOptions,this.kernel=a,t.computeQuality&&(this.quality=this.modelQuality(e,i))}}_predict(e){return this.kernel.compute([e],this.inputs).mmul(this.alpha)[0]}toJSON(){var e={name:'kernelRidgeRegression',alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions};return this.quality&&(e.quality=this.quality),e}static load(e){if('kernelRidgeRegression'!==e.name)throw new TypeError('not a KRR model');return new c(!0,e)}}e.exports=c},function(e,i,t){'use strict';function n(e,t){for(var n=e.clone(),o=0;o<e.rows;++o)n[o][0]=r(n[o][0],t);return n}function o(e,i){this[e][i]=u(this[e][i])}const s=t(73),a=s.Matrix,l=s.SVD,c=t(38),m={order:2};class d extends c{constructor(e,i,t){super(),!0===e?(this.coefficients=a.columnVector(i.coefficients),this.order=i.order,i.r&&(this.r=i.r,this.r2=i.r2),i.chi2&&(this.chi2=i.chi2)):(t=Object.assign({},m,t),this.order=t.order,this.coefficients=[],this.X=e,this.y=i,this.train(this.X,this.y,t),t.computeQuality&&(this.quality=this.modelQuality(e,i)))}train(e,t){if(a.isMatrix(e)||(e=new a(e)),a.isMatrix(t)||(t=a.columnVector(t)),t.rows!==e.rows&&(t=t.transpose()),2!==e.columns)throw new RangeError('You give X with '+e.columns+' columns and it must be 2');if(e.rows!==t.rows)throw new RangeError('X and y must have the same rows');var s=e.rows,c=(this.order+2)*(this.order+1)/2;this.coefficients=Array(c);var m=e.getColumnVector(0),u=e.getColumnVector(1),d=1/m.clone().apply(o).max(),g=1/u.clone().apply(o).max(),p=1/t.clone().apply(o).max();m.mulColumn(0,d),u.mulColumn(0,g),t.mulColumn(0,p);for(var h=new a(s,c),k=0,x=0,i;x<=this.order;++x){i=this.order-x;for(var w=0,j;w<=i;++w)j=n(m,x).mulColumnVector(n(u,w)),h.setColumn(k,j),k++}var f=new l(h.transpose(),{computeLeftSingularVectors:!0,computeRightSingularVectors:!0,autoTranspose:!1}),y=a.rowVector(f.diagonal);y=y.apply(function(e,i){this[e][i]=1e-15<=this[e][i]?1/this[e][i]:0});var b=a.zeros(s,c);for(x=0;x<c;++x)b[x][x]=y[0][x];y=b;var v=f.rightSingularVectors,M=f.leftSingularVectors;for(this.coefficients=M.mmul(y.transpose()).mmul(v.transpose()).mmul(t),k=0,x=0;x<=c;++x)for(i=this.order-x,w=0;w<=i;++w)this.coefficients[k][0]=this.coefficients[k][0]*r(d,x)*r(g,w)/p,k++}_predict(e){for(var t=e[0],n=e[1],o=0,s=0,a=0;a<=this.order;a++)for(var i=0;i<=this.order-a;i++)o+=r(t,a)*r(n,i)*this.coefficients[s][0],s++;return o}toJSON(){var e={name:'polyfit2D',order:this.order,coefficients:this.coefficients};return this.quality&&(e.quality=this.quality),e}static load(e){if('polyfit2D'!==e.name)throw new TypeError('not a polyfit2D model');return new d(!0,e)}}e.exports=d},function(e,i,t){'use strict';const n=t(244).maybeToPrecision,o=t(68),s=t(38);class a extends s{constructor(e,i,t,s){super();if(!0===e)this.A=i.A,this.M=i.M,i.quality&&(this.quality=i.quality);else{var r=e.length;if(r!==i.length)throw new RangeError('input and output array have a different length');var n=new o(e,i,[t]);this.A=n.coefficients[0],this.M=t,(s||{}).computeQuality&&(this.quality=this.modelQuality(e,i))}}_predict(e){return this.A*r(e,this.M)}toJSON(){var e={name:'potentialRegression',A:this.A,M:this.M};return this.quality&&(e.quality=this.quality),e}toString(e){return'f(x) = '+n(this.A,e)+' * x^'+this.M}toLaTeX(e){return 0<=this.M?'f(x) = '+n(this.A,e)+'x^{'+this.M+'}':'f(x) = \\frac{'+n(this.A,e)+'}{x^{'+-this.M+'}}'}static load(e){if('potentialRegression'!==e.name)throw new TypeError('not a potential regression model');return new a(!0,e)}}e.exports=a},function(e,i){'use strict';i.maybeToPrecision=function(e,i){return 0>e?(e=-1*e,i?'- '+e.toPrecision(i):'- '+e.toString()):i?e.toPrecision(i):e.toString()}},function(e,i,t){'use strict';i.array=t(74),i.matrix=t(246)},function(e,i,t){'use strict';function o(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,a,i;if(-1===t){for(s=[0],r=n*o,a=0;a<n;a++)for(i=0;i<o;i++)s[0]+=e[a][i];s[0]/=r}else if(0===t)for(s=Array(o),r=n,i=0;i<o;i++){for(s[i]=0,a=0;a<n;a++)s[i]+=e[a][i];s[i]/=r}else if(1===t)for(s=Array(n),r=o,i=0;i<n;i++){for(s[i]=0,a=0;a<o;a++)s[i]+=e[i][a];s[i]/=r}else throw new Error('Invalid dimension');return s}function n(e,t,n){for(var o=a(e,t,n),s=o.length,r=0;r<s;r++)o[r]=S(o[r]);return o}function a(e,t,n){'undefined'==typeof n&&(n=!0),t=t||o(e);var s=e.length;if(0===s)return[];for(var r=e[0].length,a=Array(r),l=0;l<r;l++){for(var c=0,m=0,u=0,d=0;d<s;d++)u=e[d][l]-t[l],c+=u,m+=u*u;a[l]=n?(m-c*c/s)/(s-1):(m-c*c/s)/s}return a}function l(e,t,n){'undefined'==typeof n&&(n=0),'undefined'==typeof t&&(0===n?t=e.length-1:1===n&&(t=e[0].length-1));var r=o(e,n),a=e.length;if(0===a)return[[]];var l=e[0].length,c,m,i,u,s;if(0===n){for(c=Array(l),m=0;m<l;m++)c[m]=Array(l);for(m=0;m<l;m++)for(i=m;i<l;i++){for(u=0,s=0;s<a;s++)u+=(e[s][i]-r[i])*(e[s][m]-r[m]);u/=t,c[m][i]=u,c[i][m]=u}}else if(1===n){for(c=Array(a),m=0;m<a;m++)c[m]=Array(a);for(m=0;m<a;m++)for(i=m;i<a;i++){for(u=0,s=0;s<l;s++)u+=(e[i][s]-r[i])*(e[m][s]-r[m]);u/=t,c[m][i]=u,c[i][m]=u}}else throw new Error('Invalid dimension');return c}function m(e,i,t){return i=i||o(e),'undefined'==typeof t&&(t=n(e,!0,i)),d(u(e,i,!1),t,!0)}function u(e,t,n){t=t||o(e);var s=e,r=e.length,a,i,l;if(!n)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a];for(i=0,l=c.length;i<l;i++)c[i]=e[a][i]-t[i]}return s}function d(e,t,o){'undefined'==typeof t&&(t=n(e));var s=e,r=e.length,a,i,l;if(!o)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a],m=e[a];for(i=0,l=c.length;i<l;i++)0===t[i]||isNaN(t[i])||(c[i]=m[i]/t[i])}return s}function g(e,t,n){'undefined'==typeof n&&(n=0);var o=e.length;if(0===o)return[];var s=e[0].length,r,a,i,l,c,m;if(0===n){for(r=Array(s),a=0;a<s;a++)r[a]=0;for(a=0;a<o;a++)for(m=e[a],c=t[a],l=0;l<s;l++)r[l]+=m[l]*c}else if(1===n){for(r=Array(o),a=0;a<o;a++)r[a]=0;for(l=0;l<o;l++)for(m=e[l],c=t[l],a=0;a<s;a++)r[l]+=m[a]*c}else throw new Error('Invalid dimension');var u=h.sum(t);if(0!==u)for(a=0,i=r.length;a<i;a++)r[a]/=u;return r}function p(e,t,n,o,r){r=r||0,n=n||g(e,t,r),'undefined'==typeof o&&(o=1);var a=e.length;if(0===a)return[[]];var l=e[0].length,c,m,i,u,d;if(0===r){for(c=Array(l),m=0;m<l;m++)c[m]=Array(l);for(m=0;m<l;m++)for(i=m;i<l;i++){for(d=0,u=0;u<a;u++)d+=t[u]*(e[u][i]-n[i])*(e[u][m]-n[m]);c[m][i]=d*o,c[i][m]=d*o}}else if(1===r){for(c=Array(a),m=0;m<a;m++)c[m]=Array(a);for(m=0;m<a;m++)for(i=m;i<a;i++){for(d=0,u=0;u<l;u++)d+=t[u]*(e[i][u]-n[i])*(e[m][u]-n[m]);c[m][i]=d*o,c[i][m]=d*o}}else throw new Error('Invalid dimension');return c}var h=t(74);e.exports={entropy:function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=e[0].length,a=0;a<o;a++)for(var i=0;i<r;i++)n+=e[a][i]*s(e[a][i]+t);return-n},mean:o,standardDeviation:n,variance:a,median:function(e){for(var t=e.length,n=e[0].length,o=Array(n),s=0,i;s<n;s++){i=Array(t);for(var r=0;r<t;r++)i[r]=e[r][s];i.sort();var a=i.length;o[s]=0==a%2?0.5*(i[a/2]+i[a/2-1]):i[c(a/2)]}return o},mode:function(e){var t=e.length,n=e[0].length,o=Array(n),s,i;for(s=0;s<n;s++){for(var r=Array(t),a=0;a<t;a++)r[a]=0;var l=Array(t),c=0;for(i=0;i<t;i++){var m=l.indexOf(e[i][s]);0<=m?r[m]++:(l[c]=e[i][s],r[c]=1,c++)}var u=0,d=0;for(i=0;i<c;i++)r[i]>u&&(u=r[i],d=i);o[s]=l[d]}return o},skewness:function(e,t){'undefined'==typeof t&&(t=!0);for(var s=o(e),c=e.length,n=s.length,l=Array(n),m=0;m<n;m++){for(var u=0,d=0,p=0,i;p<c;p++)i=e[p][m]-s[m],u+=i*i,d+=i*i*i;var h=u/c,j=d/c,k=j/r(h,3/2);if(t){var g=S(c*(c-1));l[m]=g/(c-2)*k}else l[m]=k}return l},kurtosis:function(e,t){'undefined'==typeof t&&(t=!0);for(var s=o(e),r=e.length,n=e[0].length,a=Array(n),l=0;l<n;l++){for(var c=0,m=0,u=0,i;u<r;u++)i=e[u][l]-s[l],c+=i*i,m+=i*i*i*i;var d=c/r,g=m/r;if(t){var p=c/(r-1),h=m/(p*p);a[l]=r*(r+1)/((r-1)*(r-2)*(r-3))*h-3*((r-1)*(r-1)/((r-2)*(r-3)))}else a[l]=g/(d*d)-3}return a},standardError:function(e){for(var t=e.length,o=n(e),s=o.length,r=Array(s),a=S(t),l=0;l<s;l++)r[l]=o[l]/a;return r},covariance:function(e,i){return l(e,void 0,i)},scatter:l,correlation:function(e){var t=o(e),s=n(e,!0,t),r=m(e,t,s),a=e.length,u=e[0].length,d=Array(u),g,i;for(g=0;g<u;g++)d[g]=Array(u);for(g=0;g<u;g++)for(i=g;i<u;i++){for(var p=0,c=0,h=r.length;c<h;c++)p+=r[c][i]*r[c][g];p/=a-1,d[g][i]=p,d[i][g]=p}return d},zScores:m,center:u,standardize:d,weightedVariance:function(e,t){var n=o(e),s=e.length;if(0===s)return[];for(var r=e[0].length,l=Array(r),c=0;c<r;c++){for(var m=0,u=0,a=0,d=0;d<s;d++){var i=e[d][c]-n[c],g=t[d];m+=g*(i*i),a+=g,u+=g*g}l[c]=m*(a/(a*a-u))}return l},weightedMean:g,weightedCovariance:function(e,t,n,o){o=o||0,n=n||g(e,t,o);for(var s=0,r=0,a=0,i=t.length;a<i;a++)s+=t[a],r+=t[a]*t[a];var l=s/(s*s-r);return p(e,t,n,l,o)},weightedScatter:p}},function(e,i,t){function n(e,i,t,n){o.call(this,e,i,t,n),this.hX=e-c(i/2),this.z=0-this.hX-i}var o=t(75);n.prototype=new o,n.prototype.constructor=n,n.prototype.getDistance=function(e){return v(u(this.hX-e.hX),u(this.y-e.y),u(this.z-e.z))},n.prototype.getDistanceTorus=function(e){var i=u(this.hX-e.hX),t=u(this.y-e.y),n=u(this.z-e.z);return v(M(i,this.som.gridDim.x-i),M(t,this.som.gridDim.y-t),M(n,this.som.gridDim.z-n))},n.prototype.getPosition=function(){throw new Error('Unimplemented : cannot get position of the points for hexagonal grid')},e.exports=n},function(e,t,i){'use strict';function n(e,i){return e-i}var o=i(76);t.max=function(e){for(var t=-Infinity,n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i]>t&&(t=e[n][i]);return t},t.min=function(e){for(var t=Infinity,n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i]<t&&(t=e[n][i]);return t},t.minMax=function(e){for(var t=Infinity,n=-Infinity,o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)e[o][i]<t&&(t=e[o][i]),e[o][i]>n&&(n=e[o][i]);return{min:t,max:n}},t.entropy=function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=e[0].length,a=0;a<o;a++)for(var i=0;i<r;i++)n+=e[a][i]*s(e[a][i]+t);return-n},t.mean=function(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,a,i;if(-1===t){for(s=[0],r=n*o,a=0;a<n;a++)for(i=0;i<o;i++)s[0]+=e[a][i];s[0]/=r}else if(0===t)for(s=Array(o),r=n,i=0;i<o;i++){for(s[i]=0,a=0;a<n;a++)s[i]+=e[a][i];s[i]/=r}else if(1===t)for(s=Array(n),r=o,i=0;i<n;i++){for(s[i]=0,a=0;a<o;a++)s[i]+=e[i][a];s[i]/=r}else throw new Error('Invalid dimension');return s},t.sum=function(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,i;if(-1===t)for(s=[0],r=0;r<n;r++)for(i=0;i<o;i++)s[0]+=e[r][i];else if(0===t)for(s=Array(o),i=0;i<o;i++)for(s[i]=0,r=0;r<n;r++)s[i]+=e[r][i];else if(1===t)for(s=Array(n),i=0;i<n;i++)for(s[i]=0,r=0;r<o;r++)s[i]+=e[i][r];else throw new Error('Invalid dimension');return s},t.product=function(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,i;if(-1===t)for(s=[1],r=0;r<n;r++)for(i=0;i<o;i++)s[0]*=e[r][i];else if(0===t)for(s=Array(o),i=0;i<o;i++)for(s[i]=1,r=0;r<n;r++)s[i]*=e[r][i];else if(1===t)for(s=Array(n),i=0;i<n;i++)for(s[i]=1,r=0;r<o;r++)s[i]*=e[i][r];else throw new Error('Invalid dimension');return s},t.standardDeviation=function(e,n,o){for(var s=t.variance(e,n,o),r=s.length,a=0;a<r;a++)s[a]=S(s[a]);return s},t.variance=function(e,n,o){'undefined'==typeof o&&(o=!0),n=n||t.mean(e);var s=e.length;if(0===s)return[];for(var r=e[0].length,a=Array(r),l=0;l<r;l++){for(var c=0,m=0,u=0,d=0;d<s;d++)u=e[d][l]-n[l],c+=u,m+=u*u;a[l]=o?(m-c*c/s)/(s-1):(m-c*c/s)/s}return a},t.median=function(e){for(var t=e.length,o=e[0].length,s=Array(o),r=0,i;r<o;r++){i=Array(t);for(var a=0;a<t;a++)i[a]=e[a][r];i.sort(n);var l=i.length;s[r]=0==l%2?0.5*(i[l/2]+i[l/2-1]):i[c(l/2)]}return s},t.mode=function(e){var t=e.length,n=e[0].length,o=Array(n),s,i;for(s=0;s<n;s++){for(var r=Array(t),a=0;a<t;a++)r[a]=0;var l=Array(t),c=0;for(i=0;i<t;i++){var m=l.indexOf(e[i][s]);0<=m?r[m]++:(l[c]=e[i][s],r[c]=1,c++)}var u=0,d=0;for(i=0;i<c;i++)r[i]>u&&(u=r[i],d=i);o[s]=l[d]}return o},t.skewness=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),c=e.length,n=s.length,l=Array(n),m=0;m<n;m++){for(var u=0,d=0,p=0,i;p<c;p++)i=e[p][m]-s[m],u+=i*i,d+=i*i*i;var h=u/c,j=d/c,k=j/r(h,3/2);if(o){var g=S(c*(c-1));l[m]=g/(c-2)*k}else l[m]=k}return l},t.kurtosis=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),r=e.length,n=e[0].length,a=Array(n),l=0;l<n;l++){for(var c=0,m=0,u=0,i;u<r;u++)i=e[u][l]-s[l],c+=i*i,m+=i*i*i*i;var d=c/r,g=m/r;if(o){var p=c/(r-1),h=m/(p*p);a[l]=r*(r+1)/((r-1)*(r-2)*(r-3))*h-3*((r-1)*(r-1)/((r-2)*(r-3)))}else a[l]=g/(d*d)-3}return a},t.standardError=function(e){for(var n=e.length,o=t.standardDeviation(e),s=o.length,r=Array(s),a=S(n),l=0;l<s;l++)r[l]=o[l]/a;return r},t.covariance=function(e,i){return t.scatter(e,void 0,i)},t.scatter=function(e,n,o){'undefined'==typeof o&&(o=0),'undefined'==typeof n&&(0===o?n=e.length-1:1===o&&(n=e[0].length-1));var r=t.mean(e,o),a=e.length;if(0===a)return[[]];var l=e[0].length,c,m,i,u,s;if(0===o){for(c=Array(l),m=0;m<l;m++)c[m]=Array(l);for(m=0;m<l;m++)for(i=m;i<l;i++){for(u=0,s=0;s<a;s++)u+=(e[s][i]-r[i])*(e[s][m]-r[m]);u/=n,c[m][i]=u,c[i][m]=u}}else if(1===o){for(c=Array(a),m=0;m<a;m++)c[m]=Array(a);for(m=0;m<a;m++)for(i=m;i<a;i++){for(u=0,s=0;s<l;s++)u+=(e[i][s]-r[i])*(e[m][s]-r[m]);u/=n,c[m][i]=u,c[i][m]=u}}else throw new Error('Invalid dimension');return c},t.correlation=function(e){var n=t.mean(e),o=t.standardDeviation(e,!0,n),s=t.zScores(e,n,o),r=e.length,a=e[0].length,m=Array(a),u,i;for(u=0;u<a;u++)m[u]=Array(a);for(u=0;u<a;u++)for(i=u;i<a;i++){for(var d=0,c=0,g=s.length;c<g;c++)d+=s[c][i]*s[c][u];d/=r-1,m[u][i]=d,m[i][u]=d}return m},t.zScores=function(e,i,n){return i=i||t.mean(e),'undefined'==typeof n&&(n=t.standardDeviation(e,!0,i)),t.standardize(t.center(e,i,!1),n,!0)},t.center=function(e,n,o){n=n||t.mean(e);var s=e,r=e.length,a,i,l;if(!o)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a];for(i=0,l=c.length;i<l;i++)c[i]=e[a][i]-n[i]}return s},t.standardize=function(e,n,o){'undefined'==typeof n&&(n=t.standardDeviation(e));var s=e,r=e.length,a,i,l;if(!o)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a],m=e[a];for(i=0,l=c.length;i<l;i++)0===n[i]||isNaN(n[i])||(c[i]=m[i]/n[i])}return s},t.weightedVariance=function(e,n){var o=t.mean(e),s=e.length;if(0===s)return[];for(var r=e[0].length,l=Array(r),c=0;c<r;c++){for(var m=0,u=0,a=0,d=0;d<s;d++){var i=e[d][c]-o[c],g=n[d];m+=g*(i*i),a+=g,u+=g*g}l[c]=m*(a/(a*a-u))}return l},t.weightedMean=function(e,t,n){'undefined'==typeof n&&(n=0);var s=e.length;if(0===s)return[];var r=e[0].length,a,l,i,c,m,u;if(0===n){for(a=Array(r),l=0;l<r;l++)a[l]=0;for(l=0;l<s;l++)for(u=e[l],m=t[l],c=0;c<r;c++)a[c]+=u[c]*m}else if(1===n){for(a=Array(s),l=0;l<s;l++)a[l]=0;for(c=0;c<s;c++)for(u=e[c],m=t[c],l=0;l<r;l++)a[c]+=u[l]*m}else throw new Error('Invalid dimension');var d=o.sum(t);if(0!==d)for(l=0,i=a.length;l<i;l++)a[l]/=d;return a},t.weightedCovariance=function(e,n,o,s){s=s||0,o=o||t.weightedMean(e,n,s);for(var r=0,a=0,l=0,i=n.length;l<i;l++)r+=n[l],a+=n[l]*n[l];var c=r/(r*r-a);return t.weightedScatter(e,n,o,c,s)},t.weightedScatter=function(e,n,o,r,a){a=a||0,o=o||t.weightedMean(e,n,a),'undefined'==typeof r&&(r=1);var l=e.length;if(0===l)return[[]];var c=e[0].length,m,u,i,d,g;if(0===a){for(m=Array(c),u=0;u<c;u++)m[u]=Array(c);for(u=0;u<c;u++)for(i=u;i<c;i++){for(g=0,d=0;d<l;d++)g+=n[d]*(e[d][i]-o[i])*(e[d][u]-o[u]);m[u][i]=g*r,m[i][u]=g*r}}else if(1===a){for(m=Array(l),u=0;u<l;u++)m[u]=Array(l);for(u=0;u<l;u++)for(i=u;i<l;i++){for(g=0,d=0;d<c;d++)g+=n[d]*(e[i][d]-o[i])*(e[u][d]-o[u]);m[u][i]=g*r,m[i][u]=g*r}}else throw new Error('Invalid dimension');return m}},function(e){'use strict';function t(e,n,o,s,r,a){if(r=r||0.16,a=a||0.01,!(s-o<r)){for(var l=0,c=0;e[c]<s;c++)e[c]>o&&(l+=n[c]);if(!(l<a)){for(var i=0,m=0;e[m]<s;m++)e[c]>o&&(i+=e[m]*n[m]);return i/=l,1e-5>i-o||1e-5>s-i?void 0:i-o<r/4?t(e,n,i,s,r,a):s-i<r/4?t(e,n,o,i,r,a):{sum:l,center:i,left:t(e,n,o,i,r,a),right:t(e,n,i,s,r,a)}}}}function i(e,t,n,o,s){if(e===void 0||t===void 0)return 0;var r=n*M(e.sum,t.sum)/v(e.sum,t.sum)+(1-n)*l(-s*u(e.center-t.center));return o*r+(1-o)*(i(e.left,t.left,n,o,s)+i(e.right,t.right,n,o,s))}var n={minWindow:0.16,threshold:0.01,alpha:0.1,beta:0.33,gamma:1e-3};e.exports={calc:function(e,s,r,a,l){for(var c in l=l||{},n)l.hasOwnProperty(c)||(l[c]=n[c]);var o,m;return o=e.sum?e:t(e.x,e.y,r,a,l.minWindow,l.threshold),m=s.sum?s:t(s.x,s.y,r,a,l.minWindow,l.threshold),i(o,m,l.alpha,l.beta,l.gamma)},createTree:t}},function(e){e.exports=function(e,t){e=e||0;for(var n=Array(e),o=0;o<e;o++)n[o]=t;return n}},function(e){'use strict';e.exports=Number.isNaN||function(e){return e!==e}},function(e){function i(){throw new Error('setTimeout has not been defined')}function t(){throw new Error('clearTimeout has not been defined')}function n(e){if(m===setTimeout)return setTimeout(e,0);if((m===i||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch(i){try{return m.call(null,e,0)}catch(i){return m.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===t||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(i){try{return u.call(null,e)}catch(i){return u.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?d=h.concat(d):p=-1,d.length&&r())}function r(){if(!g){var e=n(s);g=!0;for(var i=d.length;i;){for(h=d,d=[];++p<i;)h&&h[p].run();p=-1,i=d.length}h=null,g=!1,o(e)}}function a(e,i){this.fun=e,this.array=i}function l(){}var c=e.exports={},m,u;(function(){try{m='function'==typeof setTimeout?setTimeout:i}catch(t){m=i}try{u='function'==typeof clearTimeout?clearTimeout:t}catch(i){u=t}})();var d=[],g=!1,p=-1,h;c.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];d.push(new a(e,t)),1!==d.length||g||n(r)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title='browser',c.browser=!0,c.env={},c.argv=[],c.version='',c.versions={},c.on=l,c.addListener=l,c.once=l,c.off=l,c.removeListener=l,c.removeAllListeners=l,c.emit=l,c.prependListener=l,c.prependOnceListener=l,c.listeners=function(){return[]},c.binding=function(){throw new Error('process.binding is not supported')},c.cwd=function(){return'/'},c.chdir=function(){throw new Error('process.chdir is not supported')},c.umask=function(){return 0}},function(e){e.exports='function'==typeof Object.create?function(e,i){e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,i){e.super_=i;var t=function(){};t.prototype=i.prototype,e.prototype=new t,e.prototype.constructor=e}},function(e){e.exports=function(e){return e&&'object'==typeof e&&'function'==typeof e.copy&&'function'==typeof e.fill&&'function'==typeof e.readUInt8}},function(e,i,t){(function(e,n){function o(e,t){var n={seen:[],stylize:r};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),h(t)?n.showHidden=t:t&&i._extend(n,t),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),l(n,e,n.depth)}function s(e,i){var t=o.styles[i];return t?'\x1B['+o.colors[t][0]+'m'+e+'\x1B['+o.colors[t][1]+'m':e}function r(e){return e}function a(e){var i={};return e.forEach(function(e){i[e]=!0}),i}function l(e,t,o){if(e.customInspect&&t&&M(t.inspect)&&t.inspect!==i.inspect&&!(t.constructor&&t.constructor.prototype===t)){var s=t.inspect(o,e);return w(s)||(s=l(e,s,o)),s}var r=c(e,t);if(r)return r;var h=Object.keys(t),j=a(h);if(e.showHidden&&(h=Object.getOwnPropertyNames(t)),v(t)&&(0<=h.indexOf('message')||0<=h.indexOf('description')))return m(t);if(0===h.length){if(M(t)){var k=t.name?': '+t.name:'';return e.stylize('[Function'+k+']','special')}if(f(t))return e.stylize(RegExp.prototype.toString.call(t),'regexp');if(b(t))return e.stylize(Date.prototype.toString.call(t),'date');if(v(t))return m(t)}var x='',y=!1,S=['{','}'];if(p(t)&&(y=!0,S=['[',']']),M(t)){var z=t.name?': '+t.name:'';x=' [Function'+z+']'}if(f(t)&&(x=' '+RegExp.prototype.toString.call(t)),b(t)&&(x=' '+Date.prototype.toUTCString.call(t)),v(t)&&(x=' '+m(t)),0===h.length&&(!y||0==t.length))return S[0]+x+S[1];if(0>o)return f(t)?e.stylize(RegExp.prototype.toString.call(t),'regexp'):e.stylize('[Object]','special');e.seen.push(t);var n;return n=y?u(e,t,o,j,h):h.map(function(i){return d(e,t,o,j,i,y)}),e.seen.pop(),g(n,x,S)}function c(e,i){if(x(i))return e.stylize('undefined','undefined');if(w(i)){var t='\''+JSON.stringify(i).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return e.stylize(t,'string')}return k(i)?e.stylize(''+i,'number'):h(i)?e.stylize(''+i,'boolean'):j(i)?e.stylize('null','null'):void 0}function m(e){return'['+Error.prototype.toString.call(e)+']'}function u(e,t,n,o,s){for(var r=[],a=0,i=t.length;a<i;++a)V(t,a+'')?r.push(d(e,t,n,o,a+'',!0)):r.push('');return s.forEach(function(i){i.match(/^\d+$/)||r.push(d(e,t,n,o,i,!0))}),r}function d(e,i,t,n,o,s){var r,a,c;if(c=Object.getOwnPropertyDescriptor(i,o)||{value:i[o]},c.get?c.set?a=e.stylize('[Getter/Setter]','special'):a=e.stylize('[Getter]','special'):c.set&&(a=e.stylize('[Setter]','special')),V(n,o)||(r='['+o+']'),a||(0>e.seen.indexOf(c.value)?(a=j(t)?l(e,c.value,null):l(e,c.value,t-1),-1<a.indexOf('\n')&&(s?a=a.split('\n').map(function(e){return'  '+e}).join('\n').substr(2):a='\n'+a.split('\n').map(function(e){return'   '+e}).join('\n'))):a=e.stylize('[Circular]','special')),x(r)){if(s&&o.match(/^\d+$/))return a;r=JSON.stringify(''+o),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,'name')):(r=r.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),r=e.stylize(r,'string'))}return r+': '+a}function g(e,i,t){var n=0,o=e.reduce(function(e,i){return n++,0<=i.indexOf('\n')&&n++,e+i.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<o?t[0]+(''===i?'':i+'\n ')+' '+e.join(',\n  ')+' '+t[1]:t[0]+i+' '+e.join(', ')+' '+t[1]}function p(e){return Array.isArray(e)}function h(e){return'boolean'==typeof e}function j(e){return null===e}function k(e){return'number'==typeof e}function w(e){return'string'==typeof e}function x(e){return void 0===e}function f(e){return y(e)&&'[object RegExp]'===S(e)}function y(e){return'object'==typeof e&&null!==e}function b(e){return y(e)&&'[object Date]'===S(e)}function v(i){return y(i)&&('[object Error]'===S(i)||i instanceof Error)}function M(e){return'function'==typeof e}function S(e){return Object.prototype.toString.call(e)}function z(e){return 10>e?'0'+e.toString(10):e.toString(10)}function R(){var e=new Date,i=[z(e.getHours()),z(e.getMinutes()),z(e.getSeconds())].join(':');return[e.getDate(),P[e.getMonth()],i].join(' ')}function V(e,i){return Object.prototype.hasOwnProperty.call(e,i)}var I=/%[sdj%]/g;i.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(' ')}for(var n=1,i=arguments,s=i.length,r=(e+'').replace(I,function(e){if('%%'===e)return'%';if(n>=s)return e;switch(e){case'%s':return i[n++]+'';case'%d':return+i[n++];case'%j':try{return JSON.stringify(i[n++])}catch(e){return'[Circular]'}default:return e;}}),a=i[n];n<s;a=i[++n])r+=j(a)||!y(a)?' '+a:' '+o(a);return r},i.deprecate=function(t,o){if(x(e.process))return function(){return i.deprecate(t,o).apply(this,arguments)};if(!0===n.noDeprecation)return t;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(o);else n.traceDeprecation?console.trace(o):console.error(o);s=!0}return t.apply(this,arguments)}};var D={},C;i.debuglog=function(e){if(x(C)&&(C=n.env.NODE_DEBUG||''),e=e.toUpperCase(),!D[e])if(new RegExp('\\b'+e+'\\b','i').test(C)){var t=n.pid;D[e]=function(){var n=i.format.apply(i,arguments);console.error('%s %d: %s',e,t,n)}}else D[e]=function(){};return D[e]},i.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'},i.isArray=p,i.isBoolean=h,i.isNull=j,i.isNullOrUndefined=function(e){return null==e},i.isNumber=k,i.isString=w,i.isSymbol=function(e){return'symbol'==typeof e},i.isUndefined=x,i.isRegExp=f,i.isObject=y,i.isDate=b,i.isError=v,i.isFunction=M,i.isPrimitive=function(e){return null===e||'boolean'==typeof e||'number'==typeof e||'string'==typeof e||'symbol'==typeof e||'undefined'==typeof e},i.isBuffer=t(254);var P=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];i.log=function(){console.log('%s - %s',R(),i.format.apply(i,arguments))},i.inherits=t(253),i._extend=function(e,t){if(!t||!y(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}}).call(i,t(256),t(252))},function(e){var i=function(){return this}();try{i=i||Function('return this')()||(1,eval)('this')}catch(t){'object'==typeof window&&(i=window)}e.exports=i}])});
//# sourceMappingURL=ml.min.js.map