(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.ML=t():e.ML=t()})(this,function(){var e=Number.MIN_VALUE,t=Number.MAX_VALUE,n=Math.ceil,o=Math.tanh,s=Math.log,r=Math.pow,l=Math.exp,a=Number.EPSILON,u=Math.max,M=Math.min,c=Math.floor,v=Math.abs,m=Number.isInteger,R=Math.sqrt;return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(i,'a',i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=123)}([function(e){'use strict';function t(e,t){for(var n=0,o=0;o<e.length;o++)n+=(e[o]-t[o])*(e[o]-t[o]);return n}function i(e,i){return R(t(e,i))}e.exports=i,i.squared=t},function(e,t,i){'use strict';t.array=i(102),t.matrix=i(327)},function(e,t,i){'use strict';var n=i(302);i.d(t,'c',function(){return n.a});var o=i(301);i.d(t,'b',function(){return o.a});class s{constructor(){if(new.target===s)throw new Error('BaseRegression must be subclassed')}predict(e){if('number'==typeof e)return this._predict(e);if(Array.isArray(e)){const t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=this._predict(e[n]);return t}throw new TypeError('x must be a number or array')}_predict(){throw new Error('_predict must be implemented')}train(){}toString(){return''}toLaTeX(){return''}score(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)throw new Error('x and y must be arrays of the same length');const o=e.length,n=Array(o);for(let s=0;s<o;s++)n[s]=this._predict(e[s]);let s=0,a=0,l=0,c=0,m=0,u=0,g=0;for(let r=0;r<o;r++)s+=n[r],a+=t[r],m+=n[r]*n[r],u+=t[r]*t[r],g+=n[r]*t[r],0!==t[r]&&(l+=(t[r]-n[r])*(t[r]-n[r])/t[r]),c=(t[r]-n[r])*(t[r]-n[r]);const i=(o*g-s*a)/R((o*m-s*s)*(o*u-a*a));return{r:i,r2:i*i,chi2:l,rmsd:c*c/o}}}t.a=s},function(e,t,i){e.exports=t=i(126),t.getEquallySpacedData=i(127).getEquallySpacedData,t.SNV=i(128).SNV},function(e,t,i){'use strict';i(136);var n=i(57),o=i(23);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';i(194);var n=i(70),o=i(24);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';i(225);var n=i(78),o=i(25);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,n){'use strict';var i=n(238),o=n.n(i),s=n(40),r=n(26);class a extends n.i(s.a)(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(a.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(n.i(r.a)(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),n.i(r.a)(this,e,!0),t=n.i(r.b)(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(n.i(r.c)(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),n.i(r.c)(this,e,!0),t=n.i(r.d)(this,t);for(var o=0;o<this.rows;o++)this[o].splice(e,0,t[o]);return this.columns+=1,this}}t.a=a},function(e,t,i){'use strict';i(251);var n=i(83),o=i(27);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';i(265);var n=i(87),o=i(28);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';i(278);var n=i(90),o=i(29);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';i(291);var n=i(93),o=i(30);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';i(318);var n=i(98),o=i(31);class s extends n(Array){constructor(e,t){var n;if(1===arguments.length&&'number'==typeof e)return Array(e);if(s.isMatrix(e))return e.clone();if(m(e)&&0<e){if(super(e),m(t)&&0<t)for(n=0;n<e;n++)this[n]=Array(t);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(e)){const i=e;if(e=i.length,t=i[0].length,'number'!=typeof t||0===t)throw new TypeError('Data must be a 2D array with at least one element');for(super(e),n=0;n<e;n++){if(i[n].length!==t)throw new RangeError('Inconsistent array dimensions');this[n]=[].concat(i[n])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=e,this.columns=t,this}set(e,t,i){return this[e][t]=i,this}get(e,t){return this[e][t]}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}removeRow(e){if(o.checkRowIndex(this,e),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),o.checkRowIndex(this,e,!0),t=o.checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(o.checkColumnIndex(this,e),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){'undefined'==typeof t&&(t=e,e=this.columns),o.checkColumnIndex(this,e,!0),t=o.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}t.Matrix=s,s.abstractMatrix=n},function(e,t,i){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=i(7);i.d(t,'default',function(){return n.a}),i.d(t,'Matrix',function(){return n.a});var o=i(40);i.d(t,'abstractMatrix',function(){return o.a});var s=i(237);i.d(t,'solve',function(){return s.a}),i.d(t,'inverse',function(){return s.b});var r=i(82);i.d(t,'SingularValueDecomposition',function(){return r.a}),i.d(t,'SVD',function(){return r.a});var a=i(236);i.d(t,'EigenvalueDecomposition',function(){return a.a}),i.d(t,'EVD',function(){return a.a});var l=i(235);i.d(t,'CholeskyDecomposition',function(){return l.a}),i.d(t,'CHO',function(){return l.a});var c=i(41);i.d(t,'LuDecomposition',function(){return c.a}),i.d(t,'LU',function(){return c.a});var m=i(81);i.d(t,'QrDecomposition',function(){return m.a}),i.d(t,'QR',function(){return m.a})},function(e,t,i){'use strict';var n=i(57),o=i(4);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(70),o=i(5);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(78),o=i(6);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(40),o=i(7);class s extends i.i(n.a)(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.a}}t.a=s},function(e,t,i){'use strict';var n=i(83),o=i(8);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(87),o=i(9);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(90),o=i(10);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(93),o=i(11);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(98),o=i(12);class s extends n(){constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}static get[Symbol.species](){return o.Matrix}}e.exports=s},function(e,t,i){'use strict';var n=i(4);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';var n=i(5);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';var n=i(6);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';t.a=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.c=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.b=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.d=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.i=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.h=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.e=function(e){for(var t=n.a.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.f=function(e){for(var t=n.a.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.g=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t};var n=i(7)},function(e,t,i){'use strict';var n=i(8);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';var n=i(9);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';var n=i(10);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';var n=i(11);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';var n=i(12);t.checkRowIndex=function(e,t,i){var n=i?e.rows:e.rows-1;if(0>t||t>n)throw new RangeError('Row index out of range')},t.checkColumnIndex=function(e,t,i){var n=i?e.columns:e.columns-1;if(0>t||t>n)throw new RangeError('Column index out of range')},t.checkRowVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError('vector size must be the same as the number of columns');return t},t.checkColumnVector=function(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError('vector size must be the same as the number of rows');return t},t.checkIndices=function(e,t,i){var n=t.some((t)=>{return 0>t||t>=e.rows}),o=i.some((t)=>{return 0>t||t>=e.columns});if(n||o)throw new RangeError('Indices are out of range');if('object'!=typeof t||'object'!=typeof i)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(t)||(t=Array.from(t)),Array.isArray(i)||(t=Array.from(i)),{row:t,column:i}},t.checkRange=function(e,t,i,n,o){if(5!==arguments.length)throw new TypeError('Invalid argument type');var s=Array.from(arguments).slice(1).some(function(e){return'number'!=typeof e});if(s)throw new TypeError('Invalid argument type');if(t>i||n>o||0>t||t>=e.rows||0>i||i>=e.rows||0>n||n>=e.columns||0>o||o>=e.columns)throw new RangeError('Submatrix indices are out of range')},t.getRange=function(e,t){for(var n=Array(t-e+1),o=0;o<n.length;o++)n[o]=e+o;return n},t.sumByRow=function(e){for(var t=n.Matrix.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(o,0,t.get(o,0)+e.get(o,i));return t},t.sumByColumn=function(e){for(var t=n.Matrix.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t.set(0,i,t.get(0,i)+e.get(o,i));return t},t.sumAll=function(e){for(var t=0,n=0;n<e.rows;n++)for(var i=0;i<e.columns;i++)t+=e.get(n,i);return t}},function(e,t,i){'use strict';const n=i(13).Matrix,o=i(206),s=i(207),r=i(209),a=i(210),l=i(211),c=i(212),m=i(213),u=i(214),g=i(215),d=i(208),h={gaussian:o,rbf:o,polynomial:s,poly:s,anova:r,cauchy:a,exponential:l,histogram:c,min:c,laplacian:m,multiquadratic:u,rational:g,sigmoid:d,mlp:d};e.exports=class{constructor(e,t){if(this.kernelType=e,'linear'!==e)if('string'==typeof e){e=e.toLowerCase();var i=h[e];if(i)this.kernelFunction=new i(t);else throw new Error('unsupported kernel type: '+e)}else if('object'==typeof e&&'function'==typeof e.compute)this.kernelFunction=e;else throw new TypeError('first argument must be a valid kernel type or instance')}compute(e,t){if(void 0===t&&(t=e),'linear'===this.kernelType){var o=new n(e);return o.mmul(new n(t).transposeView())}const s=new n(e.length,t.length);var r,i;if(e===t)for(r=0;r<e.length;r++)for(i=r;i<e.length;i++)s[r][i]=s[i][r]=this.kernelFunction.compute(e[r],e[i]);else for(r=0;r<e.length;r++)for(i=0;i<t.length;i++)s[r][i]=this.kernelFunction.compute(e[r],t[i]);return s}}},function(e){'use strict';var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=function(e){return'function'==typeof Array.isArray?Array.isArray(e):'[object Array]'===i.call(e)},o=function(e){if(!e||'[object Object]'!==i.call(e))return!1;var n=t.call(e,'constructor'),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,'isPrototypeOf');if(e.constructor&&!n&&!o)return!1;for(var s in e);return'undefined'==typeof s||t.call(e,s)};e.exports=function e(){var t=arguments[0],s=1,i=arguments.length,r=!1,a,l,c,m,u,g;for('boolean'==typeof t&&(r=t,t=arguments[1]||{},s=2),(null==t||'object'!=typeof t&&'function'!=typeof t)&&(t={});s<i;++s)if(a=arguments[s],null!=a)for(l in a)c=t[l],m=a[l],t!==m&&(r&&m&&(o(m)||(u=n(m)))?(u?(u=!1,g=c&&n(c)?c:[]):g=c&&o(c)?c:{},t[l]=e(r,g,m)):'undefined'!=typeof m&&(t[l]=m));return t}},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t,i){'use strict';e.exports=i(4).Matrix,e.exports.Decompositions=e.exports.DC=i(135)},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t,i){'use strict';e.exports=i(5).Matrix,e.exports.Decompositions=e.exports.DC=i(193)},function(e,t,i){'use strict';function n(){this.children=[],this.distance=-1,this.index=[]}const o=i(124);n.prototype.cut=function(e){if(0>e)throw new RangeError('Threshold too small');var t=new n;t.children=this.children,t.distance=this.distance,t.index=this.index;for(var i=[t],o=[];0<i.length;){var s=i.shift();e>=s.distance?o.push(s):i=i.concat(s.children)}return o},n.prototype.group=function(e){if(!m(e)||1>e)throw new RangeError('Number of groups must be a positive integer');const t=new o(function(e,t){return t.distance-e.distance});for(t.push(this);t.size()<e;){var i=t.pop();if(0===i.children.length)break;i.children.forEach((e)=>t.push(e))}var s=new n;return s.children=t.toArray(),s.distance=this.distance,s},n.prototype.traverse=function(e){function t(e,n){if(n(e),e.children)for(var o=e.children.length-1;0<=o;o--)t(e.children[o],n)}t(this,e)},e.exports=n},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t,n){'use strict';t.a=function(e){function t(e,t){return e-t}function r(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class x extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return x.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.a(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.a(this,e),t=l.b(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.a(this,e),l.a(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.c(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.c(this,e),t=l.d(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.c(this,e),l.c(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.b(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.d(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.a(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.c(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.a(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.a(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.c(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.c(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.e(this):'column'===e?l.f(this):l.g(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){x.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=x.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(x.add(l,h),x.add(c,p),r,a),j=i(x.add(g,h),c,r,a),w=i(l,x.sub(u,p),r,a),y=i(h,x.sub(d,c),r,a),f=i(x.add(l,m),p,r,a),M=i(x.sub(g,l),x.add(c,u),r,a),b=i(x.sub(m,h),x.add(d,p),r,a),v=x.add(k,y);v.sub(f),v.add(b);var R=x.add(w,f),S=x.add(j,y),I=x.sub(k,j);I.add(w),I.add(M);var V=x.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.rows;r++)i=n.i(s.scale)(this.getRow(r),{min:e,max:t}),o.setRow(r,i);return o}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var o=this.constructor.empty(this.rows,this.columns),r=0,i;r<this.columns;r++)i=n.i(s.scale)(this.getColumn(r),{min:e,max:t}),o.setColumn(r,i);return o}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=t);for(var n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(e));return this}sortColumns(e){e===void 0&&(e=t);for(var n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(e));return this}subMatrix(e,t,n,o){l.h(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.h(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.i(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m.a(this)}rowView(e){return l.a(this,e),new g.a(this,e)}columnView(e){return l.c(this,e),new p.a(this,e)}flipRowView(){return new k.a(this)}flipColumnView(){return new j.a(this)}subMatrixView(e,t,i,n){return new d.a(this,e,t,i,n)}selectionView(e,t){return new h.a(this,e,t)}det(){if(this.isSquare()){var e,t,n,o;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),n=this.get(1,0),o=this.get(1,1),e*o-t*n;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),n=this.get(0,2),e*s.det()-t*r.det()+n*a.det()}return new i.a(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new o.a(this,{autoTranspose:!0}),n=t.leftSingularVectors,r=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),r.mmul(l.mmul(n.transposeView()))}}x.prototype.klass='Matrix',x.random=x.rand,x.diagonal=x.diag,x.prototype.diagonal=x.prototype.diag,x.identity=x.eye,x.prototype.negate=x.prototype.neg,x.prototype.tensorProduct=x.prototype.kroneckerProduct,x.prototype.determinant=x.prototype.det;var w=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,y=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,f=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,b=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,R=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,S=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,I=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,V=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,C=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,z=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,D=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,A=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],L=eval,U;for(var P of A){var F=L(r(w,{name:P[1],op:P[0]})),q=L(r(y,{name:P[1]+'S',op:P[0]})),O=L(r(f,{name:P[1]+'M',op:P[0]})),_=L(r(b,{name:P[1]}));for(U=1;U<P.length;U++)x.prototype[P[U]]=F,x.prototype[P[U]+'S']=q,x.prototype[P[U]+'M']=O,x[P[U]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=L(r(R,{name:T[1],method:T[0]})),E=L(r(S,{name:T[1]}));for(U=1;U<T.length;U++)x.prototype[T[U]]=B,x[T[U]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(U=1;U<W[1];U++)X+=`, arg${U}`;if(1!==W[1]){var J=L(r(I,{name:W[2],method:W[0],args:X})),Y=L(r(V,{name:W[2],args:X}));for(U=2;U<W.length;U++)x.prototype[W[U]]=J,x[W[U]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=L(r(D,H)),G=L(r(C,H)),Z=L(r(z,H)),$=L(r(V,H));for(U=2;U<W.length;U++)x.prototype[W[U]]=K,x.prototype[W[U]+'M']=Z,x.prototype[W[U]+'S']=G,x[W[U]]=$}}return x};var i=n(41),o=n(82),s=n(3),r=n.n(s),l=n(26),m=n(245),g=n(242),d=n(244),h=n(243),p=n(239),k=n(241),j=n(240)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.a.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(7);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.a(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.a.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},t.a=n},function(e,t){'use strict';t.a=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.b=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e,t,i){'use strict';e.exports=i(11).Matrix,e.exports.Decompositions=e.exports.DC=i(290)},function(e,t,i){'use strict';function n(e,t){return this[e][t]*=this[e][t],this}const o=i(47),s=i(1);e.exports={norm:function(e){return R(e.clone().apply(n).sum())},pow2array:n,featureNormalize:function(e){var t=s.matrix.mean(e),i=s.matrix.standardDeviation(e,t,!0),n=o.checkMatrix(e).subRowVector(t);return{result:n.divRowVector(i),means:t,std:i}}}},function(e,t,i){'use strict';function n(e,t,o){const s=t.length;let n=0,r=0,a=0,l=0;for(let c=0;c<s;c++)n+=t[c],r+=o[c],a+=t[c]*t[c],l+=t[c]*o[c];const i=s*l-n*r;e.slope=i/(s*a-n*n),e.intercept=1/s*r-e.slope*(1/s)*n,e.coefficients=[e.intercept,e.slope]}var o=i(2);class s extends o.a{constructor(e,t){super(),!0===e?(this.slope=t.slope,this.intercept=t.intercept,this.coefficients=[t.intercept,t.slope]):(i.i(o.b)(e,t),n(this,e,t))}toJSON(){return{name:'simpleLinearRegression',slope:this.slope,intercept:this.intercept}}_predict(e){return this.slope*e+this.intercept}computeX(e){return(e-this.intercept)/this.slope}toString(e){let t='f(x) = ';if(0!==this.slope){const n=i.i(o.c)(this.slope,e);if(t+=('1'===n?'':n+' * ')+'x',this.intercept){const n=v(this.intercept),s=n===this.intercept?'+':'-';t+=` ${s} ${i.i(o.c)(n,e)}`}}else t+=i.i(o.c)(this.intercept,e);return t}toLaTeX(e){return this.toString(e)}static load(e){if('simpleLinearRegression'!==e.name)throw new TypeError('not a SLR model');return new s(!0,e)}}t.a=s},function(e,t){'use strict';t.hypotenuse=function(e,t){var i;return v(e)>v(t)?(i=t/e,v(e)*R(1+i*i)):0===t?0:(i=e/t,v(t)*R(1+i*i))},t.getEmpty2DArray=function(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=Array(t);return n},t.getFilled2DArray=function(e,t,n){for(var o=Array(e),s=0;s<e;s++){o[s]=Array(t);for(var i=0;i<t;i++)o[s][i]=n}return o}},function(e){e.exports=function(e,t,i,n,o){var s,r;if(void 0===n)n=0;else if(n|=0,0>n||n>=e.length)throw new RangeError('invalid lower bound');if(void 0===o)o=e.length-1;else if(o|=0,o<n||o>=e.length)throw new RangeError('invalid upper bound');for(;n<=o;)if(s=n+(o-n>>1),r=+i(e[s],t,s,e),0>r)n=s+1;else if(0<r)o=s-1;else return s;return~n}},function(e){'use strict';e.exports=function(e,t){const n=e.length;let o=Array.from({length:n}).map(()=>Array.from({length:n}));for(let s=0;s<n;s++)for(let i=0;i<=s;i++)o[s][i]=t(e[s],e[i]);for(let s=0;s<n;s++)for(let e=s+1;e<n;e++)o[s][e]=o[e][s];return o}},function(e,t,i){'use strict';t.distance=i(146),t.similarity=i(182)},function(e,t,i){'use strict';function n(e,t){return 0|e*t}function o(e,t){return M(e-2,0|e*t)}function s(e,t,i){return c(u(e+1,0|4*e/(3*t+i)))}function r(e,t,i){return c(u(e+1,0|4*e/(t+3*i)))}const a=i(329),l=i(203),c=l.nextPrime,m=l.largestPrime,g=0,d=1,h=2;class p{constructor(e={}){if(e instanceof p)return this.table=e.table.slice(),this.values=e.values.slice(),this.state=e.state.slice(),this.minLoadFactor=e.minLoadFactor,this.maxLoadFactor=e.maxLoadFactor,this.distinct=e.distinct,this.freeEntries=e.freeEntries,this.lowWaterMark=e.lowWaterMark,void(this.highWaterMark=e.maxLoadFactor);const t=e.initialCapacity===void 0?150:e.initialCapacity;if(0>t)throw new RangeError(`initial capacity must not be less than zero: ${t}`);const i=e.minLoadFactor===void 0?1/6:e.minLoadFactor,n=e.maxLoadFactor===void 0?2/3:e.maxLoadFactor;if(0>i||1<=i)throw new RangeError(`invalid minLoadFactor: ${i}`);if(0>=n||1<=n)throw new RangeError(`invalid maxLoadFactor: ${n}`);if(i>=n)throw new RangeError(`minLoadFactor (${i}) must be smaller than maxLoadFactor (${n})`);let s=t;s=0|s/n,s=c(s),0===s&&(s=1),this.table=a(s,0),this.values=a(s,0),this.state=a(s,0),this.minLoadFactor=i,this.maxLoadFactor=s===m?1:n,this.distinct=0,this.freeEntries=s,this.lowWaterMark=0,this.highWaterMark=o(s,this.maxLoadFactor)}clone(){return new p(this)}get size(){return this.distinct}get(e){const t=this.indexOfKey(e);return 0>t?0:this.values[t]}set(e,t){let n=this.indexOfInsertion(e);if(0>n)return n=-n-1,this.values[n]=t,!1;if(this.distinct>this.highWaterMark){const i=s(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(i),this.set(e,t)}if(this.table[n]=e,this.values[n]=t,this.state[n]===g&&this.freeEntries--,this.state[n]=d,this.distinct++,1>this.freeEntries){const e=s(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(e)}return!0}remove(e,t){const n=this.indexOfKey(e);return!(0>n)&&(this.state[n]=h,this.distinct--,t||this.maybeShrinkCapacity(),!0)}delete(e,t){const n=this.indexOfKey(e);return!(0>n)&&(this.state[n]=g,this.distinct--,t||this.maybeShrinkCapacity(),!0)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){const e=r(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(e)}}containsKey(e){return 0<=this.indexOfKey(e)}indexOfKey(e){const t=this.table,n=this.state,o=this.table.length,s=2147483647&e;let r=s%o,i=s%(o-2);for(0==i&&(i=1);n[r]!==g&&(n[r]===h||t[r]!==e);)r-=i,0>r&&(r+=o);return n[r]===g?-1:r}containsValue(e){return 0<=this.indexOfValue(e)}indexOfValue(e){const t=this.values,n=this.state;for(var o=0;o<n.length;o++)if(n[o]===d&&t[o]===e)return o;return-1}indexOfInsertion(e){const t=this.table,n=this.state,o=t.length,s=2147483647&e;let r=s%o,a=s%(o-2);for(0==a&&(a=1);n[r]===d&&t[r]!==e;)r-=a,0>r&&(r+=o);if(n[r]===h){const i=r;for(;n[r]!==g&&(n[r]===h||t[r]!==e);)r-=a,0>r&&(r+=o);n[r]===g&&(r=i)}return n[r]===d?-r-1:r}ensureCapacity(e){if(this.table.length<e){const t=c(e);this.rehash(t)}}rehash(e){const t=this.table.length;if(e<=this.distinct)throw new Error('Unexpected');const s=this.table,r=this.values,l=this.state,c=a(e,0),m=a(e,0),u=a(e,0);this.lowWaterMark=n(e,this.minLoadFactor),this.highWaterMark=o(e,this.maxLoadFactor),this.table=c,this.values=m,this.state=u,this.freeEntries=e-this.distinct;for(var g=0;g<t;g++)if(l[g]===d){var i=s[g],h=this.indexOfInsertion(i);c[h]=i,m[h]=r[g],u[h]=d}}forEachKey(e){for(var t=0;t<this.state.length;t++)if(this.state[t]===d&&!e(this.table[t]))return!1;return!0}forEachValue(e){for(var t=0;t<this.state.length;t++)if(this.state[t]===d&&!e(this.values[t]))return!1;return!0}forEachPair(e){for(var t=0;t<this.state.length;t++)if(this.state[t]===d&&!e(this.table[t],this.values[t]))return!1;return!0}}e.exports=p},function(e,t,i){'use strict';function n(e,t){var n=e.length;'number'==typeof t.size&&(t.size=[t.size,t.size]);var o=n+t.size[0]+t.size[1],s;if(t.output){if(t.output.length!==o)throw new RangeError('Wrong output size');s=t.output}else s=Array(o);var r;if('circular'===t.value)for(r=0;r<o;r++)s[r]=r<t.size[0]?e[(n-t.size[0]%n+r)%n]:r<t.size[0]+n?e[r-t.size[0]]:e[(r-t.size[0])%n];else if('replicate'===t.value)for(r=0;r<o;r++)s[r]=r<t.size[0]?e[0]:r<t.size[0]+n?e[r-t.size[0]]:e[n-1];else if('symmetric'===t.value){if(t.size[0]>n||t.size[1]>n)throw new RangeError('expanded value should not be bigger than the data length');for(r=0;r<o;r++)s[r]=r<t.size[0]?e[t.size[0]-1-r]:r<t.size[0]+n?e[r-t.size[0]]:e[2*n+t.size[0]-r-1]}else for(r=0;r<o;r++)s[r]=r<t.size[0]?t.value:r<t.size[0]+n?e[r-t.size[0]]:t.value;return s}function o(e,t){var i=e.length,n=e[0].length;throw void 0===t.size[0]&&(t.size=[t.size,t.size,t.size,t.size]),new Error('matrix not supported yet, sorry')}var s=i(33),r={size:1,value:0};e.exports=function(e,t){if(t=s({},r,t),Array.isArray(e))return Array.isArray(e[0])?o(e,t):n(e,t);throw new TypeError('data should be an array')}},function(e,t,i){'use strict';function n(e){if('number'!=typeof e||o(e))throw new TypeError('Expected a number')}var o=i(330);t.asc=function(e,t){return n(e),n(t),e-t},t.desc=function(e,t){return n(e),n(t),t-e}},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(58),r=i(59),s=i(3),l=i(23),m=i(143),g=i(140),d=i(142),h=i(141),p=i(137),k=i(139),j=i(138)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(4);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(4),n=i(34),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,i){'use strict';var n=i(35);e.exports={transpose:function(e){if('number'==typeof e)return e;var t=e.clone();return t.transpose()},add:function(e,t){if('number'==typeof e&&'number'==typeof t)return e+t;if('number'==typeof e)return this.add(t,e);var i=e.clone();return i.add(t)},subtract:function(e,t){if('number'==typeof e&&'number'==typeof t)return e-t;if('number'==typeof e)return this.subtract(t,e);var i=e.clone();return i.sub(t)},multiply:function(e,t){if('number'==typeof e&&'number'==typeof t)return e*t;if('number'==typeof e)return this.multiply(t,e);var i=e.clone();return'number'==typeof t?i.mul(t):i=i.mmul(t),1==i.rows&&1==i.columns?i[0][0]:i},dotMultiply:function(e,t){var i=e.clone();return i.mul(t)},dotDivide:function(e,t){var i=e.clone();return i.div(t)},diag:function(e){var t=null,i=e.rows,o=e.columns,s,a;if('undefined'==typeof o&&'object'==typeof e)if(e[0]&&e[0].length)for(i=e.length,o=e[0].length,a=M(i,o),t=n.zeros(o,o),s=0;s<o;s++)t[s][s]=e[s][s];else for(o=e.length,t=n.zeros(o,o),s=0;s<o;s++)t[s][s]=e[s];if(1==i)for(t=n.zeros(o,o),s=0;s<o;s++)t[s][s]=e[0][s];else if(0<i&&0<o)for(a=M(i,o),t=Array(a),s=0;s<a;s++)t[s]=e[s][s];return t},min:function(e,t){if('number'==typeof e&&'number'==typeof t)return M(e,t);for(var o=e.rows,s=e.columns,r=new n(o,s),a=0;a<o;a++)for(var i=0;i<s;i++)r[a][i]=e[a][i]<t[a][i]?e[a][i]:t[a][i];return r},max:function(e,t){if('number'==typeof e&&'number'==typeof t)return u(e,t);for(var o=e.rows,s=e.columns,r=new n(o,s),a=0;a<o;a++)for(var i=0;i<s;i++)r[a][i]=e[a][i]>t[a][i]?e[a][i]:t[a][i];return r},solve:function(e,t){return e.solve(t)},inv:function(e){return'number'==typeof e?1/e:e.inverse()},sqrt:function(e){if('number'==typeof e)return R(e);for(var t=e.rows,o=e.columns,s=new n(t,o),r=0;r<t;r++)for(var i=0;i<o;i++)s[r][i]=R(e[r][i]);return s},exp:function(e){if('number'==typeof e)return R(e);for(var t=e.rows,o=e.columns,s=new n(t,o),r=0;r<t;r++)for(var i=0;i<o;i++)s[r][i]=l(e[r][i]);return s},dotPow:function(e,t){if('number'==typeof e)return r(e,t);for(var o=e.rows,s=e.columns,a=new n(o,s),l=0;l<o;l++)for(var i=0;i<s;i++)a[l][i]=r(e[l][i],t);return a},abs:function(e){if('number'==typeof e)return v(e);for(var t=e.rows,o=e.columns,s=new n(t,o),r=0;r<t;r++)for(var i=0;i<o;i++)s[r][i]=v(e[r][i]);return s},matrix:function(e,t){return new n(e,t)},ones:function(e,t){return n.ones(e,t)},zeros:function(e,t){return n.zeros(e,t)},random:function(e,t){return n.rand(e,t)},eye:function(e,t){return n.eye(e,t)}}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)o+=e[a]*e[a],s+=t[a]*t[a],r+=(e[a]-t[a])*(e[a]-t[a]);return r/(o+s)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=M(e[s],t[s]);return 1-o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0,l=0;l<n;l++)o+=e[l]*t[l],s+=e[l]*e[l],r+=t[l]*t[l],a+=(e[l]-t[l])*(e[l]-t[l]);return a/(s+r-o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=v(e[r]-t[r]),s+=M(e[r],t[r]);return o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=M(e[r],t[r]),s+=e[r]+t[r];return 1-o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=(R(e[s])-R(t[s]))*(R(e[s])-R(t[s]));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)o+=e[a]*t[a],s+=e[a]*e[a],r+=t[a]*t[a];return o/(R(s)*R(r))}},function(e){'use strict';e.exports=function(e,t){for(var n=0,o=0,s=0;s<e.length;s++)n+=M(e[s],t[s]),o+=e[s]+t[s];return 2*n/o}},function(e){e.exports=function(e,t,n){if(n){for(var o=0,s=0,r=0;r<e.length;r++)o+=e[r]&&t[r],s+=e[r]||t[r];return 0===s?1:o/s}for(var a=e.length,l=0,c=0,u=0,m=0;m<a;m++)l+=e[m],c+=t[m],u+=M(e[m],t[m]);return 1-(l+c-2*u)/(l+c-u)}},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(71),r=i(72),s=i(3),l=i(24),m=i(201),g=i(198),d=i(200),h=i(199),p=i(195),k=i(197),j=i(196)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(5);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(5),n=i(36),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,i){'use strict';var n=i(37),o=i(75);const s=i(74);class r{constructor(e){this.inputSize=e.inputSize,this.outputSize=e.outputSize,this.regularization=e.regularization,this.epsilon=e.epsilon,this.activation=e.activation,this.activationParam=e.activationParam;var t=s[e.activation],i=t.activation.length,o=1<i?(i)=>t.activation(i,e.activationParam):t.activation,r=1<i?(i)=>t.derivate(i,e.activationParam):t.derivate;this.activationFunction=function(e,t){this[e][t]=o(this[e][t])},this.derivate=function(e,t){this[e][t]=r(this[e][t])},e.model?(this.W=n.checkMatrix(e.W),this.b=n.checkMatrix(e.b)):(this.W=n.rand(this.inputSize,this.outputSize),this.b=n.zeros(1,this.outputSize),this.W.apply(function(t,i){this[t][i]/=R(e.inputSize)}))}forward(e){var t=e.mmul(this.W).addRowVector(this.b);return t.apply(this.activationFunction),this.a=t.clone(),t}backpropagation(e,t){this.dW=t.transposeView().mmul(e),this.db=o.sumCol(e);var i=t.clone();return e.mmul(this.W.transposeView()).mul(i.apply(this.derivate))}update(){this.dW.add(this.W.clone().mul(this.regularization)),this.W.add(this.dW.mul(-this.epsilon)),this.b.add(this.db.mul(-this.epsilon))}toJSON(){return{model:'Layer',inputSize:this.inputSize,outputSize:this.outputSize,regularization:this.regularization,epsilon:this.epsilon,activation:this.activation,W:this.W,b:this.b}}static load(e){if('Layer'!==e.model)throw new RangeError('the current model is not a Layer model');return new r(e)}}e.exports=r},function(e){'use strict';function t(e){return 1/(1+l(-e))}function i(e,t){return 0>e?t*(l(e)-1):e}var n=Math.cos,r=Math.sin;const a={tanh:{activation:o,derivate:(e)=>1-e*e},identity:{activation:(e)=>e,derivate:()=>1},logistic:{activation:t,derivate:(e)=>t(e)*(1-t(e))},arctan:{activation:Math.atan,derivate:(e)=>1/(e*e+1)},softsign:{activation:(e)=>e/(1+v(e)),derivate:(e)=>1/((1+v(e))*(1+v(e)))},relu:{activation:(e)=>0>e?0:e,derivate:(e)=>0>e?0:1},softplus:{activation:(e)=>s(1+l(e)),derivate:(e)=>1/(1+l(-e))},bent:{activation:(e)=>(R(e*e+1)-1)/2+e,derivate:(e)=>e/(2*R(e*e+1))+1},sinusoid:{activation:r,derivate:n},sinc:{activation:(e)=>0===e?1:r(e)/e,derivate:(e)=>0===e?0:n(e)/e-r(e)/(e*e)},gaussian:{activation:(e)=>l(-(e*e)),derivate:(e)=>-2*e*l(-(e*e))},"parametric-relu":{activation:(e,t)=>0>e?t*e:e,derivate:(e,t)=>0>e?t:1},"exponential-elu":{activation:i,derivate:(e,t)=>0>e?i(e,t)+t:1},"soft-exponential":{activation:function(e,t){return 0>t?-s(1-t*(e+t))/t:0<t?(l(t*e)-1)/t+t:e},derivate:function(e,t){return 0>t?1/(1-t*(t+e)):l(t*e)}}};e.exports=a},function(e,t,i){'use strict';var n=i(37);e.exports={dictOutputs:function(e){for(var t={},n={},o=e.length,s=0,r=0;r<o;r+=1)void 0===t[e[r]]&&(t[e[r]]=s,n[s]=e[r],s++);return{inputs:t,outputs:n}},sumCol:function(e){for(var t=n.zeros(1,e.columns),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t[0][i]+=e[o][i];return t},sumRow:function(e){for(var t=n.zeros(e.rows,1),o=0;o<e.rows;++o)for(var i=0;i<e.columns;++i)t[o][0]+=e[o][i];return t}}},function(e,t,i){'use strict';function n(e){o.call(this),this.index=e,this.distance=0,this.children=[]}const o=i(38),s=i(334);s.inherits(n,o),e.exports=n},function(e,t,i){'use strict';const n=i(259);t.updateClusterID=function(e,t,o,s){for(var r=0;r<e.length;r++)o[r]=n(t,e[r],{distanceFunction:s});return o},t.updateCenters=function(e,t,n){const o=e[0].length;for(var s=Array(n),r=Array(n),a=0;a<n;a++){s[a]=Array(o),r[a]=0;for(var i=0;i<o;i++)s[a][i]=0}for(var c=0;c<e.length;c++){r[t[c]]++;for(var l=0;l<o;l++)s[t[c]][l]+=e[c][l]}for(var m=0;m<n;m++)for(var u=0;u<o;u++)s[m][u]/=r[m];return s},t.calculateDistanceMatrix=function(e,t){for(var n=Array(e.length),o=0;o<e.length;++o)for(var i=o;i<e.length;++i){n[o]||(n[o]=Array(e.length)),n[i]||(n[i]=Array(e.length));const s=t(e[o],e[i]);n[o][i]=s,n[i][o]=s}return n},t.converged=function(e,t,n,o){for(var s=0;s<e.length;s++)if(n(e[s],t[s])>o)return!1;return!0}},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(79),r=i(80),s=i(3),l=i(25),m=i(232),g=i(229),d=i(231),h=i(230),p=i(226),k=i(228),j=i(227)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(6);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(6),n=i(39),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,n){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.a.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n.i(s.a)(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=n(7),s=n(42);o.prototype={solve:function(e){e=r.a.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r.a(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r.a(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},t.a=o},function(e,t,o){'use strict';function r(h,x){if(!(this instanceof r))return new r(h,x);h=l.a.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=o.i(d.b)(w,n,0),A=o.i(d.b)(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=o.i(d.a)(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=o.i(d.a)(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=o.i(d.a)(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=o.i(d.a)(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=o.i(d.a)(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=o.i(d.a)(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var l=o(7),d=o(42);r.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return l.a.isMatrix(this.U)||(this.U=new l.a(this.U)),this.U},get rightSingularVectors(){return l.a.isMatrix(this.V)||(this.V=new l.a(this.V)),this.V},get diagonalMatrix(){return l.a.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=l.a.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,r=this.rightSingularVectors,a=r.mmul(o),c=r.rows,m=i.length,u=l.a.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=a[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(l.a.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new l.a(e,this.s.length),r,i;for(r=0;r<e;r++)for(i=0;i<o;i++)s[r][i]=v(this.s[i])>n?t[r][i]/this.s[i]:0;var a=this.U,c=a.length,m=a[0].length,u=new l.a(e,c),g,d;for(r=0;r<e;r++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[r][g]*a[i][g];u[r][i]=d}return u}},t.a=r},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(84),r=i(85),s=i(3),l=i(27),m=i(258),g=i(255),d=i(257),h=i(256),p=i(252),k=i(254),j=i(253)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(8);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(8),n=i(43),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,i){'use strict';function n(e,t){e&&(this.means=t.means,this.calculateProbabilities=t.calculateProbabilities)}function o(e,t,n){for(var o=0,s=-1,a=0,i;a<n.length;++a){i=n[a][0];for(var c=1;c<n[0][1].length+1;++c)i+=r(e[c-1],t[a][c-1],n[a][c][0],n[a][c][1]);i=l(i),i>o&&(o=i,s=a)}return s}function r(e,t,i,n){var e=e-t;return s(i*l(e*e/n))}function a(e,t){for(var n=e.columns,o=0,s=Array(100),r=0;r<t.length;r++)void 0===s[t[r]]&&(s[t[r]]=0,o++),s[t[r]]++;var i=Array(o),a=Array(o);for(r=0;r<o;++r)i[r]=new c(s[r],n),a[r]=0;for(r=0;r<e.rows;++r)i[t[r]].setRow(a[t[r]],e.getRow(r)),a[t[r]]++;return i}var c=i(250),m=i(1);e.exports.NaiveBayes=n,e.exports.separateClasses=a,n.prototype.train=function(e,t){var n=R(2*Math.PI);if(e=c.isMatrix(e)?e.clone():new c(e),e.rows!==t.length)throw new RangeError('the size of the training set and the training labels must be the same.');var o=a(e,t),r=Array(o.length);this.means=Array(o.length);for(var l=0;l<o.length;++l){var i=m.matrix.mean(o[l]),u=m.matrix.standardDeviation(o[l],i),g=s(o[l].rows/e.rows);r[l]=Array(i.length+1),r[l][0]=g;for(var d=1,h;d<i.length+1;++d)h=u[d-1],r[l][d]=[1/(n*h),-2*h*h];this.means[l]=i}this.calculateProbabilities=r},n.prototype.predict=function(e){if(e[0].length===this.calculateProbabilities[0].length)throw new RangeError('the dataset must have the same features as the training set');for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=o(e[n],this.means,this.calculateProbabilities);return t},n.prototype.export=function(){return{modelName:'NaiveBayes',means:this.means,calculateProbabilities:this.calculateProbabilities}},n.load=function(e){if('NaiveBayes'!==e.modelName)throw new RangeError('The given model is invalid!');return new n(!0,e)}},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(88),r=i(89),s=i(3),l=i(28),m=i(272),g=i(269),d=i(271),h=i(270),p=i(266),k=i(268),j=i(267)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(9);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(9),n=i(44),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(91),r=i(92),s=i(3),l=i(29),m=i(285),g=i(282),d=i(284),h=i(283),p=i(279),k=i(281),j=i(280)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(10);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(10),n=i(45),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(94),r=i(95),s=i(3),l=i(30),m=i(298),g=i(295),d=i(297),h=i(296),p=i(292),k=i(294),j=i(293)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(11);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(11),n=i(46),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e,t,i){'use strict';function n(e,t,o,a){const l=t.length;let n;if(Array.isArray(a))n=a,a=n.length;else{a++,n=Array(a);for(let e=0;e<a;e++)n[e]=e}const c=new s['default'](l,a),m=new s['default']([o]);for(let s=0;s<a;s++)for(let e=0;e<l;e++)c[e][s]=0===n[s]?1:r(t[e],n[s]);const u=c.transposeView(),g=u.mmul(c),d=u.mmul(m.transposeView());e.degree=a-1,e.powers=n,e.coefficients=i.i(s.solve)(g,d).to1DArray()}var o=i(2),s=i(13);class a extends o.a{constructor(e,t,s){super(),!0===e?(this.degree=t.degree,this.powers=t.powers,this.coefficients=t.coefficients):(i.i(o.b)(e,t),n(this,e,t,s))}_predict(e){let t=0;for(let i=0;i<this.powers.length;i++)t+=this.coefficients[i]*r(e,this.powers[i]);return t}toJSON(){return{name:'polynomialRegression',degree:this.degree,powers:this.powers,coefficients:this.coefficients}}toString(e){return this._toFormula(e,!1)}toLaTeX(e){return this._toFormula(e,!0)}_toFormula(e,t){let n='^',s='',r=' * ';t&&(n='^{',s='}',r='');let a='',l='';for(let c=0;c<this.coefficients.length;c++)l='',0!==this.coefficients[c]&&(l=0===this.powers[c]?i.i(o.c)(this.coefficients[c],e):1===this.powers[c]?i.i(o.c)(this.coefficients[c],e)+r+'x':i.i(o.c)(this.coefficients[c],e)+r+'x'+n+this.powers[c]+s,0<this.coefficients[c]&&c!==this.coefficients.length-1?l=' + '+l:c!==this.coefficients.length-1&&(l=' '+l)),a=l+a;return'+'===a.charAt(0)&&(a=a.slice(1)),'f(x) = '+a}static load(e){if('polynomialRegression'!==e.name)throw new TypeError('not a polynomial regression model');return new a(!0,e)}}t.a=a},function(e,t){'use strict';function o(e,t){return e-t}t.sum=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},t.max=function(e){for(var t=-Infinity,n=e.length,o=0;o<n;o++)e[o]>t&&(t=e[o]);return t},t.min=function(e){for(var t=Infinity,n=e.length,o=0;o<n;o++)e[o]<t&&(t=e[o]);return t},t.minMax=function(e){for(var t=Infinity,n=-Infinity,o=e.length,s=0;s<o;s++)e[s]<t&&(t=e[s]),e[s]>n&&(n=e[s]);return{min:t,max:n}},t.arithmeticMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=e[o];return t/n},t.mean=t.arithmeticMean,t.geometricMean=function(e){for(var t=1,n=e.length,o=0;o<n;o++)t*=e[o];return r(t,1/n)},t.logMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=s(e[o]);return t/n},t.grandMean=function(e,t){for(var o=0,s=0,n=e.length,r=0;r<n;r++)o+=t[r]*e[r],s+=t[r];return o/s},t.truncatedMean=function(e,t,n){n===void 0&&(n=!1),n||(e=e.slice().sort(o));for(var s=e.length,r=c(s*t),a=0,l=r;l<s-r;l++)a+=e[l];return a/(s-2*r)},t.harmonicMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++){if(0===e[o])throw new RangeError('value at index '+o+'is zero');t+=1/e[o]}return n/t},t.contraHarmonicMean=function(e){for(var t=0,n=0,o=e.length,s=0;s<o;s++)t+=e[s]*e[s],n+=e[s];if(0>n)throw new RangeError('sum of values is negative');return t/n},t.median=function(e,t){t===void 0&&(t=!1),t||(e=e.slice().sort(o));var i=e.length,n=c(i/2);return 0==i%2?0.5*(e[n-1]+e[n]):e[n]},t.variance=function(e,n){n===void 0&&(n=!0);for(var o=t.mean(e),s=0,r=e.length,a=0,i;a<r;a++)i=e[a]-o,s+=i*i;return n?s/(r-1):s/r},t.standardDeviation=function(e,i){return R(t.variance(e,i))},t.standardError=function(e){return t.standardDeviation(e)/R(e.length)},t.quartiles=function(e,i){'undefined'==typeof i&&(i=!1),i||(e=e.slice(),e.sort(o));var s=e.length/4,r=e[n(s)-1],a=t.median(e,!0),l=e[n(3*s)-1];return{q1:r,q2:a,q3:l}},t.pooledStandardDeviation=function(e,i){return R(t.pooledVariance(e,i))},t.pooledVariance=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=0,s=0,r=e.length,a=0;a<r;a++){var i=e[a],l=t.variance(i);o+=(i.length-1)*l,s+=n?i.length-1:i.length}return o/s},t.mode=function(e){var t=e.length,n=Array(t),o;for(o=0;o<t;o++)n[o]=0;var i=Array(t),s=0;for(o=0;o<t;o++){var r=i.indexOf(e[o]);0<=r?n[r]++:(i[s]=e[o],n[s]=1,s++)}var a=0,l=0;for(o=0;o<s;o++)n[o]>a&&(a=n[o],l=o);return i[l]},t.covariance=function(e,n,o){'undefined'==typeof o&&(o=!0);var s=t.mean(e),r=t.mean(n);if(e.length!==n.length)throw'Vectors do not have the same dimensions';for(var a=0,c=e.length,l=0;l<c;l++){var i=e[l]-s,m=n[l]-r;a+=i*m}return o?a/(c-1):a/c},t.skewness=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=t.mean(e),s=0,c=0,m=e.length,l=0,i;l<m;l++)i=e[l]-o,s+=i*i,c+=i*i*i;var u=s/m,d=c/m,h=d/r(u,3/2);if(n){var g=R(m*(m-1));return g/(m-2)*h}return h},t.kurtosis=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),r=e.length,n=0,a=0,l=0,i;l<r;l++)i=e[l]-s,n+=i*i,a+=i*i*i*i;var c=n/r,m=a/r;if(o){var u=n/(r-1),g=a/(u*u);return r*(r+1)/((r-1)*(r-2)*(r-3))*g-3*((r-1)*(r-1)/((r-2)*(r-3)))}return m/(c*c)-3},t.entropy=function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=0;r<o;r++)n+=e[r]*s(e[r]+t);return-n},t.weightedMean=function(e,t){for(var n=0,o=e.length,s=0;s<o;s++)n+=e[s]*t[s];return n},t.weightedStandardDeviation=function(e,i){return R(t.weightedVariance(e,i))},t.weightedVariance=function(e,n){for(var o=t.weightedMean(e,n),s=0,r=e.length,l=0,a=0,c=0;c<r;c++){var i=e[c]-o,m=n[c];s+=m*(i*i),a+=m,l+=m*m}return s*(a/(a*a-l))},t.center=function(e,n){'undefined'==typeof n&&(n=!1);var o=e;n||(o=e.slice());for(var s=t.mean(o),r=o.length,a=0;a<r;a++)o[a]-=s},t.standardize=function(e,n,o){'undefined'==typeof n&&(n=t.standardDeviation(e)),'undefined'==typeof o&&(o=!1);for(var s=e.length,r=o?e:Array(s),a=0;a<s;a++)r[a]=e[a]/n;return r},t.cumulativeSum=function(e){var t=e.length,n=Array(t);n[0]=e[0];for(var o=1;o<t;o++)n[o]=n[o-1]+e[o];return n}},function(e,t,i){'use strict';function n(e){function t(e,t){if(e.rows!==t.rows||e.columns!==t.columns)throw new RangeError('Matrices dimensions must be equal')}function n(e,t){return e-t}function x(e,t){for(var i in t)e=e.replace(new RegExp('%'+i+'%','g'),t[i]);return e}e===void 0&&(e=Object);class w extends e{static get[Symbol.species](){return this}static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError('Data length does not match given dimensions');for(var n=new this(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)n.set(o,s,i[o*t+s]);return n}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){n===void 0&&(n=Math.random);for(var o=this.empty(e,t),s=0;s<e;s++)for(var i=0;i<t;i++)o.set(s,i,n());return o}static randInt(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=Math.random);for(var s=this.empty(e,t),r=0;r<e;r++)for(var i=0,a;i<t;i++)a=c(o()*n),s.set(r,i,a);return s}static eye(e,t,n){t===void 0&&(t=e),n===void 0&&(n=1);for(var o=M(e,t),s=this.zeros(e,t),r=0;r<o;r++)s.set(r,r,n);return s}static diag(e,t,n){var o=e.length;t===void 0&&(t=o),n===void 0&&(n=t);for(var s=M(o,t,n),r=this.zeros(t,n),a=0;a<s;a++)r.set(a,a,e[a]);return r}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,M(e.get(r,i),t.get(r,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,o=e.columns,s=new this(n,o),r=0;r<n;r++)for(var i=0;i<o;i++)s.set(r,i,u(e.get(r,i),t.get(r,i)));return s}static checkMatrix(e){return w.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&'Matrix'===e.klass}get size(){return this.rows*this.columns}apply(e){if('function'!=typeof e)throw new TypeError('callback must be a function');for(var t=this.rows,n=this.columns,o=0;o<t;o++)for(var i=0;i<n;i++)e.call(this,o,i);return this}to1DArray(){for(var e=Array(this.size),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e[t*this.columns+i]=this.get(t,i);return e}to2DArray(){for(var e=Array(this.rows),t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),o=0;o<e;o++)for(var i=0;i<t;i++)n.setSubMatrix(this,this.rows*o,this.columns*i);return n}fill(e){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){l.checkRowIndex(this,e);for(var t=Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){l.checkRowIndex(this,e),t=l.checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){l.checkRowIndex(this,e),l.checkRowIndex(this,t);for(var n=0,i;n<this.columns;n++)i=this.get(e,n),this.set(e,n,this.get(t,n)),this.set(t,n,i);return this}getColumn(e){l.checkColumnIndex(this,e);for(var t=Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){l.checkColumnIndex(this,e),t=l.checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){l.checkColumnIndex(this,e),l.checkColumnIndex(this,t);for(var n=0,i;n<this.rows;n++)i=this.get(n,e),this.set(n,e,this.get(n,t)),this.set(n,t,i);return this}addRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=l.checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=l.checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){l.checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){l.checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i),t[0]=n,t[1]=i);return t}maxRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),n[1]=o);return n}minRow(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){l.checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),n[1]=o);return n}maxColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),n[0]=o);return n}minColumn(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){l.checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),n[0]=o);return n}diag(){for(var e=M(this.rows,this.columns),t=Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){return'row'===e?l.sumByRow(this):'column'===e?l.sumByColumn(this):l.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e*=this.get(t,i);return e}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){w.isMatrix(e)&&(e=e.to1DArray());var t=this.to1DArray();if(t.length!==e.length)throw new RangeError('vectors do not have the same size');for(var n=0,o=0;o<t.length;o++)n+=t[o]*e[o];return n}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var t=this.rows,o=this.columns,n=e.columns,r=new this.constructor[Symbol.species](t,n),a=Array(o),l=0;l<n;l++){for(var c=0;c<o;c++)a[c]=e.get(c,l);for(var m=0,i;m<t;m++){for(i=0,c=0;c<o;c++)i+=this.get(m,c)*a[c];r.set(m,l,i)}}return r}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const i=this.get(0,0),n=e.get(0,0),o=this.get(0,1),s=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),m=(i+l)*(n+c),u=(r+l)*n,g=i*(s-c),d=l*(a-n),h=(i+o)*c;return t.set(0,0,m+d-h+(o-l)*(a+c)),t.set(0,1,g+h),t.set(1,0,u+d),t.set(1,1,m-u+g+(r-i)*(n+s)),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const i=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),m=this.get(2,2),u=e.get(0,0),g=e.get(0,1),d=e.get(0,2),h=e.get(1,0),p=e.get(1,1),k=e.get(1,2),j=e.get(2,0),x=e.get(2,1),w=e.get(2,2),y=(i-s)*(-g+p),f=(-i+s+r)*(u-g+p),M=(s+r)*(-u+g),b=i*u,v=(-i+l+c)*(u-d+k),R=(-i+l)*(d-k),S=(l+c)*(-u+d),I=(-o+c+m)*(p+j-x),V=(o-m)*(p-x),C=o*j,z=(c+m)*(-j+x),D=(-o+r+a)*(k+j-w),A=(o-a)*(k-w),L=(r+a)*(-j+w);return t.set(0,0,b+C+n*h),t.set(0,1,(i+n+o-s-r-c-m)*p+f+M+b+I+C+z),t.set(0,2,b+v+S+(i+n+o-r-a-l-c)*k+C+D+L),t.set(1,0,y+r*(-u+g+h-p-k-j+w)+f+b+C+D+A),t.set(1,1,y+f+M+b+a*x),t.set(1,2,C+D+A+L+s*d),t.set(2,0,b+v+R+c*(-u+d+h-p-k-j+x)+I+V+C),t.set(2,1,I+V+C+z+l*g),t.set(2,2,b+v+R+S+m*w),t}mmulStrassen(e){function t(e,t,i){var n=e.rows,o=e.columns;if(n===t&&o===i)return e;var s=w.zeros(t,i);return s=s.setSubMatrix(e,0,0),s}function i(e,n,o,s){if(512>=o||512>=s)return e.mmul(n);1==o%2&&1==s%2?(e=t(e,o+1,s+1),n=t(n,o+1,s+1)):1==o%2?(e=t(e,o+1,s),n=t(n,o+1,s)):1==s%2&&(e=t(e,o,s+1),n=t(n,o,s+1));var r=parseInt(e.rows/2),a=parseInt(e.columns/2),l=e.subMatrix(0,r-1,0,a-1),c=n.subMatrix(0,r-1,0,a-1),m=e.subMatrix(0,r-1,a,e.columns-1),u=n.subMatrix(0,r-1,a,n.columns-1),g=e.subMatrix(r,e.rows-1,0,a-1),d=n.subMatrix(r,n.rows-1,0,a-1),h=e.subMatrix(r,e.rows-1,a,e.columns-1),p=n.subMatrix(r,n.rows-1,a,n.columns-1),k=i(w.add(l,h),w.add(c,p),r,a),j=i(w.add(g,h),c,r,a),x=i(l,w.sub(u,p),r,a),y=i(h,w.sub(d,c),r,a),f=i(w.add(l,m),p,r,a),M=i(w.sub(g,l),w.add(c,u),r,a),b=i(w.sub(m,h),w.add(d,p),r,a),v=w.add(k,y);v.sub(f),v.add(b);var R=w.add(x,f),S=w.add(j,y),I=w.sub(k,j);I.add(x),I.add(M);var V=w.zeros(2*v.rows,2*v.columns);return V=V.setSubMatrix(v,0,0),V=V.setSubMatrix(R,v.rows,0),V=V.setSubMatrix(S,0,v.columns),V=V.setSubMatrix(I,v.rows,v.columns),V.subMatrix(0,o-1,0,s-1)}var n=this.clone(),o=n.rows,s=n.columns,a=e.rows,l=e.columns;s!==a&&console.warn(`Multiplying ${o} x ${s} and ${a} x ${l} matrix: dimensions do not match.`);var m=u(o,a),r=u(s,l);return n=t(n,m,r),e=t(e,m,r),i(n,e,m,r)}scaleRows(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.rows;o++)i=s.scale(this.getRow(o),{min:e,max:t}),n.setRow(o,i);return n}scaleColumns(e,t){if(e=void 0===e?0:e,t=void 0===t?1:t,e>=t)throw new RangeError('min should be strictly smaller than max');for(var n=this.constructor.empty(this.rows,this.columns),o=0,i;o<this.columns;o++)i=s.scale(this.getColumn(o),{min:e,max:t}),n.setColumn(o,i);return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,o=this.columns,n=e.rows,s=e.columns,r=new this.constructor[Symbol.species](t*n,o*s),a=0;a<t;a++)for(var i=0;i<o;i++)for(var c=0;c<n;c++)for(var m=0;m<s;m++)r[n*a+c][s*i+m]=this.get(a,i)*e.get(c,m);return r}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e){e===void 0&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){e===void 0&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,o){l.checkRange(this,e,t,n,o);for(var s=new this.constructor[Symbol.species](t-e+1,o-n+1),r=e;r<=t;r++)for(var i=n;i<=o;i++)s[r-e][i-n]=this.get(r,i);return s}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||0>t||t>=this.columns||0>n||n>=this.columns)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](e.length,n-t+1),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.rows)throw new RangeError('Row index out of range: '+e[s]);o.set(s,i-t,this.get(e[s],i))}return o}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||0>t||t>=this.rows||0>n||n>=this.rows)throw new RangeError('Argument out of range');for(var o=new this.constructor[Symbol.species](n-t+1,e.length),s=0;s<e.length;s++)for(var i=t;i<=n;i++){if(0>e[s]||e[s]>=this.columns)throw new RangeError('Column index out of range: '+e[s]);o.set(i-t,s,this.get(i,e[s]))}return o}setSubMatrix(e,t,n){e=this.constructor.checkMatrix(e);var o=t+e.rows-1,s=n+e.columns-1;l.checkRange(this,t,o,n,s);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this[t+r][n+i]=e.get(r,i);return this}selection(e,t){for(var n=l.checkIndices(this,e,t),o=new this.constructor[Symbol.species](e.length,t.length),s=0,i;s<n.row.length;s++){i=n.row[s];for(var r=0,a;r<n.column.length;r++)a=n.column[r],o[s][r]=this.get(i,a)}return o}trace(){for(var e=M(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new m(this)}rowView(e){return l.checkRowIndex(this,e),new g(this,e)}columnView(e){return l.checkColumnIndex(this,e),new p(this,e)}flipRowView(){return new k(this)}flipColumnView(){return new j(this)}subMatrixView(e,t,i,n){return new d(this,e,t,i,n)}selectionView(e,t){return new h(this,e,t)}det(){if(this.isSquare()){var e,t,i,n;if(2===this.columns)return e=this.get(0,0),t=this.get(0,1),i=this.get(1,0),n=this.get(1,1),e*n-t*i;if(3===this.columns){var s,r,a;return s=this.selectionView([1,2],[1,2]),r=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),i=this.get(0,2),e*s.det()-t*r.det()+i*a.det()}return new o(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(e){void 0===e&&(e=a);for(var t=new r(this,{autoTranspose:!0}),n=t.leftSingularVectors,o=t.rightSingularVectors,l=t.diagonal,s=0;s<l.length;s++)l[s]=v(l[s])>e?1/l[s]:0;return l=this.constructor[Symbol.species].diag(l),o.mmul(l.mmul(n.transposeView()))}}w.prototype.klass='Matrix',w.random=w.rand,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct,w.prototype.determinant=w.prototype.det;var y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,f=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,b=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,R=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,S=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,I=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,V=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,C=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,z=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,D=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,A=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,L=C,U=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],P;for(var i of U){var F=eval(x(y,{name:i[1],op:i[0]})),q=eval(x(f,{name:i[1]+'S',op:i[0]})),O=eval(x(b,{name:i[1]+'M',op:i[0]})),_=eval(x(R,{name:i[1]}));for(P=1;P<i.length;P++)w.prototype[i[P]]=F,w.prototype[i[P]+'S']=q,w.prototype[i[P]+'M']=O,w[i[P]]=_}var N=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){N.push(['Math.'+e,e])});for(var T of N){var B=eval(x(S,{name:T[1],method:T[0]})),E=eval(x(I,{name:T[1]}));for(P=1;P<T.length;P++)w.prototype[T[P]]=B,w[T[P]]=E}var Q=[['Math.pow',1,'pow']];for(var W of Q){var X='arg0';for(P=1;P<W[1];P++)X+=`, arg${P}`;if(1!==W[1]){var J=eval(x(V,{name:W[2],method:W[0],args:X})),Y=eval(x(C,{name:W[2],args:X}));for(P=2;P<W.length;P++)w.prototype[W[P]]=J,w[W[P]]=Y}else{var H={name:W[2],args:X,method:W[0]},K=eval(x(A,H)),G=eval(x(z,H)),Z=eval(x(D,H)),$=eval(x(L,H));for(P=2;P<W.length;P++)w.prototype[W[P]]=K,w.prototype[W[P]+'M']=Z,w.prototype[W[P]+'S']=G,w[W[P]]=$}}return w}e.exports=n;var o=i(99),r=i(100),s=i(3),l=i(31),m=i(325),g=i(322),d=i(324),h=i(323),p=i(319),k=i(321),j=i(320)},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);e=o.Matrix.checkMatrix(e);var r=e.clone(),a=r.rows,l=r.columns,c=Array(a),m=1,u,i,g,d,h,s,t,p,k,j;for(u=0;u<a;u++)c[u]=u;for(k=Array(a),i=0;i<l;i++){for(u=0;u<a;u++)k[u]=r[u][i];for(u=0;u<a;u++){for(p=r[u],j=M(u,i),h=0,g=0;g<j;g++)h+=p[g]*k[g];p[i]=k[u]-=h}for(d=i,u=i+1;u<a;u++)v(k[u])>v(k[d])&&(d=u);if(d!==i){for(g=0;g<l;g++)s=r[d][g],r[d][g]=r[i][g],r[i][g]=s;t=c[d],c[d]=c[i],c[i]=t,m=-m}if(i<a&&0!==r[i][i])for(u=i+1;u<a;u++)r[u][i]/=r[i][i]}this.LU=r,this.pivotVector=c,this.pivotSign=m}var o=i(12);n.prototype={isSingular:function(){for(var e=this.LU,t=e.columns,i=0;i<t;i++)if(0===e[i][i])return!0;return!1},get determinant(){var e=this.LU;if(!e.isSquare())throw new Error('Matrix must be square');for(var t=this.pivotSign,i=e.columns,n=0;n<i;n++)t*=e[n][n];return t},get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r>i?e[r][i]:r===i?1:0;return s},get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,s=new o.Matrix(t,n),r=0;r<t;r++)for(var i=0;i<n;i++)s[r][i]=r<=i?e[r][i]:0;return s},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(e){e=o.Matrix.checkMatrix(e);var t=this.LU,n=t.rows;if(n!==e.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var s=e.columns,r=e.subMatrixRow(this.pivotVector,0,s-1),a=t.columns,l,i,c;for(c=0;c<a;c++)for(l=c+1;l<a;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c];for(c=a-1;0<=c;c--){for(i=0;i<s;i++)r[c][i]/=t[c][c];for(l=0;l<c;l++)for(i=0;i<s;i++)r[l][i]-=r[c][i]*t[l][c]}return r}},e.exports=n},function(e,t,i){'use strict';function o(h,x){if(!(this instanceof o))return new o(h,x);h=r.Matrix.checkMatrix(h),x=x||{};var w=h.rows,m=h.columns,n=M(w,m),y=!0,S=!0;!1===x.computeLeftSingularVectors&&(y=!1),!1===x.computeRightSingularVectors&&(S=!1);var I=!0===x.autoTranspose,C=!1,z;if(!(w<m))z=h.clone();else if(!I)z=h.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{z=h.transpose(),w=z.rows,m=z.columns,C=!0;var a=y;y=S,S=a}var D=Array(M(w+1,m)),s=d(w,n,0),A=d(m,m,0),V=Array(m),e=Array(w),L=M(w-1,m),U=u(0,M(m-2,w)),P,i,j,k,p,F,q,f,O,_,N,T,B,E,Q,W,X,J,b,c,Y;for(j=0,_=u(L,U);j<_;j++){if(j<L){for(D[j]=0,P=j;P<w;P++)D[j]=l(D[j],z[P][j]);if(0!==D[j]){for(0>z[j][j]&&(D[j]=-D[j]),P=j;P<w;P++)z[P][j]/=D[j];z[j][j]+=1}D[j]=-D[j]}for(i=j+1;i<m;i++){if(j<L&&0!==D[j]){for(p=0,P=j;P<w;P++)p+=z[P][j]*z[P][i];for(p=-p/z[j][j],P=j;P<w;P++)z[P][i]+=p*z[P][j]}V[i]=z[j][i]}if(y&&j<L)for(P=j;P<w;P++)s[P][j]=z[P][j];if(j<U){for(V[j]=0,P=j+1;P<m;P++)V[j]=l(V[j],V[P]);if(0!==V[j]){for(0>V[j+1]&&(V[j]=0-V[j]),P=j+1;P<m;P++)V[P]/=V[j];V[j+1]+=1}if(V[j]=-V[j],j+1<w&&0!==V[j]){for(P=j+1;P<w;P++)e[P]=0;for(i=j+1;i<m;i++)for(P=j+1;P<w;P++)e[P]+=V[i]*z[P][i];for(i=j+1;i<m;i++)for(p=-V[i]/V[j+1],P=j+1;P<w;P++)z[P][i]+=p*e[P]}if(S)for(P=j+1;P<m;P++)A[P][j]=V[P]}}if(k=M(m,w+1),L<m&&(D[L]=z[L][L]),w<k&&(D[k-1]=0),U+1<k&&(V[U]=z[U][k-1]),V[k-1]=0,y){for(i=L;i<n;i++){for(P=0;P<w;P++)s[P][i]=0;s[i][i]=1}for(j=L-1;0<=j;j--)if(0!==D[j]){for(i=j+1;i<n;i++){for(p=0,P=j;P<w;P++)p+=s[P][j]*s[P][i];for(p=-p/s[j][j],P=j;P<w;P++)s[P][i]+=p*s[P][j]}for(P=j;P<w;P++)s[P][j]=-s[P][j];for(s[j][j]=1+s[j][j],P=0;P<j-1;P++)s[P][j]=0}else{for(P=0;P<w;P++)s[P][j]=0;s[j][j]=1}}if(S)for(j=m-1;0<=j;j--){if(j<U&&0!==V[j])for(i=j+1;i<m;i++){for(p=0,P=j+1;P<m;P++)p+=A[P][j]*A[P][i];for(p=-p/A[j+1][j],P=j+1;P<m;P++)A[P][i]+=p*A[P][j]}for(P=0;P<m;P++)A[P][j]=0;A[j][j]=1}for(var g=k-1,H=0,K=2.220446049250313e-16;0<k;){for(j=k-2;-1<=j&&-1!==j;j--)if(v(V[j])<=K*(v(D[j])+v(D[j+1]))){V[j]=0;break}if(j===k-2)N=4;else{for(F=k-1;F>=j&&F!==j;F--)if(p=(F===k?0:v(V[F]))+(F===j+1?0:v(V[F-1])),v(D[F])<=K*p){D[F]=0;break}F===j?N=3:F===k-1?N=1:(N=2,j=F)}switch(j++,N){case 1:{for(q=V[k-2],V[k-2]=0,i=k-2;i>=j;i--)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,i!==j&&(q=-O*V[i-1],V[i-1]=f*V[i-1]),S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][k-1],A[P][k-1]=-O*A[P][i]+f*A[P][k-1],A[P][i]=p;break}case 2:{for(q=V[j-1],V[j-1]=0,i=j;i<k;i++)if(p=l(D[i],q),f=D[i]/p,O=q/p,D[i]=p,q=-O*V[i],V[i]=f*V[i],y)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][j-1],s[P][j-1]=-O*s[P][i]+f*s[P][j-1],s[P][i]=p;break}case 3:{for(T=u(u(u(u(v(D[k-1]),v(D[k-2])),v(V[k-2])),v(D[j])),v(V[j])),B=D[k-1]/T,E=D[k-2]/T,Q=V[k-2]/T,W=D[j]/T,X=V[j]/T,J=((E+B)*(E-B)+Q*Q)/2,b=B*Q*(B*Q),c=0,(0!==J||0!==b)&&(c=R(J*J+b),0>J&&(c=-c),c=b/(J+c)),q=(W+B)*(W-B)+c,Y=W*X,i=j;i<k-1;i++){if(p=l(q,Y),f=q/p,O=Y/p,i!==j&&(V[i-1]=p),q=f*D[i]+O*V[i],V[i]=f*V[i]-O*D[i],Y=O*D[i+1],D[i+1]=f*D[i+1],S)for(P=0;P<m;P++)p=f*A[P][i]+O*A[P][i+1],A[P][i+1]=-O*A[P][i]+f*A[P][i+1],A[P][i]=p;if(p=l(q,Y),f=q/p,O=Y/p,D[i]=p,q=f*V[i]+O*D[i+1],D[i+1]=-O*V[i]+f*D[i+1],Y=O*V[i+1],V[i+1]=f*V[i+1],y&&i<w-1)for(P=0;P<w;P++)p=f*s[P][i]+O*s[P][i+1],s[P][i+1]=-O*s[P][i]+f*s[P][i+1],s[P][i]=p}V[k-2]=q,++H;break}case 4:{if(0>=D[j]&&(D[j]=0>D[j]?-D[j]:0,S))for(P=0;P<=g;P++)A[P][j]=-A[P][j];for(;j<g&&!(D[j]>=D[j+1]);){if(p=D[j],D[j]=D[j+1],D[j+1]=p,S&&j<m-1)for(P=0;P<m;P++)p=A[P][j+1],A[P][j+1]=A[P][j],A[P][j]=p;if(y&&j<w-1)for(P=0;P<w;P++)p=s[P][j+1],s[P][j+1]=s[P][j],s[P][j]=p;j++}H=0,k--;break}}}if(C){var G=A;A=s,s=G}this.m=w,this.n=m,this.s=D,this.U=s,this.V=A}var r=i(12),n=i(50),l=n.hypotenuse,d=n.getFilled2DArray;o.prototype={get condition(){return this.s[0]/this.s[M(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var e=u(this.m,this.n)*this.s[0]*2.220446049250313e-16,t=0,n=this.s,o=0,i=n.length;o<i;o++)n[o]>e&&t++;return t},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*u(this.m,this.n)*this.s[0]},get leftSingularVectors(){return r.Matrix.isMatrix(this.U)||(this.U=new r.Matrix(this.U)),this.U},get rightSingularVectors(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V},get diagonalMatrix(){return r.Matrix.diag(this.s)},solve:function(t){var n=this.threshold,e=this.s.length,o=r.Matrix.zeros(e,e),s;for(s=0;s<e;s++)o[s][s]=v(this.s[s])<=n?0:1/this.s[s];var i=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,m=i.length,u=r.Matrix.zeros(c,m),g,d,h;for(s=0;s<c;s++)for(g=0;g<m;g++){for(h=0,d=0;d<e;d++)h+=l[s][d]*i[g][d];u[s][g]=h}return u.mmul(t)},solveForDiagonal:function(e){return this.solve(r.Matrix.diag(e))},inverse:function(){var t=this.V,n=this.threshold,e=t.length,o=t[0].length,s=new r.Matrix(e,this.s.length),a,i;for(a=0;a<e;a++)for(i=0;i<o;i++)s[a][i]=v(this.s[i])>n?t[a][i]/this.s[i]:0;var l=this.U,c=l.length,m=l[0].length,u=new r.Matrix(e,c),g,d;for(a=0;a<e;a++)for(i=0;i<c;i++){for(d=0,g=0;g<m;g++)d+=s[a][g]*l[i][g];u[a][i]=d}return u}},e.exports=o},function(e){function t(e,t,i,n){this.x=e,this.y=t,this.weights=i,this.som=n,this.neighbors={}}t.prototype.adjustWeights=function(e,t,n){for(var o=0,i=this.weights.length;o<i;o++)this.weights[o]+=t*n*(e[o]-this.weights[o])},t.prototype.getDistance=function(e){return u(v(this.x-e.x),v(this.y-e.y))},t.prototype.getDistanceTorus=function(e){var t=v(this.x-e.x),i=v(this.y-e.y);return u(M(t,this.som.gridDim.x-t),M(i,this.som.gridDim.y-i))},t.prototype.getNeighbors=function(e){if(!this.neighbors[e]){this.neighbors[e]=[,,];var t;if(0<this[e]?t=this[e]-1:this.som.torus&&(t=this.som.gridDim[e]-1),'undefined'!=typeof t){var i,n;'x'===e?(i=t,n=this.y):(i=this.x,n=t),this.neighbors[e][0]=this.som.nodes[i][n]}var o;this[e]<this.som.gridDim[e]-1?o=this[e]+1:this.som.torus&&(o=0),'undefined'!=typeof o&&('x'===e?(i=o,n=this.y):(i=this.x,n=o),this.neighbors[e][1]=this.som.nodes[i][n])}return this.neighbors[e]},t.prototype.getPos=function(e,t){var i=this.getNeighbors(e),n=this.som.distance,o,s;if(!i[0])o=i[1],s=1;else if(i[1]){var r=n(t,i[0].weights),a=n(t,i[1].weights);r<a?(o=i[0],s=-1):(o=i[1],s=1)}else o=i[0],s=-1;var l=1-n(t,this.weights),c=1-n(t,o.weights);return 0.5+0.5*((l-c)/(2-l-c))*s},t.prototype.getPosition=function(e){return[this.getPos('x',e),this.getPos('y',e)]},e.exports=t},function(e,t){'use strict';function o(e,t){return e-t}t.sum=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},t.max=function(e){for(var t=e[0],n=e.length,o=1;o<n;o++)e[o]>t&&(t=e[o]);return t},t.min=function(e){for(var t=e[0],n=e.length,o=1;o<n;o++)e[o]<t&&(t=e[o]);return t},t.minMax=function(e){for(var t=e[0],n=e[0],o=e.length,s=1;s<o;s++)e[s]<t&&(t=e[s]),e[s]>n&&(n=e[s]);return{min:t,max:n}},t.arithmeticMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=e[o];return t/n},t.mean=t.arithmeticMean,t.geometricMean=function(e){for(var t=1,n=e.length,o=0;o<n;o++)t*=e[o];return r(t,1/n)},t.logMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++)t+=s(e[o]);return t/n},t.grandMean=function(e,t){for(var o=0,s=0,n=e.length,r=0;r<n;r++)o+=t[r]*e[r],s+=t[r];return o/s},t.truncatedMean=function(e,t,n){n===void 0&&(n=!1),n||(e=[].concat(e).sort(o));for(var s=e.length,r=c(s*t),a=0,l=r;l<s-r;l++)a+=e[l];return a/(s-2*r)},t.harmonicMean=function(e){for(var t=0,n=e.length,o=0;o<n;o++){if(0===e[o])throw new RangeError('value at index '+o+'is zero');t+=1/e[o]}return n/t},t.contraHarmonicMean=function(e){for(var t=0,n=0,o=e.length,s=0;s<o;s++)t+=e[s]*e[s],n+=e[s];if(0>n)throw new RangeError('sum of values is negative');return t/n},t.median=function(e,t){t===void 0&&(t=!1),t||(e=[].concat(e).sort(o));var i=e.length,n=c(i/2);return 0==i%2?0.5*(e[n-1]+e[n]):e[n]},t.variance=function(e,n){n===void 0&&(n=!0);for(var o=t.mean(e),s=0,r=e.length,a=0,i;a<r;a++)i=e[a]-o,s+=i*i;return n?s/(r-1):s/r},t.standardDeviation=function(e,i){return R(t.variance(e,i))},t.standardError=function(e){return t.standardDeviation(e)/R(e.length)},t.robustMeanAndStdev=function(e){var t=0,n=0,s=e.length,r=0;for(r=0;r<s;r++)t+=e[r];t/=s;var i=Array(s);for(r=0;r<s;r++)i[r]=v(e[r]-t);return i.sort(o),n=1==s%2?i[(s-1)/2]/0.6745:0.5*(i[s/2]+i[s/2-1])/0.6745,{mean:t,stdev:n}},t.quartiles=function(e,i){'undefined'==typeof i&&(i=!1),i||(e=[].concat(e).sort(o));var s=e.length/4,r=e[n(s)-1],a=t.median(e,!0),l=e[n(3*s)-1];return{q1:r,q2:a,q3:l}},t.pooledStandardDeviation=function(e,i){return R(t.pooledVariance(e,i))},t.pooledVariance=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=0,s=0,r=e.length,a=0;a<r;a++){var i=e[a],l=t.variance(i);o+=(i.length-1)*l,s+=n?i.length-1:i.length}return o/s},t.mode=function(e){var t=e.length,n=Array(t),o;for(o=0;o<t;o++)n[o]=0;var i=Array(t),s=0;for(o=0;o<t;o++){var r=i.indexOf(e[o]);0<=r?n[r]++:(i[s]=e[o],n[s]=1,s++)}var a=0,l=0;for(o=0;o<s;o++)n[o]>a&&(a=n[o],l=o);return i[l]},t.covariance=function(e,n,o){'undefined'==typeof o&&(o=!0);var s=t.mean(e),r=t.mean(n);if(e.length!==n.length)throw'Vectors do not have the same dimensions';for(var a=0,c=e.length,l=0;l<c;l++){var i=e[l]-s,m=n[l]-r;a+=i*m}return o?a/(c-1):a/c},t.skewness=function(e,n){'undefined'==typeof n&&(n=!0);for(var o=t.mean(e),s=0,c=0,m=e.length,l=0,i;l<m;l++)i=e[l]-o,s+=i*i,c+=i*i*i;var u=s/m,d=c/m,h=d/r(u,3/2);if(n){var g=R(m*(m-1));return g/(m-2)*h}return h},t.kurtosis=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),r=e.length,n=0,a=0,l=0,i;l<r;l++)i=e[l]-s,n+=i*i,a+=i*i*i*i;var c=n/r,m=a/r;if(o){var u=n/(r-1),g=a/(u*u);return r*(r+1)/((r-1)*(r-2)*(r-3))*g-3*((r-1)*(r-1)/((r-2)*(r-3)))}return m/(c*c)-3},t.entropy=function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=0;r<o;r++)n+=e[r]*s(e[r]+t);return-n},t.weightedMean=function(e,t){for(var n=0,o=e.length,s=0;s<o;s++)n+=e[s]*t[s];return n},t.weightedStandardDeviation=function(e,i){return R(t.weightedVariance(e,i))},t.weightedVariance=function(e,n){for(var o=t.weightedMean(e,n),s=0,r=e.length,l=0,a=0,c=0;c<r;c++){var i=e[c]-o,m=n[c];s+=m*(i*i),a+=m,l+=m*m}return s*(a/(a*a-l))},t.center=function(e,n){'undefined'==typeof n&&(n=!1);var o=e;n||(o=[].concat(e));for(var s=t.mean(o),r=o.length,a=0;a<r;a++)o[a]-=s},t.standardize=function(e,n,o){'undefined'==typeof n&&(n=t.standardDeviation(e)),'undefined'==typeof o&&(o=!1);for(var s=e.length,r=o?e:Array(s),a=0;a<s;a++)r[a]=e[a]/n;return r},t.cumulativeSum=function(e){var t=e.length,n=Array(t);n[0]=e[0];for(var o=1;o<t;o++)n[o]=n[o-1]+e[o];return n}},function(e,t,i){'use strict';function n(e){for(var t='',n=0,i;n<e.length;n++)i=(e[n]>>>0).toString(2),t+='00000000000000000000000000000000'.substr(i.length)+i;return t}var o=i(129);e.exports={count:function(e){for(var t=0,n=0;n<e.length;n++)t+=o[255&e[n]]+o[255&e[n]>>8]+o[255&e[n]>>16]+o[255&e[n]>>24];return t},and:function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=e[o]&t[o];return n},or:function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=e[o]|t[o];return n},xor:function(e,t){for(var n=Array(e.length),o=0;o<e.length;o++)n[o]=e[o]^t[o];return n},not:function(e){for(var t=Array(e.length),n=0;n<t.length;n++)t[n]=~e[n];return t},getBit:function(e,t){return!!(e[t>>5]&1<<31-t%32)},setBit:function(e,t,i){var n=t>>5,o=1<<31-t%32;return e[n]=i?o|e[n]:~o&e[n],e},toBinaryString:n,parseBinaryString:function(e){for(var t=e.length/32,n=Array(t),o=0;o<t;o++)n[o]=0|parseInt(e.substr(32*o,32),2);return n},toHexString:function(e){for(var t='',n=0,i;n<e.length;n++)i=(e[n]>>>0).toString(16),t+='00000000'.substr(i.length)+i;return t},parseHexString:function(e){for(var t=e.length/8,n=Array(t),o=0;o<t;o++)n[o]=0|parseInt(e.substr(8*o,8),16);return n},toDebug:function(e){for(var t=n(e),o='',s=0;s<e.length;s++){o+='0000'.substr((32*s).toString(16).length)+(32*s).toString(16)+':';for(var i=0;32>i;i+=4)o+=' '+t.substr(32*s+i,4);s<e.length-1&&(o+='\n')}return o}}},function(e,t,i){'use strict';function n(e,t){if(e.length!==t.length)throw new Error('features and labels should have the same length')}function o(e,t){return Array(e).fill(0).map(()=>Array(t).fill(0))}function s(e){var t=new Set;for(let n=0;n<e.length;n++)t.add(e[n]);return Array.from(t)}function r(e,t,n,o,s,r,a,l){var c=s.map(function(e){return t[e]}),m=r.map(function(e){return t[e]}),u=s.map(function(e){return n[e]}),g=r.map(function(e){return n[e]}),d=new e(o);d.train(m,g);for(var h=d.predict(c),p=0;p<h.length;p++)a[l.indexOf(u[p])][l.indexOf(h[p])]++}const a=i(131),l={},m=i(130);l.leaveOneOut=function(e,t,i,n){return l.leavePOut(e,t,i,n,1)},l.leavePOut=function(e,t,l,c,u){n(t,l);const g=s(l),d=o(g.length,g.length);var h=t.length,p=m(u,h),k=Array(h),j;for(j=0;j<h;j++)k[j]=j;for(const n of p){var i=k.slice();for(j=n.length-1;0<=j;j--)i.splice(n[j],1);r(e,t,l,c,n,i,d,g)}return new a(d,g)},l.kFold=function(e,t,m,u,g){n(t,m);const d=s(m),h=o(d.length,d.length);for(var p=t.length,k=Array(p),x=0;x<p;x++)k[x]=x;for(var i=c(p/g),l=[],w=[];k.length;){var y=c(Math.random()*k.length);l.push(k[y]),k.splice(y,1),l.length===i&&(w.push(l),l=[])}for(l.length&&w.push(l),w=w.slice(0,g),x=0;x<w.length;x++){for(var f=w[x],M=[],b=0;b<w.length;b++)b!==x&&(M=M.concat(w[b]));r(e,t,m,u,f,M,h,d)}return new a(h,d)},e.exports=l},function(e,t,i){'use strict';const n=i(37),o=i(73),s=i(202),r=i(75),a=i(74);class l{constructor(e){if(e=e||{},e.model){this.hiddenLayers=e.hiddenLayers,this.iterations=e.iterations,this.learningRate=e.learningRate,this.regularization=e.regularization,this.dicts=e.dicts,this.activation=e.activation,this.activationParam=e.activationParam,this.model=Array(e.layers.length);for(var t=0;t<this.model.length-1;++t)this.model[t]=o.load(e.layers[t]);this.model[this.model.length-1]=s.load(e.layers[this.model.length-1])}else this.hiddenLayers=void 0===e.hiddenLayers?[10]:e.hiddenLayers,this.iterations=void 0===e.iterations?50:e.iterations,this.learningRate=void 0===e.learningRate?0.01:e.learningRate,this.regularization=void 0===e.regularization?0.01:e.regularization,this.activation=void 0===e.activation?'tanh':e.activation,this.activationParam=void 0===e.activationParam?1:e.activationParam,this.activation in Object.keys(a)||(this.activation='tanh')}buildNetwork(e,t){var n=2+(this.hiddenLayers.length-1);this.model=Array(n),this.model[0]=new o({inputSize:e,outputSize:this.hiddenLayers[0],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});for(var r=1;r<this.hiddenLayers.length;++r)this.model[r]=new o({inputSize:this.hiddenLayers[r-1],outputSize:this.hiddenLayers[r],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});this.model[n-1]=new s({inputSize:this.hiddenLayers[this.hiddenLayers.length-1],outputSize:t,activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate})}train(e,t){e=n.checkMatrix(e),this.dicts=r.dictOutputs(t);var o=e.columns,s=Object.keys(this.dicts.inputs).length;this.buildNetwork(o,s);for(var a=0,i;a<this.iterations;++a)i=this.propagate(e),this.backpropagation(e,t,i)}propagate(e){for(var t=e,n=0;n<this.model.length;++n)t=this.model[n].forward(t);return t.divColumnVector(r.sumRow(t))}backpropagation(e,t,n){for(var o=0;o<n.length;++o)n[o][this.dicts.inputs[t[o]]]-=1;var i=n;for(o=this.model.length-1;0<=o;--o){var s=0<o?this.model[o-1].a:e;i=this.model[o].backpropagation(i,s)}for(o=0;o<this.model.length;++o)this.model[o].update()}predict(e){e=n.checkMatrix(e);for(var t=Array(e.rows),o=this.propagate(e),s=0;s<e.rows;++s)t[s]=this.dicts.outputs[o.maxRowIndex(s)[1]];return t}toJSON(){for(var e={model:'FNN',hiddenLayers:this.hiddenLayers,iterations:this.iterations,learningRate:this.learningRate,regularization:this.regularization,activation:this.activation,activationParam:this.activationParam,dicts:this.dicts,layers:Array(this.model.length)},t=0;t<this.model.length;++t)e.layers[t]=this.model[t].toJSON();return e}static load(e){if('FNN'!==e.model)throw new RangeError('the current model is not a feed forward network');return new l(e)}}e.exports=l},function(e,t,i){'use strict';t.agnes=i(204),t.diana=i(205)},function(e,i,n){'use strict';function o(e,t,i,n,o,s){i=r.updateClusterID(t,e,i,o.distanceFunction);var a=r.updateCenters(t,i,n),c=r.converged(a,e,o.distanceFunction,o.tolerance);return new l(i,a,c,s,o.distanceFunction)}function*s(e,t,i,n,s){for(var r=!1,a=0,l;!r&&a<s.maxIterations;)l=o(e,t,i,n,s,++a),yield l.computeInformation(t),r=l.converged,e=l.centroids}const r=n(77),a=n(217),l=n(216),c=n(0).squared,u={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:'mostDistant',distanceFunction:c};e.exports=function(e,i,n){if(n=Object.assign({},u,n),0>=i||i>e.length||!m(i))throw new Error('K should be a positive integer bigger than the number of points');var l;if(!Array.isArray(n.initialization))switch(n.initialization){case'random':l=a.random(e,i);break;case'mostDistant':l=a.mostDistant(e,i,r.calculateDistanceMatrix(e,n.distanceFunction));break;default:throw new Error('Unknown initialization method: "'+n.initialization+'"');}else if(n.initialization.length!==i)throw new Error('The initial centers should have the same length as K');else l=n.initialization;0===n.maxIterations&&(n.maxIterations=t);var c=Array(e.length);if(n.withIterations)return s(l,e,c,i,n);for(var g=!1,d=0,h;!g&&d<n.maxIterations;)h=o(l,e,c,i,n,++d),g=h.converged,l=h.centroids;return h.computeInformation(e)}},function(e,t,i){'use strict';e.exports=i(219)},function(e,t,i){'use strict';const n=i(233),o=i(234),s={damping:void 0,gradientDifference:0.1,initialValues:void 0,maxIterations:100,errorTolerance:0.01};e.exports=function(e,t,r){if(!r||!r.damping||0>=r.damping)throw new TypeError('The damping option should be a positive number');if(r=Object.assign({},s,r),!r.initialValues){r.initialValues=Array(t.length);for(var a=0;a<t.length;a++)r.initialValues[a]=1}if(!e.x||!e.y)throw new TypeError('The data parameter should have a x and y elements');else if(e.x.constructor!==Array||2>e.x.length||e.y.constructor!==Array||2>e.y.length)throw new TypeError('The data parameter elements should be an array with more than 2 points');const i=e.x.length;if(i!==e.y.length)throw new RangeError('The data parameter elements should have the same size');for(var l=r.initialValues,c=n(e,l,t),m=c<=r.errorTolerance,u=0;u<r.maxIterations&&!m;u++)l=o(e,l,r.damping,r.gradientDifference,t),c=n(e,l,t),m=c<=r.errorTolerance;return{parameterValues:l,parameterError:c,iterations:u}}},function(e,t,i){'use strict';e.exports=t=i(86).NaiveBayes,t.separateClasses=i(86).separateClasses},function(e,t,i){'use strict';function n(e,t){var n=t.length/3,o=e.rows,s=d.zeros(e.length,1),a,l,i,c;for(l=0;l<n;l++)for(c=r(t[l+2*n][0]/2,2),a=t[l+n][0]*c,i=0;i<o;i++)s[i][0]+=a/(r(e[i][0]-t[l][0],2)+c);return s}function o(e,t){for(var n=t[1][0]*r(t[2][0]/2,2),o=e.rows,s=new d(e.rows,e.columns),a=0;a<o;a++)s[a][0]=n/(r(e[a][0]-t[0][0],2)+r(t[2][0]/2,2));return s}function s(e,t){for(var n=t[2][0]*t[2][0]/2,o=e.rows,s=new d(e.rows,e.columns),r=0;r<o;r++)s[r][0]=t[1][0]*l(-(e[r][0]-t[0][0])*(e[r][0]-t[0][0])/n);return s}function a(e,i,n){n=n||{};var s=m(e,n.percentage||0);if(null===s||3>s[0].rows)return null;var r=s[0],t=s[1],a=s[2],l=r.rows,c=[l/R(t.dot(t))],n=Object.create(n.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),g=v(r[0][0]-r[1][0]),h=new d([[-g/1e4],[-0.001],[-g/1e4]]),p=new d([[i.x],[1],[i.width]]),k=new d([[i.x-g],[0.75],[i.width/4]]),j=new d([[i.x+g],[1.25],[4*i.width]]),x=u.optimize(o,p,r,t,c,h,k,j,[],n);return x=x.p,[x[0],[x[1][0]*a],x[2]]}function c(e,i,n){n=n||{};var o=m(e,n.percentage||0);if(null===o||3>o[0].rows)return null;var r=o[0],t=o[1],a=o[2],l=r.rows,c=[l/R(t.dot(t))],n=Object.create(n.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),g=v(r[0][0]-r[1][0]),h=new d([[-g/1e4],[-0.001],[-g/1e4]]),h=new d([[-v(r[0][0]-r[1][0])/1e3],[-0.001],[-i.width/1e3]]),p=new d([[i.x],[1],[i.width]]),k=new d([[i.x-g],[0.75],[i.width/4]]),j=new d([[i.x+g],[1.25],[4*i.width]]),x=u.optimize(s,p,r,t,c,h,k,j,[],n);return x=x.p,[x[0],[x[1][0]*a],x[2]]}function m(e,n){var o=e.length,s=null,t=null,r=0,a,l,c;if(2==o){var i=e[0].length;if(s=Array(i),t=Array(i),a=e[0],l=e[1],'number'==typeof a[0])for(c=0;c<i;c++)s[c]=a[c],t[c]=l[c],l[c]>r&&(r=l[c]);else if('object'==typeof a[0])for(c=0;c<i;c++)s[c]=a[c][0],t[c]=l[c][0],l[c][0]>r&&(r=l[c][0])}else{var i=o;for(s=Array(i),t=Array(i),c=0;c<i;c++)s[c]=e[c][0],t[c]=e[c][1],t[c]>r&&(r=t[c])}for(c=0;c<i;c++)t[c]/=r;if(n)for(c=i-1;0<=c;c--)t[c]<n&&(t.splice(c,1),s.splice(c,1));return 0<s.length?[new d([s]).transpose(),new d([t]).transpose(),r]:null}var u=i(145),g=u.Matrix.algebra,d=i(264);e.exports.optimizeSingleLorentzian=a,e.exports.optimizeLorentzianSum=function(e,o,s){var r=m(e);if(null===r||3>r[0].rows)return null;var a=r[0],t=r[1],l=r[2],c=a.rows,h=[c/g.sqrt(t.dot(t))],s=Object.create(s||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),p=o.length,k=new d(3*p,1),j=new d(3*p,1),x=new d(3*p,1),w=new d(3*p,1),y=v(a[0][0]-a[1][0]),f;for(f=0;f<p;f++)k[f][0]=o[f].x,k[f+p][0]=1,k[f+2*p][0]=o[f].width,j[f][0]=o[f].x-y,j[f+p][0]=0,j[f+2*p][0]=o[f].width/4,x[f][0]=o[f].x+y,x[f+p][0]=1.5,x[f+2*p][0]=4*o[f].width,w[f][0]=-y/1e3,w[f+p][0]=-1e-3,w[f+2*p][0]=-y/1e3;var w=-v(a[0][0]-a[1][0])/1e4,i=u.optimize(n,k,a,t,h,w,j,x,[],s);i=i.p;var M=Array(p);for(f=0;f<p;f++)M[f]=[i[f],[i[f+p][0]*l],i[f+2*p]];return M},e.exports.optimizeSingleGaussian=c,e.exports.optimizeGaussianSum=function(e,o,s){var r=m(e);if(null===r||3>r[0].rows)return null;var a=r[0],t=r[1],l=r[2],c=a.rows,h=new d(c,1),p=c/g.sqrt(t.dot(t)),k;for(k=0;k<c;k++)h[k][0]=p;var s=Object.create(s||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,2]),i=o.length,j=new d(3*i,1),x=new d(3*i,1),w=new d(3*i,1),y=new d(3*i,1),f=v(a[0][0]-a[1][0]);for(k=0;k<i;k++)j[k][0]=o[k].x,j[k+i][0]=o[k].y/l,j[k+2*i][0]=o[k].width,x[k][0]=o[k].x-f,x[k+i][0]=0.8*o[k].y/l,x[k+2*i][0]=o[k].width/2,w[k][0]=o[k].x+f,w[k+i][0]=1.2*o[k].y/l,w[k+2*i][0]=2*o[k].width,y[k][0]=-f/1e3,y[k+i][0]=-1e-3,y[k+2*i][0]=-f/1e3;var M=u.optimize(n,j,a,t,h,y,x,w,[],s);M=M.p;var b=Array(i);for(k=0;k<i;k++)b[k]=[M[k],[M[k+i][0]*l],M[k+2*i]];return b},e.exports.singleGaussian=s,e.exports.singleLorentzian=o,e.exports.optimizeGaussianTrain=function(e,n,o){var s=m(e);if(null===s||3>s[0].rows)return null;for(var r=s[0],t=s[1],a=s[2],l=0,u=r.length,g=[],d=0,i,h,p,a,k;d<n.length;d++){for(i=n[d].x-1.5*n[d].width;r[l++]<i&&l<u;);for(i=n[d].x+1.5*n[d].width,h=[],p=[];r[l]<=i&&l<u;)h.push(r[l][0]),p.push(t[l][0]*a),l++;k=c([h,p],n[d],o),k?g.push({x:k[0][0],y:k[1][0],width:k[2][0],opt:!0}):g.push({x:n[d].x,y:n[d].y,width:n[d].width,opt:!1})}return g},e.exports.optimizeLorentzianTrain=function(e,n,o){var s=m(e);if(null===s||3>s[0].rows)return null;for(var r=s[0],t=s[1],l=s[2],c=0,u=r.length,g=[],d=0,i,h,p,l,k;d<n.length;d++){for(i=n[d].x-1.5*n[d].width;r[c++]<i&&c<u;);for(i=n[d].x+1.5*n[d].width,h=[],p=[];r[c]<=i&&c<u;)h.push(r[c][0]),p.push(t[c][0]*l),c++;k=a([h,p],n[d],o),k?g.push({x:k[0][0],y:k[1][0],width:k[2][0],opt:!0}):g.push({x:n[d].x,y:n[d].y,width:n[d].width,opt:!1})}return g}},function(e,t,i){'use strict';const n=i(277),o=n.DC.EVD,s=n.DC.SVD,r=i(1).matrix,a=r.mean,l=r.standardDeviation,c={isCovarianceMatrix:!1,center:!0,scale:!1};class m{constructor(e,t){if(!0===e){const e=t;return this.center=e.center,this.scale=e.scale,this.means=e.means,this.stdevs=e.stdevs,this.U=n.checkMatrix(e.U),void(this.S=e.S)}if(t=Object.assign({},c,t),this.center=!1,this.scale=!1,this.means=null,this.stdevs=null,t.isCovarianceMatrix)return void this._computeFromCovarianceMatrix(e);var o;if(o='boolean'==typeof t.useCovarianceMatrix?t.useCovarianceMatrix:e.length>e[0].length,o){e=this._adjust(e,t);const i=e.transposeView().mmul(e).div(e.rows-1);this._computeFromCovarianceMatrix(i)}else{e=this._adjust(e,t);var r=new s(e,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=r.rightSingularVectors;const i=r.diagonal,n=Array(i.length);for(var a=0;a<i.length;a++)n[a]=i[a]*i[a]/(e.length-1);this.S=n}}static load(e){if('PCA'!==e.name)throw new RangeError('Invalid model: '+e.name);return new m(!0,e)}predict(e){return e=new n(e),this.center&&(e.subRowVector(this.means),this.scale&&e.divRowVector(this.stdevs)),e.mmul(this.U)}getExplainedVariance(){for(var e=0,t=0;t<this.S.length;t++)e+=this.S[t];return this.S.map((t)=>t/e)}getCumulativeVariance(){for(var e=this.getExplainedVariance(),t=1;t<e.length;t++)e[t]+=e[t-1];return e}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map((e)=>R(e))}getLoadings(){return this.U.transpose()}toJSON(){return{name:'PCA',center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S}}_adjust(e,t){if(this.center=!!t.center,this.scale=!!t.scale,e=new n(e),this.center){const t=a(e),i=this.scale?l(e,t,!0):null;if(this.means=t,e.subRowVector(t),this.scale){for(var o=0;o<i.length;o++)if(0===i[o])throw new RangeError('Cannot scale the dataset (standard deviation is zero at index '+o);this.stdevs=i,e.divRowVector(i)}}return e}_computeFromCovarianceMatrix(e){const t=new o(e,{assumeSymmetric:!0});this.U=t.eigenvectorMatrix;for(var n=0;n<this.U.length;n++)this.U[n].reverse();this.S=t.realEigenvalues.reverse()}}e.exports=m},function(i,o,s){'use strict';const r=s(286);class a{constructor(n,o,s){if(s=s||{},n.length!==o.length||n[0].length!==o[0].length)throw new Error('dimensions of prediction and target do not match');const r=n.length,a=n[0].length,c=!s.max,m=[];if(s.all)for(var u=0;u<r;u++)for(var i=0;i<a;i++)m.push({pred:n[u][i],targ:o[u][i]});else{if(3>r||r!==a)throw new Error('When "all" option is false, the prediction matrix must be square and have at least 3 columns');for(var u=0;u<r-1;u++)for(var i=u+1;i<a;i++)m.push({pred:n[u][i],targ:o[u][i]})}c?m.sort((e,t)=>e.pred-t.pred):m.sort((e,t)=>t.pred-e.pred);const g=this.cutoffs=[c?e:t],d=this.fp=[0],h=this.tp=[0];for(var p=0,k=0,j=m[0].pred,x=0,w=0,u=0;u<m.length;u++)m[u].pred!==j&&(g.push(j),d.push(w),h.push(x),j=m[u].pred),m[u].targ?(p++,x++):(k++,w++);g.push(j),d.push(w),h.push(x);const y=g.length,l=this.fn=Array(y),f=this.tn=Array(y),M=this.nPosPred=Array(y),b=this.nNegPred=Array(y);for(var u=0;u<y;u++)l[u]=p-h[u],f[u]=k-d[u],M[u]=h[u]+d[u],b[u]=f[u]+l[u];this.nPos=p,this.nNeg=k,this.nSamples=p+k}getMeasure(e){if('string'!=typeof e)throw new Error('No measure specified');if(!r[e])throw new Error(`The specified measure (${e}) does not exist`);return r[e](this)}getAURC(){const e=this.cutoffs.length,t=Array(e),n=Array(e);for(var o=0;o<e;o++)t[o]=this.fp[o]/this.nNeg,n[o]=this.tp[o]/this.nPos;var i=0;for(o=1;o<e;o++)i+=0.5*(t[o]-t[o-1])*(n[o]+n[o-1]);return i}getAUDC(){const e=this.cutoffs.length,t=Array(e),n=Array(e);for(var o=0;o<e;o++)t[o]=this.fn[o]/this.nPos,n[o]=this.fp[o]/this.nNeg;var i=0;for(o=1;o<e;o++)i+=0.5*(t[o]+t[o-1])*(n[o]-n[o-1]);return i}getDistribution(e){e=e||{};for(var t=this.cutoffs.length,o=e.xMin||c(100*this.cutoffs[t-1])/100,s=e.xMax||n(100*this.cutoffs[1])/100,r=e.interval||c(1e7*((s-o)/20)-1)/1e7,a=[],l=[],m=[],u=[],g=[],d=this.tp[t-1],h=0,p=this.fp[t-1],k=0,x=o,i=t-1;x<=s;x+=r){for(;this.cutoffs[i]<x;)i--;a.push(x);var j=d-h-this.tp[i],w=p-k-this.fp[i];h+=j,k+=w,l.push(w),m.push(j),u.push(100-100*((p-this.fp[i])/p)),g.push(100-100*((d-this.tp[i])/d))}return{xLabels:a,interValues:l,intraValues:m,interCumPercent:u,intraCumPercent:g}}}a.names={acc:'Accuracy',err:'Error rate',fpr:'False positive rate',tpr:'True positive rate',fnr:'False negative rate',tnr:'True negative rate',ppv:'Positive predictive value',npv:'Negative predictive value',pcfall:'Prediction-conditioned fallout',pcmiss:'Prediction-conditioned miss',lift:'Lift value',rpp:'Rate of positive predictions',rnp:'Rate of negative predictions',threshold:'Threshold'},i.exports=a},function(e,t,i){e.exports=t=i(300),t.Utils=i(48),t.OPLS=i(299)},function(e,t,i){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),i.d(t,'NLR',function(){return d}),i.d(t,'NonLinearRegression',function(){return d});var n=i(49);i.d(t,'SimpleLinearRegression',function(){return n.a}),i.d(t,'SLR',function(){return n.a});var o=i(96);i.d(t,'PolynomialRegression',function(){return o.a});var s=i(303);i.d(t,'ExponentialRegression',function(){return s.a});var r=i(305);i.d(t,'PowerRegression',function(){return r.a});var a=i(304);i.d(t,'MultivariateLinearRegression',function(){return a.a});var l=i(310),c=i(308);i.d(t,'KernelRidgeRegression',function(){return c.a}),i.d(t,'KRR',function(){return c.a});var m=i(309);i.d(t,'PolinomialFitting2D',function(){return m.a});var u=i(307);i.d(t,'TheilSenRegression',function(){return u.a});var g=i(306);i.d(t,'RobustPolynomialRegression',function(){return g.a});const d={PotentialRegression:l.a}},function(e,t,i){function n(e,t,n,o){for(var s=0,a=0,l=t-n;l<t+n;l++)0<=l&&l<e.length-1&&(s+=e[l+1]-e[l],a++);return r(s/a,o)}function o(e,t,i,n){var s=0;return s=0<i?(4*i-2)/(i*(2*t-i+1))*(e*o(e,t,i-1,n)+n*o(e,t,i-1,n-1))-(i-1)*(2*t+i)/(i*(2*t-i+1))*o(e,t,i-2,n):0==i&&0==n?1:0,s}function a(e,t){var i=1;if(e>=t)for(var n=e-t+1;n<=e;n++)i*=n;return i}function l(e,i,t,r,n){for(var s=0,l=0;l<=r;l++)s+=(2*l+1)*(a(2*t,l)/a(2*t+l+1,l+1))*o(e,t,l,0)*o(i,t,l,n);return s}function s(e,i,n){for(var o=Array(e),s=c(e/2),r=-s;r<=s;r++){o[r+s]=Array(e);for(var t=-s;t<=s;t++)o[r+s][t+s]=l(t,r,s,i,n)}return o}var u=i(33),g=i(311),p={windowSize:9,derivative:0,polynomial:3};e.exports=function(e,t,o){if(o=u({},p,o),0==o.windowSize%2||5>o.windowSize||!m(o.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(o.windowSize>e.length)throw new RangeError('Window size is higher than the data length '+o.windowSize+'>'+e.length);if(0>o.derivative||!m(o.derivative))throw new RangeError('Derivative should be a positive integer');if(1>o.polynomial||!m(o.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=o.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var a=o.windowSize,g=c(a/2),h=e.length,k=Array(h),j=s(a,o.polynomial,o.derivative),x=0,w=!0;'[object Array]'===Object.prototype.toString.call(t)?w=!1:x=r(t,o.derivative);for(var y=0;y<g;y++){for(var i=j[g-y-1],f=j[g+y+1],M=0,b=0,v=0;v<a;v++)M+=i[v]*e[v],b+=f[v]*e[h-a+v-1];w?(k[g-y-1]=M/x,k[h-g+y]=b/x):(x=n(t,g-y-1,g,o.derivative),k[g-y-1]=M/x,x=n(t,h-g+y,g,o.derivative),k[h-g+y]=b/x)}for(var l=j[g],y=a,R;y<h+1;y++){R=0;for(var v=0;v<a;v++)R+=l[v]*e[v+y-a];w||(x=n(t,y-g-1,g,o.derivative)),k[y-g-1]=R/x}return k}},function(e,t,i){'use strict';var n=i(317),o=i(55),s=i(33),a={windowSize:5,derivative:1,polynomial:2,pad:'none',padValue:'replicate'};e.exports=function(e,t,u){if(u=s({},a,u),0==u.windowSize%2||5>u.windowSize||!m(u.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(0>u.derivative||!m(u.derivative))throw new RangeError('Derivative should be a positive integer');if(1>u.polynomial||!m(u.polynomial))throw new RangeError('Polynomial should be a positive integer');var g=c(u.windowSize/2),h,p;'pre'===u.pad&&(e=o(e,{size:g,value:u.padValue}));var x=Array(e.length-2*g);if(5===u.windowSize&&2===u.polynomial&&(1===u.derivative||2===u.derivative))1===u.derivative?(h=[-2,-1,0,1,2],p=10):(h=[2,-1,-2,-1,2],p=7);else{for(var w=n.ones(u.windowSize,u.polynomial+1),y=-(u.windowSize-1)/2,f=0;f<w.length;f++)for(var i=0;i<w[f].length;i++)(0!=y+1||0!==i)&&(w[f][i]=r(y+f,i));var j=w.transposeView(),M=j.mmul(w).inverse();h=M.mmul(j),h=h[u.derivative],p=1}for(var b=p*r(t,u.derivative),v=g,k;v<e.length-g;v++){k=0;for(var d=0;d<h.length;d++)k+=h[d]*e[d+v-g]/b;x[v-g]=k}return'post'===u.pad&&(x=o(x,{size:g,value:u.padValue})),x}},function(e,t,i){'use strict';function n(e,t,n,s){for(var r in this.x=e,this.y=t,n=n||{},this.options={},k)this.options[r]=n.hasOwnProperty(r)?n[r]:k[r];if('number'==typeof this.options.fields)this.numWeights=this.options.fields;else if(Array.isArray(this.options.fields)){this.numWeights=this.options.fields.length;var i=o(this.options.fields);this.extractor=i.extractor,this.creator=i.creator}else throw new Error('Invalid fields definition');if('rect'===this.options.gridType)this.nodeType=h,this.gridDim={x:e,y:t};else{this.nodeType=p;var a=this.x-c(this.y/2);this.gridDim={x:a,y:this.y,z:-(0-a-this.y)}}if(this.torus=this.options.torus,this.distanceMethod=this.torus?'getDistanceTorus':'getDistance',this.distance=this.options.distance,this.maxDistance=d(this.distance,this.numWeights),!0===s)return void(this.done=!0);if(!(0<e&&0<t))throw new Error('x and y must be positive');this.times={findBMU:0,adjust:0},this.randomizer=this.options.randomizer,this.iterationCount=0,this.iterations=this.options.iterations,this.startLearningRate=this.learningRate=this.options.learningRate,this.mapRadius=c(u(e,t)/2),this.algorithmMethod=this.options.method,this._initNodes(),this.done=!1}function o(e){for(var t=e.length,n=Array(t),o=Array(t),s=0;s<t;s++)n[s]=r(e[s].range),o[s]=a(e[s].range);return{extractor:function(o){for(var s=Array(t),r=0;r<t;r++)s[r]=n[r](o[e[r].name]);return s},creator:function(n){for(var s={},r=0;r<t;r++)s[e[r].name]=o[r](n[r]);return s}}}function r(e){return function(t){return(t-e[0])/(e[1]-e[0])}}function a(e){return function(t){return e[0]+t*(e[1]-e[0])}}function m(e,t){for(var n=0,o=0,i=e.length;o<i;o++)n+=(e[o]-t[o])*(e[o]-t[o]);return n}function g(e,t){return e[c(t()*e.length)]}function d(e,t){for(var n=Array(t),o=Array(t),s=0;s<t;s++)n[s]=0,o[s]=1;return e(n,o)}var h=i(101),p=i(326),k={fields:3,randomizer:Math.random,distance:m,iterations:10,learningRate:0.1,gridType:'rect',torus:!0,method:'random'};n.load=function(e,t){if('SOM'===e.name){var o=e.data.length,s=e.data[0].length;t?e.options.distance=t:e.options.distance&&(e.options.distance=eval('('+e.options.distance+')'));var r=new n(o,s,e.options,!0);r.nodes=Array(o);for(var a=0;a<o;a++){r.nodes[a]=Array(s);for(var i=0;i<s;i++)r.nodes[a][i]=new r.nodeType(a,i,e.data[a][i],r)}return r}throw new Error('expecting a SOM model')},n.prototype.export=function(e){if(!this.done)throw new Error('model is not ready yet');for(var t={name:'SOM',options:{fields:this.options.fields,gridType:this.options.gridType,torus:this.options.torus},data:Array(this.x)},n=0;n<this.x;n++){t.data[n]=Array(this.y);for(var i=0;i<this.y;i++)t.data[n][i]=this.nodes[n][i].weights}return e&&(t.options.distance=this.distance.toString()),t},n.prototype._initNodes=function(){var e=Date.now(),t,i,n;for(this.nodes=Array(this.x),t=0;t<this.x;t++)for(this.nodes[t]=Array(this.y),i=0;i<this.y;i++){var o=Array(this.numWeights);for(n=0;n<this.numWeights;n++)o[n]=this.randomizer();this.nodes[t][i]=new this.nodeType(t,i,o,this)}this.times.initNodes=Date.now()-e},n.prototype.setTraining=function(e){if(this.trainingSet)throw new Error('training set has already been set');var t=Date.now(),n=e,o=e.length,r;if(this.extractor)for(n=Array(o),r=0;r<o;r++)n[r]=this.extractor(e[r]);this.numIterations=this.iterations*o,this.timeConstant='random'===this.algorithmMethod?this.numIterations/s(this.mapRadius):o/s(this.mapRadius),this.trainingSet=n,this.times.setTraining=Date.now()-t},n.prototype.trainOne=function(){if(this.done)return!1;if(0<this.numIterations--){var e,t,i;return'random'===this.algorithmMethod?(e=this.mapRadius*l(-this.iterationCount/this.timeConstant),t=g(this.trainingSet,this.randomizer),this._adjust(t,e),this.learningRate=this.startLearningRate*l(-this.iterationCount/this.numIterations)):(i=-c(this.iterationCount/this.trainingSet.length),e=this.mapRadius*l(i/this.timeConstant),t=this.trainingSet[this.iterationCount%this.trainingSet.length],this._adjust(t,e),0==(this.iterationCount+1)%this.trainingSet.length&&(this.learningRate=this.startLearningRate*l(i/c(this.numIterations/this.trainingSet.length)))),this.iterationCount++,!0}return this.done=!0,!1},n.prototype._adjust=function(e,t){var i=Date.now(),n=this._findBestMatchingUnit(e),o=Date.now(),s,r,a,m;this.times.findBMU+=o-i;var u=c(t),g=n.x-u,d=n.x+u,h=n.y-u,p=n.y+u;for(s=g;s<=d;s++){var k=s;for(0>s?k+=this.x:s>=this.x&&(k-=this.x),r=h;r<=p;r++){var j=r;0>r?j+=this.y:r>=this.y&&(j-=this.y),a=n[this.distanceMethod](this.nodes[k][j]),a<t&&(m=l(-a/(2*t)),this.nodes[k][j].adjustWeights(e,this.learningRate,m))}}this.times.adjust+=Date.now()-o},n.prototype.train=function(e){if(!this.done)for(this.setTraining(e);this.trainOne(););},n.prototype.getConvertedNodes=function(){for(var e=Array(this.x),t=0;t<this.x;t++){e[t]=Array(this.y);for(var i=0,n;i<this.y;i++)n=this.nodes[t][i],e[t][i]=this.creator?this.creator(n.weights):n.weights}return e},n.prototype._findBestMatchingUnit=function(e){for(var t=Infinity,n=0,i,o;n<this.x;n++)for(var s=0;s<this.y;s++)o=this.distance(this.nodes[n][s].weights,e),o<t&&(t=o,i=this.nodes[n][s]);return i},n.prototype.predict=function(e,t){if('boolean'==typeof e&&(t=e,e=null),e||(e=this.trainingSet),Array.isArray(e)&&(Array.isArray(e[0])||'object'==typeof e[0])){var i=this;return e.map(function(e){return i._predict(e,t)})}return this._predict(e,t)},n.prototype._predict=function(e,t){Array.isArray(e)||(e=this.extractor(e));var i=this._findBestMatchingUnit(e),n=[i.x,i.y];return t&&(n[2]=i.getPosition(e)),n},n.prototype.getQuantizationError=function(){for(var e=this.getFit(),t=e.length,n=0,o=0;o<t;o++)n+=e[o];return n/t},n.prototype.getFit=function(e){e||(e=this.trainingSet);for(var t=e.length,n=Array(t),o=0,i;o<t;o++)i=this._findBestMatchingUnit(e[o]),n[o]=R(this.distance(e[o],i.weights));return n},e.exports=n},function(e,t,n){function o(e,t){for(var n in t)e=e.replace(new RegExp('%'+n+'%','g'),t[n]);return e}const s=n(54);class r{constructor(e,t,n={}){if(e instanceof r){const t=e;return void this._init(t.rows,t.columns,t.elements.clone(),t.threshold)}if(Array.isArray(e)){const r=e;e=r.length,n=t||{},t=r[0].length,this._init(e,t,new s(n),n.threshold);for(var o=0;o<e;o++)for(var i=0,a;i<t;i++)a=r[o][i],this.threshold&&v(a)<this.threshold&&(a=0),0!==a&&this.elements.set(o*t+i,r[o][i])}else this._init(e,t,new s(n),n.threshold)}_init(e,t,i,n){this.rows=e,this.columns=t,this.elements=i,this.threshold=n||0}static eye(e=1,t=e){const n=M(e,t),o=new r(e,t,{initialCapacity:n});for(var s=0;s<n;s++)o.set(s,s,1);return o}clone(){return new r(this)}to2DArray(){const e=Array(this.rows);for(var t=0;t<this.rows;t++){e[t]=Array(this.columns);for(var i=0;i<this.columns;i++)e[t][i]=this.get(t,i)}return e}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var e=!0;return this.forEachNonZero((t,i,n)=>{return this.get(i,t)===n?n:(e=!1,!1)}),e}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(e,t){return this.elements.get(e*this.columns+t)}set(e,t,i){return this.threshold&&v(i)<this.threshold&&(i=0),0===i?this.elements.remove(e*this.columns+t):this.elements.set(e*this.columns+t,i),this}mmul(e){this.columns!==e.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');const t=this.rows,i=e.columns,n=new r(t,i);return this.forEachNonZero((t,i,o)=>{return e.forEachNonZero((e,s,r)=>{return i===e&&n.set(t,s,n.get(t,s)+o*r),r}),o}),n}kroneckerProduct(e){const t=this.rows,i=this.columns,n=e.rows,o=e.columns,s=new r(t*n,i*o,{initialCapacity:this.cardinality*e.cardinality});return this.forEachNonZero((t,i,r)=>{return e.forEachNonZero((e,a,l)=>{return s.set(n*t+e,o*i+a,r*l),l}),r}),s}forEachNonZero(e){return this.elements.forEachPair((t,n)=>{const o=0|t/this.columns,i=t%this.columns;let s=e(o,i,n);return!1!==s&&(this.threshold&&v(s)<this.threshold&&(s=0),s!==n&&(0===s?this.elements.remove(t,!0):this.elements.set(t,s)),!0)}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){const e=this.cardinality,t=Array(e),n=Array(e),o=Array(e);var s=0;return this.forEachNonZero((e,i,r)=>{return t[s]=e,n[s]=i,o[s]=r,s++,r}),{rows:t,columns:n,values:o}}setThreshold(e){return 0!==e&&e!==this.threshold&&(this.threshold=e,this.forEachNonZero((e,t,i)=>i)),this}}r.prototype.klass='Matrix',r.identity=r.eye,r.prototype.tensorProduct=r.prototype.kroneckerProduct,e.exports=r;var a=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,l=`
(function %name%S(value) {
    this.forEachNonZero((i, j, v) => v %op% value);
    return this;
})
`,c=`
(function %name%M(matrix) {
    matrix.forEachNonZero((i, j, v) => {
        this.set(i, j, this.get(i, j) %op% v);
        return v;
    });
    return this;
})
`,m=`
(function %name%(matrix, value) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%(value);
})
`,u=`
(function %name%() {
    this.forEachNonZero((i, j, v) => %method%(v));
    return this;
})
`,g=`
(function %name%(matrix) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%();
})
`,d=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var h of d)for(var p=1;p<h.length;p++)r.prototype[h[p]]=eval(o(a,{name:h[p],op:h[0]})),r.prototype[h[p]+'S']=eval(o(l,{name:h[p]+'S',op:h[0]})),r.prototype[h[p]+'M']=eval(o(c,{name:h[p]+'M',op:h[0]})),r[h[p]]=eval(o(m,{name:h[p]}));var i=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(e){i.push(['Math.'+e,e])});for(var k of i)for(var p=1;p<k.length;p++)r.prototype[k[p]]=eval(o(u,{name:k[p],method:k[0]})),r[k[p]]=eval(o(g,{name:k[p]}))},function(e,t,i){'use strict';function n(e){this.options=Object.assign({},r,e),this.kernel=new o(this.options.kernel,this.options.kernelOptions),this.b=0}const o=i(32),s=i(1).array;var r={C:1,tol:1e-4,maxPasses:10,maxIterations:1e4,kernel:'linear',alphaTol:1e-6,random:Math.random,whitening:!0};n.prototype.train=function(e,t){if(e.length!==t.length)throw new Error('Features and labels should have the same length');if(2>e.length)throw new Error('Cannot train with less than 2 observations');if(this._trained=!1,this._loaded=!1,this.N=t.length,this.D=e[0].length,this.options.whitening){this.X=Array(this.N);for(var n=0;n<this.N;n++)this.X[n]=Array(this.D);this.minMax=Array(this.D);for(var i=0,o;i<this.D;i++){for(o=Array(this.N),n=0;n<this.N;n++)o[n]=e[n][i];for(this.minMax[i]=s.minMax(o),n=0;n<this.N;n++)this.X[n][i]=(e[n][i]-this.minMax[i].min)/(this.minMax[i].max-this.minMax[i].min)}}else this.X=e;this.Y=t,this.b=0,this.W=void 0;var l=this.kernel.compute(this.X),g=t.length,m=Array(g).fill(0);this.alphas=m;for(var d=0;d<g;d++)m[d]=0;for(var a=0,h=0,p=0,k=0,j=0,x=0,y=0,f=0,b=0,R=0,S=0,I;k<this.options.maxPasses&&p<this.options.maxIterations;){for(I=0,n=0;n<g;n++)if(j=this._marginOnePrecomputed(n,l)-t[n],t[n]*j<-this.options.tol&&m[n]<this.options.C||t[n]*j>this.options.tol&&0<m[n]){for(i=n;i===n;)i=c(this.options.random()*g);if(x=this._marginOnePrecomputed(i,l)-t[i],y=m[n],f=m[i],t[n]===t[i]?(b=u(0,y+f-this.options.C),R=M(this.options.C,y+f)):(b=u(0,f-y),R=M(this.options.C,this.options.C+f+y)),1e-4>v(b-R))continue;if(S=2*l[n][i]-l[n][n]-l[i][i],0<=S)continue;var V=m[i]-t[i]*(j-x)/S;if(V>R?V=R:V<b&&(V=b),1e-3>v(f-V))continue;m[i]=V,m[n]+=t[n]*t[i]*(f-V),a=this.b-j-t[n]*(m[n]-y)*l[n][n]-t[i]*(m[i]-f)*l[n][i],h=this.b-x-t[n]*(m[n]-y)*l[n][i]-t[i]*(m[i]-f)*l[i][i],this.b=(a+h)/2,m[n]<this.options.C&&0<m[n]&&(this.b=a),m[i]<this.options.C&&0<m[i]&&(this.b=h),I+=1}p++,0==I?k+=1:k=0}if(p===this.options.maxIterations)throw new Error('max iterations reached');if(this.iterations=p,'linear'===this.options.kernel){this.W=Array(this.D);for(var C=0;C<this.D;C++){this.W[C]=0;for(var r=0;r<g;r++)this.W[C]+=t[r]*m[r]*this.X[r][C]}}var w=[],z=[],D=[];for(this._supportVectorIdx=[],n=0;n<this.N;n++)this.alphas[n]>this.options.alphaTol&&(w.push(this.X[n]),z.push(t[n]),D.push(this.alphas[n]),this._supportVectorIdx.push(n));this.X=w,this.Y=z,this.N=w.length,this.alphas=D,this._trained=!0},n.prototype.predictOne=function(e){var t=this.marginOne(e);return 0<t?1:-1},n.prototype.predict=function(e){if(!this._trained&&!this._loaded)throw new Error('Cannot predict, you need to train the SVM first');return Array.isArray(e)&&Array.isArray(e[0])?e.map(this.predictOne.bind(this)):this.predictOne(e)},n.prototype.marginOne=function(e,t){this.options.whitening&&!t&&(e=this._applyWhitening(e));var n=this.b,o;if('linear'===this.options.kernel&&this.W)for(o=0;o<this.W.length;o++)n+=this.W[o]*e[o];else for(o=0;o<this.N;o++)n+=this.alphas[o]*this.Y[o]*this.kernel.compute([e],[this.X[o]])[0][0];return n},n.prototype._marginOnePrecomputed=function(e,t){var n=this.b,o;for(o=0;o<this.N;o++)n+=this.alphas[o]*this.Y[o]*t[e][o];return n},n.prototype.margin=function(e){return Array.isArray(e)?e.map(this.marginOne.bind(this)):this.marginOne(e)},n.prototype.supportVectors=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot get support vectors, you need to train the SVM first');if(this._loaded&&'linear'===this.options.kernel)throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');return this._supportVectorIdx},n.load=function(e){this._loaded=!0,this._trained=!1;var t=new n(e.options);return'linear'===e.options.kernel?(t.W=e.W.slice(),t.D=t.W.length):(t.X=e.X.slice(),t.Y=e.Y.slice(),t.alphas=e.alphas.slice(),t.N=t.X.length,t.D=t.X[0].length),t.minMax=e.minMax,t.b=e.b,t._loaded=!0,t._trained=!1,t},n.prototype.toJSON=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot export, you need to train the SVM first');var e={};return e.options=Object.assign({},this.options),e.b=this.b,e.minMax=this.minMax,'linear'===e.options.kernel?e.W=this.W.slice():(e.X=this.X.slice(),e.Y=this.Y.slice(),e.alphas=this.alphas.slice()),e},n.prototype._applyWhitening=function(e){if(!this.minMax)throw new Error('Could not apply whitening');for(var t=Array(e.length),i=0;i<e.length;i++)t[i]=(e[i]-this.minMax[i].min)/(this.minMax[i].max-this.minMax[i].min);return t},e.exports=n},function(e,t){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){e>>>=0,t>>>=0;var i=65535&e,n=e-i;return(n*t>>>0)+i*t>>>0}function o(e){0===e.state[0]&&0===e.state[1]&&0===e.state[2]&&0===e.state[3]&&(e.state[0]=88,e.state[1]=83,e.state[2]=65,e.state[3]=68)}function s(e){var i=e.state[0];i^=i<<c,i^=i>>>m,i^=e.state[3]<<u,e.state[0]=e.state[1],e.state[1]=e.state[2],e.state[2]=e.state[3],e.state[3]=i}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var n=0,i;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=8,l=function(){function e(){var t=0>=arguments.length||void 0===arguments[0]?Date.now():arguments[0];i(this,e),this.state=new Uint32Array(4),this.init(t)}return r(e,[{key:'init',value:function(e){this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(var t=1;t<a;t++)this.state[3&t]^=t+n(1812433253,this.state[3&t-1]^this.state[3&t-1]>>>30>>>0)>>>0;o(this);for(var t=0;t<a;t++)s(this)}},{key:'getUint32',value:function(){return s(this),this.state[3]+this.state[2]>>>0}},{key:'getFloat',value:function(){return(this.getUint32()>>>8)*(1/16777216)}},{key:'random',get:function(){return this._random||(this._random=this.getFloat.bind(this)),this._random}}]),e}();t['default']=l;var c=15,m=18,u=11;e.exports=t['default']},function(e){(function(){'use strict';function t(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}var i;i='undefined'!=typeof e&&e.exports?e.exports:this.RandomSelection={},i.Picker=function(e){this._originalOptions=e,this._remainingOptions=[]},i.Picker.prototype={pick:function(){0===this._remainingOptions.length&&(this._remainingOptions=t(this._originalOptions));var e=c(Math.random()*this._remainingOptions.length);return this._remainingOptions.splice(e,1)[0]}}}).call(this)},function(e,t,i){'use strict';t.ArrayUtils=t.AU=i(3),t.BitArray=i(103),t.HashTable=i(54),t.Matrix=i(13).default,t.PadArray=i(55),t.Regression=i(115),t.binarySearch=i(51),t.numSort=i(56);var n=t.Math={},o=i(53);n.Distance=o.distance,n.Similarity=o.similarity,n.DistanceMatrix=i(52),n.SG=i(117),n.SGG=i(116),n.Matrix=t.Matrix,n.SparseMatrix=i(119),n.Kernel=i(32);var s=t.Stat={};s.array=i(1).array,s.matrix=i(1).matrix,s.PCA=i(112),s.Performance=i(113);var r=t.Optimization={};r.BellOptimizer=i(111),r.LevenbergMarquardt=i(109);var a=t.RNG={};a.XSadd=i(121);var l=t.SL={};l.CV=i(104),l.CrossValidation=l.CV,l.SVM=i(120),l.KNN=i(108),l.NaiveBayes=i(110),l.PLS=i(114);var c=t.Clust={};c.kmeans=i(107),c.hclust=i(106);var m=t.NN=t.nn={};m.SOM=i(118),m.FNN=i(105)},function(e,t,i){e.exports=i(125)},function(e,t){var i,n,o;(function(){var s,r,l,a,m,u,g,d,h,p,k,j,w,x,y;l=c,p=M,r=function(e,t){return e<t?-1:e>t?1:0},h=function(e,t,i,n,o){var s;if(null==i&&(i=0),null==o&&(o=r),0>i)throw new Error('lo must be non-negative');for(null==n&&(n=e.length);i<n;)s=l((i+n)/2),0>o(t,e[s])?n=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(t)),t},u=function(e,t,i){return null==i&&(i=r),e.push(t),x(e,0,e.length-1,i)},m=function(e,t){var i,n;return null==t&&(t=r),i=e.pop(),e.length?(n=e[0],e[0]=i,y(e,0,t)):n=i,n},d=function(e,t,i){var n;return null==i&&(i=r),n=e[0],e[0]=t,y(e,0,i),n},g=function(e,t,i){var n;return null==i&&(i=r),e.length&&0>i(e[0],t)&&(n=[e[0],t],t=n[0],e[0]=n[1],y(e,0,i)),t},a=function(e,t){var n,i,o,s,a,c;for(null==t&&(t=r),s=function(){c=[];for(var t=0,i=l(e.length/2);0<=i?t<i:t>i;0<=i?t++:t--)c.push(t);return c}.apply(this).reverse(),a=[],(i=0,o=s.length);i<o;i++)n=s[i],a.push(y(e,n,t));return a},w=function(e,t,i){var n;if(null==i&&(i=r),n=e.indexOf(t),-1!==n)return x(e,0,n,i),y(e,n,i)},k=function(e,t,i){var n,o,s,l,c;if(null==i&&(i=r),o=e.slice(0,t),!o.length)return o;for(a(o,i),c=e.slice(t),(s=0,l=c.length);s<l;s++)n=c[s],g(o,n,i);return o.sort(i).reverse()},j=function(e,t,n){var o,s,i,l,c,u,g,d,k,j;if(null==n&&(n=r),10*t<=e.length){if(l=e.slice(0,t).sort(n),!l.length)return l;for(i=l[l.length-1],d=e.slice(t),(c=0,g=d.length);c<g;c++)o=d[c],0>n(o,i)&&(h(l,o,0,null,n),l.pop(),i=l[l.length-1]);return l}for(a(e,n),j=[],(s=u=0,k=p(t,e.length));0<=k?u<k:u>k;s=0<=k?++u:--u)j.push(m(e,n));return j},x=function(e,t,i,n){var o,s,a;for(null==n&&(n=r),o=e[i];i>t;){if(a=i-1>>1,s=e[a],0>n(o,s)){e[i]=s,i=a;continue}break}return e[i]=o},y=function(e,t,i){var n,o,s,a,l;for(null==i&&(i=r),o=e.length,l=t,s=e[t],n=2*t+1;n<o;)a=n+1,a<o&&!(0>i(e[n],e[a]))&&(n=a),e[t]=e[n],t=n,n=2*t+1;return e[t]=s,x(e,l,t,i)},s=function(){function e(e){this.cmp=null==e?r:e,this.nodes=[]}return e.push=u,e.pop=m,e.replace=d,e.pushpop=g,e.heapify=a,e.updateItem=w,e.nlargest=k,e.nsmallest=j,e.prototype.push=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pop=function(){return m(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return d(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return g(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return a(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return w(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(s,r){return n=[],i=r,o='function'==typeof i?i.apply(t,n):i,!(void 0!==o&&(e.exports=o))}(this,function(){return s})}).call(this)},function(e,t,i){'use strict';function n(e){for(var t=Array(e[0].length),n=0;n<t.length;++n)t[n]=Array(e.length);for(n=0;n<e.length;++n)for(var i=0;i<e[0].length;++i)t[i][n]=e[n][i];return t}const o=i(1).array;e.exports={coordArrayToPoints:function(e,t){if(0!=e.length%t)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var n=e.length/t,o=Array(n),s=0,r=0,i;r<e.length;r+=t){i=Array(t);for(var a=0;a<t;++a)i[a]=e[r+a];o[s]=i,s++}return o},coordArrayToCoordMatrix:function(e,t){if(0!=e.length%t)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var n=Array(t),o=e.length/t,s=0;s<n.length;s++)n[s]=Array(o);for(s=0;s<e.length;s+=t)for(var i=0,r;i<t;++i)r=c(s/t),n[i][r]=e[s+i];return n},coordMatrixToCoordArray:function(e){for(var t=Array(e.length*e[0].length),n=0,o=0;o<e[0].length;++o)for(var i=0;i<e.length;++i)t[n]=e[i][o],++n;return t},coordMatrixToPoints:n,pointsToCoordArray:function(e){for(var t=Array(e.length*e[0].length),n=0,o=0;o<e.length;++o)for(var i=0;i<e[0].length;++i)t[n]=e[o][i],++n;return t},pointsToCoordMatrix:n,applyDotProduct:function(e,t){var n,o;e.length<=t.length?(o=e,n=t):(o=t,n=e);for(var s=n.length-o.length+1,r=Array(s),a=0,i;a<s;++a){i=0;for(var l=0;l<o.length;++l)i+=o[l]*n[a+l];r[a]=i}return r},scale:function(e,t){var n=t.inPlace?e:Array(e.length);const s=t.max,r=t.min;if('number'==typeof s){if('number'==typeof r)for(var a=o.minMax(e),l=(s-r)/(a.max-a.min),c=0;c<n.length;c++)n[c]=(e[c]-a.min)*l+r;else for(var i=o.max(e),l=s/i,c=0;c<n.length;c++)n[c]=e[c]*l;}else if('number'==typeof r)for(var i=o.min(e),l=r/i,c=0;c<n.length;c++)n[c]=e[c]*l;return n}}},function(i,n){'use strict';function o(t,n,o,s,a){function l(e,t,i,n){return(n-t)/(i-e)}var c=t.length,m=(s-o)/(a-1),u=o-m/2,g=Array(a),d=t[1]-t[0],h=t[t.length-1]-t[t.length-2],p=u,k=u+m,x=e,w=0,y=t[0]-d,f=0,M=0,b=0,v=0,R=0,S=0,I=0,i=0;main:for(;;){for(;0<=y-k;){var j=r(0,k-x,b,w);if(S=M+j,g[i]=(S-R)/m,i++,i===a)break main;p=k,k+=m,R=S}x<=p&&p<=y&&(j=r(0,p-x,b,w),R=M+j),M+=r(x,y,b,v),x=y,w=f,I<c?(y=t[I],f=n[I],I++):I===c&&(y+=h,f=0),b=l(x,w,y,f),v=-b*x+w}return g}function s(e,n,o,s,r){var a=e.length,l=(s-o)/(r-1),c=e[e.length-1]-e[e.length-2],m=o-l/2,u=Array(r),g=m,d=m+l,h=-t,p=0,k=e[0],x=n[0],w=0,y=!0,f=0,M=0,b=1,i=0;main:for(;;){if(h>=k)throw new Error('x must be an increasing serie');for(;0<h-d;){if(y&&(M++,y=!1),u[i]=0>=M?0:f/M,i++,i===r)break main;g=d,d+=l,f=0,M=0}h>g&&(f+=p,M++),(h==-t||1<w)&&M--,h=k,p=x,b<a?(k=e[b],x=n[b],b++):(k+=c,x=0,w++)}return u}function r(e,t,i,n){return 0.5*i*t*t+n*t-(0.5*i*e*e+n*e)}n.getEquallySpacedData=function(e,t,i){1<e.length&&e[0]>e[1]&&(e=e.slice().reverse(),t=t.slice().reverse());var n=e.length;if(n!==t.length)throw new RangeError('the x and y vector doesn\'t have the same size.');i===void 0&&(i={});var r=i.from===void 0?e[0]:i.from;if(isNaN(r)||!isFinite(r))throw new RangeError('\'From\' value must be a number');var a=i.to===void 0?e[e.length-1]:i.to;if(isNaN(a)||!isFinite(a))throw new RangeError('\'To\' value must be a number');var l=r>a;if(l){var c=r;r=a,a=c}var m=i.numberOfPoints===void 0?100:i.numberOfPoints;if(isNaN(m)||!isFinite(m))throw new RangeError('\'Number of points\' value must be a number');if(1>m)throw new RangeError('the number of point must be higher than 1');var u='slot'===i.variant?'slot':'smooth',g='slot'==u?s(e,t,r,a,m):o(e,t,r,a,m);return l?g.reverse():g},n.integral=r},function(e,t,i){'use strict';t.SNV=function(e){for(var t=n.mean(e),o=n.standardDeviation(e),s=e.slice(),r=0;r<e.length;r++)s[r]=(s[r]-t)/o;return s};var n=i(1).array},function(e){for(var t=Array(256),n=0;256>n;n++){for(var i=n,o=0;i;)i&=i-1,o++;t[n]=o}e.exports=t},function(e){'use strict';const t={mode:'index'};e.exports=function*(e,n,o){function s(){var e,t,i;for(t=1;0>=c[t];)t++;if(0===c[t-1]){for(e=t-1;1!==e;e--)c[e]=-1;c[t]=0,u=d=0,c[1]=1,g=t-1}else{1<t&&(c[t-1]=0);do t++;while(0<c[t]);for(i=t-1,e=t;0===c[e];)c[e++]=-1;if(-1===c[e])c[e]=c[i],d=c[i]-1,u=e-1,g=i-1,c[i]=-1;else{if(e===c[0])return 0;c[t]=c[e],d=c[e]-1,c[e]=0,u=t-1,g=e-1}}return 1}o=Object.assign({},t,o);for(var r=Array(n),a=Array(e),l=Array(n),c=Array(n+2),m=0,u,g,d;m<n;m++)r[m]=m,l[m]=m<n-e?0:1;for(m=0;m<e;m++)a[m]=n-e+m;for(m=0;m<c.length;m++)c[m]=0===m?n+1:m<=n-e?0:m<=n?m-n+e:-2;if('index'===o.mode)for(yield a.slice();s();)a[d]=r[u],yield a.slice();else if('mask'===o.mode)for(yield l.slice();s();)l[u]=1,l[g]=0,yield l.slice();else throw new Error('Invalid mode')}},function(e){'use strict';class t{constructor(e,t){if(e.length!==e[0].length)throw new Error('Confusion matrix must be square');if(t.length!==e.length)throw new Error('Confusion matrix and labels should have the same length');this.labels=t,this.matrix=e}get accuracy(){for(var e=0,t=0,n=0;n<this.matrix.length;n++)for(var i=0;i<this.matrix.length;i++)n===i?e+=this.matrix[n][i]:t+=this.matrix[n][i];return e/(e+t)}get nbPredicted(){for(var e=0,t=0;t<this.matrix.length;t++)for(var i=0;i<this.matrix.length;i++)e+=this.matrix[t][i];return e}}e.exports=t},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(4).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(4).Matrix,n=i(34),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(4).Matrix,n=i(34).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(4).Matrix,r=i(59),a=i(133),l=i(58),c=i(134),m=i(132);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(14);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(14);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(14);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(14);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(14),o=i(23);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(14),o=i(23);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(14);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e,t,i){var o=i(35),s=i(60);e.exports={optimize:function(e,n,r,t,a,l,m,g,d,c){var j=0;if('object'!=typeof n[0])for(var x=0;x<n.length;x++)n[x]=[n[x]];var i=-50,w=n.length,y=t.length,f=o.zeros(w,1),b=o.zeros(y,1),S=0.01/i,I=0.01/i,V=o.zeros(y,w),x,C;if(r.length!=t.length){console.log('lm.m error: the length of t must equal the length of y_dat'),length_t=r.length,length_y_dat=t.length;var S=0;return}a=a||R((y-w+1)/s.multiply(s.transpose(t),t)),l=l||1e-3,m=m||s.multiply(v(n),-100),g=g||s.multiply(v(n),100),d=d||1,c=c||[3,10*w,1e-3,1e-3,1e-3,0.01,0.01,11,9,1];var k=c[0],z=c[1],D=c[2],A=c[3],L=c[4],U=c[5],P=c[6],F=c[7],q=c[8],O=c[9];if(0,!l.length||1==l.length){for(var _=Array(w),x=0;x<w;x++)_[x]=[l];l=_}var N=[];for(x=0;x<l.length;x++)0!=l[x][0]&&N.push(x);var T=N.length,B=!1,E=null;if(!a.length||a.length<y){var Q=s.multiply(o.ones(y,1),a[0]);E=s.dotMultiply(Q,Q)}else E=s.dotMultiply(a,a);var W=this.lm_matx(e,r,f,b,1,V,n,t,E,l,d),X=W.JtWJ,J=W.JtWdy,S=W.Chi_sq,Y=W.y_hat,V=W.J;u(v(J))<D&&(console.log(' *** Your Initial Guess is Extremely Close to Optimal ***'),console.log(' *** epsilon_1 = ',D),B=!0),1===O?lambda=P:(lambda=P*u(s.diag(X)),nu=2),I=S;for(var H=null;!B&&j<=z;){++j,H=1===O?s.solve(s.add(X,s.multiply(s.diag(s.diag(X)),lambda)),J):s.solve(s.add(X,s.multiply(o.eye(w),lambda)),J);var h=Array(N.length);for(C=0;C<N.length;C++)h[C]=H[N[C]];var K=s.add(n,h);for(C=0;C<K.length;C++)K[C][0]=M(u(m[C][0],K[C][0]),g[C][0]);var G=s.subtract(t,e(r,K,d)),Z=s.multiply(s.transpose(G),s.dotMultiply(G,E));if(2==O){var $=s.multiply(s.transpose(J),H),ee=s.multiply($,s.inv(s.add(s.multiply(s.subtract(Z-S),1/2)),s.multiply($,2)));H=s.multiply(ee,H);for(var C=0;C<N.length;C++)h[C]=H[N[C]];K=s.add(n,h),K=s.min(s.max(m,K),g),G=s.subtract(t,e(r,K,d)),Z=s.multiply(s.transpose(G),mat.dotMultiply(G,E))}var te=(S-Z)/s.multiply(s.multiply(s.transpose(H),2),s.add(s.multiply(lambda,H),J));te>U?(dX2=S-I,I=S,f=n,b=Y,n=K,W=this.lm_matx(e,r,f,b,dX2,V,n,t,E,l,d),X=W.JtWJ,J=W.JtWdy,S=W.Chi_sq,Y=W.y_hat,V=W.J,1===O?lambda=u(lambda/q,1e-7):2===O?lambda=u(lambda/(1+ee),1e-7):3===O?(lambda=s.multiply(u(1/3,3^1-(2*te-1)),lambda),nu=2):void 0):(S=I,0==j%(2*w)&&(W=this.lm_matx(e,r,f,b,-1,V,n,t,E,l,d),X=W.JtWJ,J=W.JtWdy,dX2=W.Chi_sq,Y=W.y_hat,V=W.J),1===O?lambda=M(lambda*F,1e7):2===O?lambda+=v((Z-S)/2/ee):3===O?(lambda*=nu,nu=2*nu):void 0)}return E=s.multiply(s.multiply(s.transpose(G),G),o.ones(y,1)),E.apply(function(e,t){E[e][t]=(y-T+1)/E[e][t]}),W=this.lm_matx(e,r,f,b,-1,V,n,t,E,l,d),X=W.JtWJ,J=W.JtWdy,S=W.Chi_sq,Y=W.y_hat,V=W.J,{p:n,X2:S}},lm_FD_J:function(e,i,t,r,a,l){var c=r.length,m=t.length;a=a||s.multiply(o.ones(m,1),1e-3);for(var n=t.clone(),u=new o(c,m),g=Array(m),d=0;d<m;d++){if(g[d]=a[d]*(1+v(t[d][0])),t[d]=[n[d][0]+g[d]],0!=g[d])if(y1=e(i,t,l),0>a[d][0])for(var h=s.dotDivide(s.subtract(y1,r),g[d]),p=0;p<c;p++)u[p][d]=h[p][0];else{t[d][0]=n[d][0]-g[d];for(var h=s.dotDivide(s.subtract(y1,e(i,t,l)),2*g[d]),p=0;p<c;p++)u[p][d]=h[p][0]}t[d]=n[d]}return u},lm_Broyden_J:function(e,t,i,n,o){var r=s.subtract(n,e),a=s.transpose(r);return a.div(s.multiply(a,r)),i=s.add(i,s.multiply(s.subtract(o,s.add(t,s.multiply(i,r))),a)),i},lm_matx:function(e,i,t,n,r,a,l,m,u,g,d,c){var h=m.length,p=l.length;g=g||1e-3;var k=e(i,l,d);a=0==c%(2*p)||0<r?this.lm_FD_J(e,i,l,k,g,d):this.lm_Broyden_J(t,n,a,l,k);var j=s.subtract(m,k),x=s.multiply(s.transpose(j),s.dotMultiply(j,u)),w=s.transpose(a),y=s.multiply(w,s.dotMultiply(a,s.multiply(u,o.ones(1,p)))),f=s.multiply(w,s.dotMultiply(u,j));return{JtWJ:y,JtWdy:f,Chi_sq:x,y_hat:k,J:a}}}},function(e,t,i){'use strict';e.exports=i(144),e.exports.Matrix=i(35),e.exports.Matrix.algebra=i(60)},function(e,t,i){'use strict';t.additiveSymmetric=i(147),t.avg=i(148),t.bhattacharyya=i(149),t.canberra=i(150),t.chebyshev=i(151),t.clark=i(152),t.czekanowski=i(153),t.dice=i(61),t.divergence=i(154),t.euclidean=i(0),t.fidelity=i(155),t.gower=i(156),t.harmonicMean=i(157),t.hellinger=i(158),t.innerProduct=i(159),t.intersection=i(62),t.jaccard=i(63),t.jeffreys=i(160),t.jensenDifference=i(161),t.jensenShannon=i(162),t.kdivergence=i(163),t.kulczynski=i(64),t.kullbackLeibler=i(164),t.kumarHassebrook=i(165),t.kumarJohnson=i(166),t.lorentzian=i(167),t.manhattan=i(168),t.matusita=i(169),t.minkowski=i(170),t.motyka=i(65),t.neyman=i(171),t.pearson=i(172),t.probabilisticSymmetric=i(173),t.ruzicka=i(174),t.soergel=i(175),t.sorensen=i(176),t.squared=i(177),t.squaredChord=i(66),t.squaredEuclidean=i(0).squared,t.taneja=i(178),t.tanimoto=i(179),t.topsoe=i(180),t.tree=i(328),t.waveHedges=i(181)},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])*(e[n]+t[n])/(e[n]*t[n]);return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)r=v(e[a]-t[a]),s+=r,o<r&&(o=r);return(o+s)/2}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=R(e[r]*t[r]);return-s(o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=v(e[s]-t[s])/(e[s]+t[s]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)s=v(e[r]-t[r]),o<s&&(o=s);return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=R((e[n]-t[n])*(e[n]-t[n])/((e[n]+t[n])*(e[n]+t[n])));return 2*o}},function(e,t,i){'use strict';const n=i(68);e.exports=function(e,t){return 1-n(e,t)}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/((e[n]+t[n])*(e[n]+t[n]));return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=R(e[s]*t[s]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=v(e[s]-t[s]);return o/n}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=e[s]*t[s]/(e[s]+t[s]);return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=R(e[s]*t[s]);return 2*R(1-o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=e[s]*t[s];return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=(e[r]-t[r])*s(e[r]/t[r]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=(e[r]*s(e[r])+t[r]*s(t[r]))/2-(e[r]+t[r])/2*s((e[r]+t[r])/2);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0,a=0;a<n;a++)o+=e[a]*s(2*e[a]/(e[a]+t[a])),r+=t[a]*s(2*t[a]/(e[a]+t[a]));return(o+r)/2}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=e[r]*s(2*e[r]/(e[r]+t[r]));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=e[r]*s(e[r]/t[r]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0,a=0;a<n;a++)o+=e[a]*t[a],s+=e[a]*e[a],r+=t[a]*t[a];return o/(s+r-o)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=r(e[s]*e[s]-t[s]*t[s],2)/(2*r(e[s]*t[s],1.5));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=s(v(e[r]-t[r])+1);return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=v(e[n]-t[n]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=R(e[s]*t[s]);return R(2-2*o)}},function(e){e.exports=function(e,t,n){for(var o=0,i=e.length,s=0;o<i;o++)s+=r(v(e[o]-t[o]),n);return r(s,1/n)}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/e[n];return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/t[n];return o}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/(e[n]+t[n]);return 2*o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=M(e[r],t[r]),s+=u(e[r],t[r]);return o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=v(e[r]-t[r]),s+=u(e[r],t[r]);return o/s}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0,r=0;r<n;r++)o+=v(e[r]-t[r]),s+=e[r]+t[r];return o/s}},function(e){e.exports=function(e,t){for(var n=0,i=e.length,o=0;n<i;n++)o+=(e[n]-t[n])*(e[n]-t[n])/(e[n]+t[n]);return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=(e[r]+t[r])/2*s((e[r]+t[r])/(2*R(e[r]*t[r])));return o}},function(e,t,i){var n=i(69);e.exports=function(e,t,o){if(o)return 1-n(e,t,o);for(var s=e.length,r=0,a=0,l=0,c=0;c<s;c++)r+=e[c],a+=t[c],l+=M(e[c],t[c]);return(r+a-2*l)/(r+a-l)}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=e[r]*s(2*e[r]/(e[r]+t[r]))+t[r]*s(2*t[r]/(e[r]+t[r]));return o}},function(e){e.exports=function(e,t){for(var n=e.length,o=0,s=0;s<n;s++)o+=1-M(e[s],t[s])/u(e[s],t[s]);return o}},function(e,t,i){'use strict';t.cosine=i(67),t.czekanowski=i(68),t.dice=i(183),t.intersection=i(184),t.jaccard=i(185),t.kulczynski=i(186),t.motyka=i(187),t.pearson=i(188),t.squaredChord=i(189),t.tanimoto=i(69)},function(e,t,i){var n=i(61);e.exports=function(e,t){return 1-n(e,t)}},function(e,t,i){var n=i(62);e.exports=function(e,t){return 1-n(e,t)}},function(e,t,i){var n=i(63);e.exports=function(e,t){return 1-n(e,t)}},function(e,t,i){var n=i(64);e.exports=function(e,t){return 1/n(e,t)}},function(e,t,i){var n=i(65);e.exports=function(e,t){return 1-n(e,t)}},function(e,t,i){'use strict';var n=i(1).array,o=i(67);e.exports=function(e,t){for(var s=n.mean(e),r=n.mean(t),a=Array(e.length),l=Array(t.length),c=0;c<a.length;c++)a[c]=e[c]-s,l[c]=t[c]-r;return o(a,l)}},function(e,t,i){var n=i(66);e.exports=function(e,t){return 1-n(e,t)}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(5).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(5).Matrix,n=i(36),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(5).Matrix,n=i(36).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(5).Matrix,r=i(72),a=i(191),l=i(71),c=i(192),m=i(190);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(15);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(15);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(15);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(15);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(15),o=i(24);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(15),o=i(24);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(15);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e,t,i){'use strict';var n=i(73);class o extends n{constructor(e){super(e),this.activationFunction=function(e,t){this[e][t]=l(this[e][t])}}static load(e){if('Layer'!==e.model)throw new RangeError('the current model is not a Layer model');return new o(e)}}e.exports=o},function(e,t,i){const n=i(51),o=i(56).asc,s=2147483647,r=[s,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];r.sort(o),t.nextPrime=function(e){let t=n(r,e,o);return 0>t&&(t=~t),r[t]},t.largestPrime=s},function(e,t,i){'use strict';function n(e,t,n){for(var o=1e101,s=0;s<e.length;s++)for(var i=0,r;i<t.length;i++)r=n[e[s]][t[i]],o=M(r,o);return o}function o(e,t,n){for(var o=-1,s=0;s<e.length;s++)for(var i=0,r;i<t.length;i++)r=n[e[s]][t[i]],o=u(r,o);return o}function s(e,t,n){for(var o=0,s=0;s<e.length;s++)for(var i=0;i<t.length;i++)o+=n[e[s]][t[i]];return o/(e.length*t.length)}function r(e,t,n){for(var o=Array(e.length*t.length),s=0;s<e.length;s++)for(var i=0;i<t.length;i++)o[s*t.length+i]=n[e[s]][t[i]];return l(o)}function a(e,t,i){return r(e,t,i)*e.length*t.length/(e.length+t.length)}function m(e,t){return e-t}function l(e,t){t===void 0&&(t=!1),t||(e=[].concat(e).sort(m));var i=e.length,n=c(i/2);return 0==i%2?0.5*(e[n-1]+e[n]):e[n]}const g=i(0),h=i(76),d=i(38),p=i(52);var x={disFunc:g,kind:'single',isDistanceMatrix:!1};e.exports=function(t,l){l=Object.assign({},x,l);var c=t.length,m=t;if(l.isDistanceMatrix||(m=p(t,l.disFunc)),'string'==typeof l.kind)switch(l.kind){case'single':l.kind=n;break;case'complete':l.kind=o;break;case'average':l.kind=s;break;case'centroid':l.kind=r;break;case'ward':l.kind=a;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof l.kind)throw new TypeError('Undefined kind of similarity');for(var u=Array(c),g=0;g<m.length;g++)u[g]=new h(g);for(var i=1e6,w={},y=0;1<u.length;){w={},i=1e6;for(var b=0;b<u.length;b++)for(var j=b+1;j<u.length;j++){var k,v;if(u[b]instanceof h)k=[u[b].index];else{k=Array(u[b].index.length);for(var R=0;R<k.length;R++)k[R]=u[b].index[R].index}if(u[j]instanceof h)v=[u[j].index];else{v=Array(u[j].index.length);for(var e=0;e<v.length;e++)v[e]=u[j].index[e].index}y=l.kind(k,v,m).toFixed(4),y in w?w[y].push([u[b],u[j]]):w[y]=[[u[b],u[j]]],i=M(y,i)}for(var f=w[i.toFixed(4)],S=Array(f.length),I=0,V;0<f.length;){V=f.shift();for(var C=0,z;C<f.length;C++)if(z=f[C].filter(function(e){return-1!==V.indexOf(e)}),0<z.length){var D=f[C].filter(function(e){return-1===V.indexOf(e)});V=V.concat(D),f.splice(C--,1)}S[I++]=V}S.length=I;for(var A=0,L;A<S.length;A++){L=new d,L.children=S[A].concat(),L.distance=i,L.index=Array(c);for(var U=0,P=0;P<S[A].length;P++)S[A][P]instanceof h?L.index[U++]=S[A][P]:(U+=S[A][P].index.length,L.index=S[A][P].index.concat(L.index)),u.splice(u.indexOf(S[A][P]),1);L.index.length=U,u.push(L)}}return u[0]}},function(e,t,i){'use strict';function n(e,t,n){for(var o=1e101,s=0;s<e.length;s++)for(var i=s,r;i<t.length;i++)r=n(e[s],t[i]),o=M(r,o);return o}function o(e,t,n){for(var o=-1,s=0;s<e.length;s++)for(var i=s,r;i<t.length;i++)r=n(e[s],t[i]),o=u(r,o);return o}function s(e,t,n){for(var o=0,s=0;s<e.length;s++)for(var i=0;i<t.length;i++)o+=n(e[s],t[i]);return o/(e.length*t.length)}function r(e,t,n){for(var o=0,s=0,r=0,a=0,l=0;l<e.length;l++)o+=e[l][0],s+=e[l][1];for(var i=0;i<t.length;i++)r+=t[i][0],a+=t[i][1];return o/=e.length,s/=e.length,r/=t.length,a/=t.length,n([o,s],[r,a])}function a(e,t,n){for(var o=0,s=0,r=0,a=0,l=0;l<e.length;l++)o+=e[l][0],s+=e[l][1];for(var i=0;i<t.length;i++)r+=t[i][0],a+=t[i][1];return o/=e.length,s/=e.length,r/=t.length,a/=t.length,n([o,s],[r,a])*e.length*t.length/(e.length+t.length)}function l(t,n,o){for(var s={d:0,p:0},r=Array(t[0].length),a=0;a<t[0].length;a++)r[a]=n[t[0][a]];for(var e=Array(t[1].length),l=0;l<t[1].length;l++)e[l]=n[t[1][l]];for(var c=0,i,m;c<r.length;c++){i=0;for(var u=0;u<r.length;u++)c!==u&&(i+=o(r[c],r[u]));i/=r.length-1,m=0;for(var g=0;g<e.length;g++)m+=o(r[c],e[g]);m/=e.length,i-m>s.d&&(s.d=i-m,s.p=c)}return s}function c(e,t,n){for(var o=0,s=0,r=0;r<e.length;r++)for(var i=r;i<e.length;i++)o+=n(t[e[r].index],t[e[i].index]),s++;return o/s}const m=i(0),g=i(76),h=i(38);var p={dist:m,kind:'single'};e.exports=function(t,k){if(k=Object.assign({},p,k),'string'==typeof k.kind)switch(k.kind){case'single':k.kind=n;break;case'complete':k.kind=o;break;case'average':k.kind=s;break;case'centroid':k.kind=r;break;case'ward':k.kind=a;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof k.kind)throw new TypeError('Undefined kind of similarity');var x=new h;x.children=Array(t.length),x.index=Array(t.length);for(var w=0;w<t.length;w++)x.children[w]=new g(w),x.index[w]=new g(w);x.distance=c(x.index,t,k.dist);for(var y=[x],b,m,M,v,R;0<y.length;){m=0,M=0;for(var S=0;S<y.length;S++){b=0;for(var i=0;i<y[S].length;i++)for(var j=i+1;j<y[S].length;j++)b=u(k.dist(t[y[S].index[i].index],t[y[S].index[j].index]),b);b>m&&(m=b,M=S)}if(m=0,2===y[M].index.length)y[M].children=[y[M].index[0],y[M].index[1]],y[M].distance=k.dist(t[y[M].index[0].index],t[y[M].index[1].index]);else if(3===y[M].index.length){y[M].children=[y[M].index[0],y[M].index[1],y[M].index[2]];var I=[k.dist(t[y[M].index[0].index],t[y[M].index[1].index]),k.dist(t[y[M].index[1].index],t[y[M].index[2].index])];y[M].distance=(I[0]+I[1])/2}else{for(var d=new h,V=new h,C=[Array(y[M].index.length),[]],z=0;z<C[0].length;z++)C[0][z]=z;for(var D=0;D<C[0].length;D++){v=0;for(var A=0;A<C[0].length;A++)D!==A&&(v+=k.dist(t[y[M].index[C[0][A]].index],t[y[M].index[C[0][D]].index]));v/=C[0].length-1,v>m&&(m=v,R=D)}for(C[1]=[R],C[0].splice(R,1),v=l(C,t,k.dist);0<v.d;)C[1].push(C[0][v.p]),C[0].splice(v.p,1),v=l(C,t,k.dist);var L=Array(C[0].length);d.index=Array(C[0].length);for(var U=0;U<L.length;U++)L[U]=t[y[M].index[C[0][U]].index],d.index[U]=y[M].index[C[0][U]],d.children[U]=y[M].index[C[0][U]];var e=Array(C[1].length);V.index=Array(C[1].length);for(var P=0;P<e.length;P++)e[P]=t[y[M].index[C[1][P]].index],V.index[P]=y[M].index[C[1][P]],V.children[P]=y[M].index[C[1][P]];d.distance=c(d.index,t,k.dist),V.distance=c(V.index,t,k.dist),y.push(d),y.push(V),y[M].children=[d,V]}y.splice(M,1)}return x}},function(e,t,i){'use strict';const n=i(0).squared,o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,t){const i=n(e,t);return l(-i/this.divisor)}}},function(e){'use strict';const t={degree:1,constant:1,scale:1};e.exports=class{constructor(e){e=Object.assign({},t,e),this.degree=e.degree,this.constant=e.constant,this.scale=e.scale}compute(e,t){for(var n=0,o=0;o<e.length;o++)n+=e[o]*t[o];return r(this.scale*n+this.constant,this.degree)}}},function(e){'use strict';const t={alpha:0.01,constant:-Math.E};e.exports=class{constructor(e){e=Object.assign({},t,e),this.alpha=e.alpha,this.constant=e.constant}compute(e,t){for(var n=0,s=0;s<e.length;s++)n+=e[s]*t[s];return o(this.alpha*n+this.constant)}}},function(e){'use strict';const t={sigma:1,degree:1};e.exports=class{constructor(e){e=Object.assign({},t,e),this.sigma=e.sigma,this.degree=e.degree}compute(e,t){for(var n=0,o=M(e.length,t.length),s=1;s<=o;++s)n+=r(l(-this.sigma*r(r(e[s-1],s)-r(t[s-1],s),2)),this.degree);return n}}},function(e,t,i){'use strict';const n=i(0).squared,o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma}compute(e,t){return 1/(1+n(e,t)/(this.sigma*this.sigma))}}},function(e,t,i){'use strict';const n=i(0),o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,t){const i=n(e,t);return l(-i/this.divisor)}}},function(e){'use strict';e.exports=class{compute(e,t){for(var n=M(e.length,t.length),o=0,s=0;s<n;++s)o+=M(e[s],t[s]);return o}}},function(e,t,i){'use strict';const n=i(0),o={sigma:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.sigma=e.sigma}compute(e,t){const i=n(e,t);return l(-i/this.sigma)}}},function(e,t,i){'use strict';const n=i(0).squared,o={constant:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.constant=e.constant}compute(e,t){return R(n(e,t)+this.constant*this.constant)}}},function(e,t,i){'use strict';const n=i(0).squared,o={constant:1};e.exports=class{constructor(e){e=Object.assign({},o,e),this.constant=e.constant}compute(e,t){const i=n(e,t);return 1-i/(i+this.constant)}}},function(e,t,i){'use strict';function n(e,t,i,n,o){this.clusters=e,this.centroids=t,this.converged=i,this.iterations=n,this[s]=o}const o=i(77),s=Symbol('distance');n.prototype.nearest=function(e){var t=Array(e.length),i=this.centroids.map(function(e){return e.centroid});return o.updateClusterID(e,i,t,this[s])},n.prototype.computeInformation=function(e){for(var t=this.centroids.map(function(e){return{centroid:e,error:0,size:0}}),o=0;o<e.length;o++)t[this.clusters[o]].error+=this[s](e[o],this.centroids[this.clusters[o]]),t[this.clusters[o]].size++;for(var i=0;i<this.centroids.length;i++)t[i].error/=t[i].size;return new n(this.clusters,t,this.converged,this.iterations,this[s])},e.exports=n},function(e,i,n){'use strict';const o=n(122).Picker;i.random=function(e,t){const n=new o(e);for(var s=Array(t),r=0;r<t;++r)s[r]=n.pick();return s},i.mostDistant=function(e,i,o){var s=Array(i);if(s[0]=c(Math.random()*e.length),1<i){for(var r={dist:-1,index:-1},a=0;a<e.length;++a)o[s[0]][a]>r.dist&&(r.dist=o[s[0]][a],r.index=a);if(s[1]=r.index,2<i)for(var l=2,u;l<i;++l){u={dist:-1,index:-1};for(var g=0,d;g<e.length;++g){d={dist:t,index:-1};for(var h=0;h<l;++h)o[h][g]<d.dist&&-1===s.indexOf(g)&&(d={dist:o[h][g],index:g});d.dist!==t&&d.dist>u.dist&&(u=Object.assign({},d))}s[l]=u.index}}return s.map((t)=>e[t])}},function(e,t){'use strict';/**
* k-d Tree JavaScript - V 1.01
*
* https://github.com/ubilabs/kd-tree-javascript
*
* @author Mircea Pricop <pricop@ubilabs.net>, 2012
* @author Martin Kleppe <kleppe@ubilabs.net>, 2012
* @author Ubilabs http://ubilabs.net, 2012
* @license MIT License <http://www.opensource.org/licenses/mit-license.php>
*/function i(e,t,i){this.obj=e,this.left=null,this.right=null,this.parent=i,this.dimension=t}function n(e,t,n){function r(e,t,o){var s=t%n.length,a,l;return 0===e.length?null:1===e.length?new i(e[0],s,o):(e.sort(function(e,t){return e[n[s]]-t[n[s]]}),a=c(e.length/2),l=new i(e[a],s,o),l.left=r(e.slice(0,a),t+1,l),l.right=r(e.slice(a+1),t+1,l),l)}var a=this;Array.isArray(e)?this.root=r(e,0,null):function(e){function t(e){e.left&&(e.left.parent=e,t(e.left)),e.right&&(e.right.parent=e,t(e.right))}a.root=e,t(a.root)}(e,t,n),this.toJSON=function(e){e||(e=this.root);var t=new i(e.obj,e.dimension,null);return e.left&&(t.left=a.toJSON(e.left)),e.right&&(t.right=a.toJSON(e.right)),t},this.insert=function(e){function t(i,o){if(null===i)return o;var s=n[i.dimension];return e[s]<i.obj[s]?t(i.left,i):t(i.right,i)}var o=t(this.root,null),s,r;return null===o?void(this.root=new i(e,0,null)):void(s=new i(e,(o.dimension+1)%n.length,o),r=n[o.dimension],e[r]<o.obj[r]?o.left=s:o.right=s)},this.remove=function(e){function t(i){if(null===i)return null;if(i.obj===e)return i;var o=n[i.dimension];return e[o]<i.obj[o]?t(i.left,i):t(i.right,i)}function i(e){function t(e,i){var o,s,r,a,l;return null===e?null:(o=n[i],e.dimension===i)?null===e.left?e:t(e.left,i):(s=e.obj[o],r=t(e.left,i),a=t(e.right,i),l=e,null!==r&&r.obj[o]<s&&(l=r),null!==a&&a.obj[o]<l.obj[o]&&(l=a),l)}var o,s,r;return null===e.left&&null===e.right?null===e.parent?void(a.root=null):(r=n[e.parent.dimension],void(e.obj[r]<e.parent.obj[r]?e.parent.left=null:e.parent.right=null)):void(null===e.right?(o=t(e.left,e.dimension),s=o.obj,i(o),e.right=e.left,e.left=null,e.obj=s):(o=t(e.right,e.dimension),s=o.obj,i(o),e.obj=s))}var o=t(a.root);null===o||i(o)},this.nearest=function(e,s,r){function l(o){function r(e,t){m.push([e,t]),m.size()>s&&m.pop()}var a=n[o.dimension],c=t(e,o.obj),u={},g,d,h,p;for(p=0;p<n.length;p+=1)u[n[p]]=p===o.dimension?e[n[p]]:o.obj[n[p]];return d=t(u,o.obj),null===o.right&&null===o.left?void((m.size()<s||c<m.peek()[1])&&r(o,c)):void(g=null===o.right?o.left:null===o.left?o.right:e[a]<o.obj[a]?o.left:o.right,l(g),(m.size()<s||c<m.peek()[1])&&r(o,c),(m.size()<s||v(d)<m.peek()[1])&&(h=g===o.left?o.right:o.left,null!==h&&l(h)))}var c,i,m;if(m=new o(function(t){return-t[1]}),r)for(c=0;c<s;c+=1)m.push([null,r]);for(a.root&&l(a.root),i=[],c=0;c<M(s,m.content.length);c+=1)m.content[c][0]&&i.push([m.content[c][0].obj,m.content[c][1]]);return i},this.balanceFactor=function(){function e(t){return null===t?0:u(e(t.left),e(t.right))+1}function t(e){return null===e?0:t(e.left)+t(e.right)+1}return e(a.root)/(s(t(a.root))/0.6931471805599453)}}function o(e){this.content=[],this.scoreFunction=e}o.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return 0<this.content.length&&(this.content[0]=t,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var i=this.content.pop();return void(n!=t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error('Node not found.')},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];0<e;){var i=c((e+1)/2)-1,n=this.content[i];if(this.scoreFunction(t)<this.scoreFunction(n))this.content[i]=t,this.content[e]=n,e=i;else break}},sinkDown:function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i);;){var o=2*(e+1),s=o-1,r=null;if(s<t){var a=this.content[s],l=this.scoreFunction(a);l<n&&(r=s)}if(o<t){var c=this.content[o],m=this.scoreFunction(c);m<(null==r?n:l)&&(r=o)}if(null!=r)this.content[e]=this.content[r],this.content[r]=i,e=r;else break}}},this.kdTree=n,t.kdTree=n,t.BinaryHeap=o},function(e,t,i){'use strict';function n(e,t){e&&(this.kdtree=t.kdtree,this.k=t.k,this.classes=t.classes)}e.exports=n;var o=i(218).kdTree,s=i(53);n.prototype.train=function(e,t,n){n===void 0&&(n={}),n.distance===void 0&&(n.distance=s.distance.euclidean),n.k===void 0&&(n.k=e[0].length+1);for(var r=0,a=Array(1e3),l=0,c=0;c<t.length;++c)-1===a.indexOf(t[c])&&(r++,a[l]=t[c],l++);var i=Array(e.length);for(c=0;c<i.length;++c)i[c]=e[c].slice();for(this.features=e[0].length,c=0;c<t.length;++c)i[c].push(t[c]);var m=Array(e[0].length);for(c=0;c<m.length;++c)m[c]=c;this.kdtree=new o(i,n.distance,m),this.k=n.k,this.classes=r},n.prototype.predict=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=this.getSinglePrediction(e[n]);return t},n.prototype.getSinglePrediction=function(e){for(var t=this.kdtree.nearest(e,this.k),n=Array(this.classes),o=-1,s=-1,r=t[0][0].length-1,a=0;a<n.length;++a)n[a]=0;for(a=0;a<t.length;++a){var i=t[a][0][r],l=++n[i];l>s&&(o=i,s=l)}return o},n.load=function(e){if('KNN'!==e.modelName)throw new RangeError('The given model is invalid!');return new n(!0,e)},n.prototype.export=function(){return{modelName:'KNN',kdtree:this.kdtree,k:this.k,classes:this.classes}}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(6).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(6).Matrix,n=i(39),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(6).Matrix,n=i(39).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(6).Matrix,r=i(80),a=i(221),l=i(79),c=i(222),m=i(220);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(e,t,i){'use strict';e.exports=i(6).Matrix,e.exports.Decompositions=e.exports.DC=i(223)},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(16);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(16);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(16);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(16);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(16),o=i(25);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(16),o=i(25);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(16);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e){'use strict';e.exports=function(e,t,n){var o=0;const s=n(...t);for(var r=0;r<e.x.length;r++)o+=v(e.y[r]-s(e.x[r]));return o}},function(e,t,i){'use strict';function n(e,t,i,o){const r=o.length,n=e.x.length;var a=Array(r);const l=o(...t);for(var c=0;c<r;c++){a[c]=Array(n);var m=t.concat();m[c]+=i;for(var u=o(...m),g=0;g<n;g++)a[c][g]=l(e.x[g])-u(e.x[g])}return new s(a)}function o(e,t,i){const n=e.x.length;var o=Array(n);const r=i(...t);for(var a=0;a<n;a++)o[a]=e.y[a]-r(e.x[a]);return new s([o])}const s=i(224);e.exports=function(e,t,i,r,a){var l=s.eye(a.length).mul(i*r*r),c=n(e,t,r,a),m=o(e,t,a).transpose();t=new s([t]);var u=s.inv(l.add(c.mmul(c.transposeView())));return t=t.sub(u.mmul(c).mmul(m).mul(r).transposeView()),t.to1DArray()}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.a.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o.a(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(7);n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.a.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},t.a=n},function(e,t,o){'use strict';function s(t,m){if(m=Object.assign({},h,m),!(this instanceof s))return new s(t,m);if(t=g.a.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=o.i(x.b)(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,w,i;if(k=!!m.assumeSymmetric||t.isSymmetric(),k){for(w=0;w<u;w++)for(i=0;i<u;i++)n[w][i]=e.get(w,i);r(u,d,p,n),a(u,d,p,n)}else{var j=o.i(x.b)(u,u,0),y=Array(u);for(i=0;i<u;i++)for(w=0;w<u;w++)j[w][i]=e.get(w,i);l(u,j,y,n),c(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function r(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function a(t,n,e,a){var d,g,h,i,j,k,l,m,p,w,y,c,M,b,R,S,I;for(h=1;h<t;h++)n[h-1]=n[h];n[t-1]=0;var V=0,f=0,C=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=C*f);)l++;if(l>k){I=0;do{for(++I,d=e[k],m=(e[k+1]-d)/(2*n[k]),p=o.i(x.a)(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),w=e[k+1],g=d-e[k],h=k+2;h<t;h++)e[h]-=g;for(V+=g,m=e[l],y=1,c=y,M=y,b=n[k+1],R=0,S=0,h=l-1;h>=k;h--)for(M=c,c=y,S=R,d=y*n[h],g=y*m,p=o.i(x.a)(m,n[h]),n[h+1]=R*p,R=n[h]/p,y=m/p,m=y*e[h]-R*d,e[h+1]=g+R*(y*d+R*e[h]),j=0;j<t;j++)g=a[j][h+1],a[j][h+1]=R*a[j][h]+y*g,a[j][h]=y*a[j][h]-R*g;m=-R*S*M*b*n[k]/w,n[k]=R*m,e[k]=y*m}while(v(n[k])>C*f)}e[k]+=V,n[k]=0}for(h=0;h<t-1;h++){for(j=h,m=e[h],i=h+1;i<t;i++)e[i]<m&&(j=i,m=e[i]);if(j!==h)for(e[j]=e[h],e[h]=m,i=0;i<t;i++)m=a[i][h],a[i][h]=a[i][j],a[i][j]=m}}function l(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function c(o,a,e,c,g){var d=o-1,n=0,h=o-1,f=2.220446049250313e-16,b=0,S=0,I=0,p=0,V=0,C=0,D=0,A=0,L,i,j,k,l,U,t,w,x,y,P,F,q,O,_;for(L=0;L<o;L++)for((L<n||L>h)&&(e[L]=g[L][L],a[L]=0),i=u(L-1,0);i<o;i++)S+=v(g[L][i]);for(;d>=n;){for(k=d;k>n&&(C=v(g[k-1][k-1])+v(g[k][k]),0===C&&(C=S),!(v(g[k][k-1])<f*C));)k--;if(k===d)g[d][d]+=b,e[d]=g[d][d],a[d]=0,d--,A=0;else if(k===d-1){if(t=g[d][d-1]*g[d-1][d],I=(g[d-1][d-1]-g[d][d])/2,p=I*I+t,D=R(v(p)),g[d][d]+=b,g[d-1][d-1]=g[d-1][d-1]+b,w=g[d][d],0<=p){for(D=0<=I?I+D:I-D,e[d-1]=w+D,e[d]=e[d-1],0!==D&&(e[d]=w-t/D),a[d-1]=0,a[d]=0,w=g[d][d-1],C=v(w)+v(D),I=w/C,p=D/C,V=R(I*I+p*p),I/=V,p/=V,i=d-1;i<o;i++)D=g[d-1][i],g[d-1][i]=p*D+I*g[d][i],g[d][i]=p*g[d][i]-I*D;for(L=0;L<=d;L++)D=g[L][d-1],g[L][d-1]=p*D+I*g[L][d],g[L][d]=p*g[L][d]-I*D;for(L=n;L<=h;L++)D=c[L][d-1],c[L][d-1]=p*D+I*c[L][d],c[L][d]=p*c[L][d]-I*D}else e[d-1]=w+I,e[d]=w+I,a[d-1]=D,a[d]=-D;d-=2,A=0}else{if(w=g[d][d],x=0,t=0,k<d&&(x=g[d-1][d-1],t=g[d][d-1]*g[d-1][d]),10==A){for(b+=w,L=n;L<=d;L++)g[L][L]-=w;C=v(g[d][d-1])+v(g[d-1][d-2]),w=x=0.75*C,t=-0.4375*C*C}if(30==A&&(C=(x-w)/2,C=C*C+t,0<C)){for(C=R(C),x<w&&(C=-C),C=w-t/((x-w)/2+C),L=n;L<=d;L++)g[L][L]-=C;b+=C,w=x=t=0.964}for(++A,l=d-2;l>=k&&(D=g[l][l],V=w-D,C=x-D,I=(V*C-t)/g[l+1][l]+g[l][l+1],p=g[l+1][l+1]-D-V-C,V=g[l+2][l+1],C=v(I)+v(p)+v(V),I/=C,p/=C,V/=C,l!==k)&&!(v(g[l][l-1])*(v(p)+v(V))<f*(v(I)*(v(g[l-1][l-1])+v(D)+v(g[l+1][l+1]))));)l--;for(L=l+2;L<=d;L++)g[L][L-2]=0,L>l+2&&(g[L][L-3]=0);for(j=l;j<=d-1&&(O=j!==d-1,j!==l&&(I=g[j][j-1],p=g[j+1][j-1],V=O?g[j+2][j-1]:0,w=v(I)+v(p)+v(V),0!==w&&(I/=w,p/=w,V/=w)),0!==w);j++)if(C=R(I*I+p*p+V*V),0>I&&(C=-C),0!==C){for(j===l?k!==l&&(g[j][j-1]=-g[j][j-1]):g[j][j-1]=-C*w,I+=C,w=I/C,x=p/C,D=V/C,p/=I,V/=I,i=j;i<o;i++)I=g[j][i]+p*g[j+1][i],O&&(I+=V*g[j+2][i],g[j+2][i]=g[j+2][i]-I*D),g[j][i]-=I*w,g[j+1][i]=g[j+1][i]-I*x;for(L=0;L<=M(d,j+3);L++)I=w*g[L][j]+x*g[L][j+1],O&&(I+=D*g[L][j+2],g[L][j+2]=g[L][j+2]-I*V),g[L][j]-=I,g[L][j+1]=g[L][j+1]-I*p;for(L=n;L<=h;L++)I=w*c[L][j]+x*c[L][j+1],O&&(I+=D*c[L][j+2],c[L][j+2]=c[L][j+2]-I*V),c[L][j]-=I,c[L][j+1]=c[L][j+1]-I*p}}}if(0!==S){for(d=o-1;0<=d;d--)if(I=e[d],p=a[d],0===p)for(k=d,g[d][d]=1,L=d-1;0<=L;L--){for(t=g[L][L]-I,V=0,i=k;i<=d;i++)V+=g[L][i]*g[i][d];if(0>a[L])D=t,C=V;else if(k=L,0===a[L]?g[L][d]=0===t?-V/(f*S):-V/t:(w=g[L][L+1],x=g[L+1][L],p=(e[L]-I)*(e[L]-I)+a[L]*a[L],U=(w*C-D*V)/p,g[L][d]=U,g[L+1][d]=v(w)>v(D)?(-V-t*U)/w:(-C-x*U)/D),U=v(g[L][d]),1<f*U*U)for(i=L;i<=d;i++)g[i][d]/=U}else if(0>p)for(k=d-1,v(g[d][d-1])>v(g[d-1][d])?(g[d-1][d-1]=p/g[d][d-1],g[d-1][d]=-(g[d][d]-I)/g[d][d-1]):(_=m(0,-g[d-1][d],g[d-1][d-1]-I,p),g[d-1][d-1]=_[0],g[d-1][d]=_[1]),g[d][d-1]=0,g[d][d]=1,L=d-2;0<=L;L--){for(y=0,P=0,i=k;i<=d;i++)y+=g[L][i]*g[i][d-1],P+=g[L][i]*g[i][d];if(t=g[L][L]-I,0>a[L])D=t,V=y,C=P;else if(k=L,0===a[L]?(_=m(-y,-P,t,p),g[L][d-1]=_[0],g[L][d]=_[1]):(w=g[L][L+1],x=g[L+1][L],F=(e[L]-I)*(e[L]-I)+a[L]*a[L]-p*p,q=2*(e[L]-I)*p,0===F&&0===q&&(F=f*S*(v(t)+v(p)+v(w)+v(x)+v(D))),_=m(w*V-D*y+p*P,w*C-D*P-p*y,F,q),g[L][d-1]=_[0],g[L][d]=_[1],v(w)>v(D)+v(p)?(g[L+1][d-1]=(-y-t*g[L][d-1]+p*g[L][d])/w,g[L+1][d]=(-P-t*g[L][d]-p*g[L][d-1])/w):(_=m(-V-x*g[L][d-1],-C-x*g[L][d],D,p),g[L+1][d-1]=_[0],g[L+1][d]=_[1])),U=u(v(g[L][d-1]),v(g[L][d])),1<f*U*U)for(i=L;i<=d;i++)g[i][d-1]=g[i][d-1]/U,g[i][d]/=U}for(L=0;L<o;L++)if(L<n||L>h)for(i=L;i<o;i++)c[L][i]=g[L][i];for(i=o-1;i>=n;i--)for(L=n;L<=h;L++){for(D=0,j=n;j<=M(i,h);j++)D+=c[L][j]*g[j][i];c[L][i]=D}}}function m(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}var g=o(7),x=o(42);const h={assumeSymmetric:!1};s.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return g.a.isMatrix(this.V)||(this.V=new g.a(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new g.a(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},t.a=s},function(e,t,i){'use strict';function n(e,t){return e=o.a.checkMatrix(e),t=o.a.checkMatrix(t),e.isSquare()?new s.a(e).solve(t):new r.a(e).solve(t)}t.b=function(e){return e=o.a.checkMatrix(e),n(e,o.a.eye(e.rows))},t.a=n;var o=i(7),s=i(41),r=i(81)},function(){Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(17);class o extends n.a{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}t.a=o},function(e,t,i){'use strict';var n=i(17);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}t.a=o},function(e,t,i){'use strict';var n=i(17);class o extends n.a{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}t.a=o},function(e,t,i){'use strict';var n=i(17);class o extends n.a{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}t.a=o},function(e,t,i){'use strict';var n=i(17),o=i(26);class s extends n.a{constructor(e,t,n){var s=i.i(o.i)(e,t,n);super(e,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}t.a=s},function(e,t,i){'use strict';var n=i(17),o=i(26);class s extends n.a{constructor(e,t,n,s,r){i.i(o.h)(e,t,n,s,r),super(e,n-t+1,r-s+1),this.startRow=t,this.startColumn=s}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}t.a=s},function(e,t,i){'use strict';var n=i(17);class o extends n.a{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}t.a=o},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(8).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(8).Matrix,n=i(43),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(8).Matrix,n=i(43).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(8).Matrix,r=i(85),a=i(247),l=i(84),c=i(248),m=i(246);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(e,t,i){'use strict';e.exports=i(8).Matrix,e.exports.Decompositions=e.exports.DC=i(249)},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(18);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(18);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(18);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(18);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(18),o=i(27);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(18),o=i(27);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(18);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(i,n,o){'use strict';const s=o(0).squared,r={distanceFunction:s,similarityFunction:!1,returnVector:!1};i.exports=function(n,o,s){s=s||r;const a=s.distanceFunction||r.distanceFunction,l=s.similarityFunction||r.similarityFunction,c=s.returnVector||r.returnVector;var m=-1;if('function'==typeof l)for(var u=e,g=0,d;g<n.length;g++)d=l(o,n[g]),d>u&&(u=d,m=g);else if('function'==typeof a)for(var h=t,p=0,i;p<n.length;p++)i=a(o,n[p]),i<h&&(h=i,m=p);else throw new Error('A similarity or distance function it\'s required');return c?n[m]:m}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(9).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(9).Matrix,n=i(44),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(9).Matrix,n=i(44).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(9).Matrix,r=i(89),a=i(261),l=i(88),c=i(262),m=i(260);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(e,t,i){'use strict';e.exports=i(9).Matrix,e.exports.Decompositions=e.exports.DC=i(263)},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(19);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(19);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(19);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(19);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(19),o=i(28);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(19),o=i(28);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(19);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(10).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(10).Matrix,n=i(45),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(10).Matrix,n=i(45).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(10).Matrix,r=i(92),a=i(274),l=i(91),c=i(275),m=i(273);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(e,t,i){'use strict';e.exports=i(10).Matrix,e.exports.Decompositions=e.exports.DC=i(276)},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(20);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(20);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(20);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(20);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(20),o=i(29);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(20),o=i(29);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(20);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e,t){'use strict';t.acc=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=(e.tn[o]+e.tp[o])/(t-1);return n},t.err=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.fn[o]+e.fp[o]/(t-1);return n},t.fpr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.fp[o]/e.nNeg;return n},t.tpr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.tp[o]/e.nPos;return n},t.fnr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.fn[o]/e.nPos;return n},t.tnr=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.tn[o]/e.nNeg;return n},t.ppv=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fp[o]+e.tp[o]?0:e.tp[o]/(e.fp[o]+e.tp[o]);return n},t.npv=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fn[o]+e.tn[o]?0:e.tn[o]/(e.fn[o]+e.tn[o]);return n},t.pcfall=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fp[o]+e.tp[o]?1:1-e.tp[o]/(e.fp[o]+e.tp[o]);return n},t.pcmiss=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.fn[o]+e.tn[o]?1:1-e.tn[o]/(e.fn[o]+e.tn[o]);return n},t.lift=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=0===e.nPosPred[o]?0:e.tp[o]/e.nPos/(e.nPosPred[o]/e.nSamples);return n},t.rpp=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.nPosPred[o]/e.nSamples;return n},t.rnp=(e)=>{const t=e.cutoffs.length,n=Array(t);for(var o=0;o<t;o++)n[o]=e.nNegPred[o]/e.nSamples;return n},t.threshold=(e)=>{const t=e.cutoffs.slice();return t[0]=t[1],t}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(11).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(11).Matrix,n=i(46),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(11).Matrix,n=i(46).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(11).Matrix,r=i(95),a=i(288),l=i(94),c=i(289),m=i(287);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(21);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(21);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(21);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(21);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(21),o=i(30);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(21),o=i(30);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(21);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e,t,i){'use strict';function n(e,n,r){var a=new o(e),l=new o(n);a=s.featureNormalize(a).result,l=s.featureNormalize(l).result;var c=a.rows,m=a.columns,u=a.clone().mul(a).sum(),g=a.transpose().mmul(l);g.div(s.norm(g));for(var d=Array(r),h=Array(r),k=Array(r),j=0;j<r;j++){var i=a.mmul(g),t=a.transpose().mmul(i),x=i.transpose().mmul(i)[0][0],w=t.div(x);t=g.transpose().mmul(w)[0][0],x=g.transpose().mmul(g)[0][0];var p=w.sub(g.clone().mul(t/x));p.div(s.norm(p));var y=a.mmul(p);t=a.transpose().mmul(y),x=y.transpose().mmul(y)[0][0];var f=t.div(x);a.sub(y.mmul(f.transpose())),d[j]=p.getColumn(0),h[j]=y.getColumn(0),k[j]=f.getColumn(0)}this.Xosc=a;var M=this.Xosc.clone().mul(this.Xosc).sum();this.R2X=1-M/u,this.W=d,this.T=h,this.P=k,this.numberOSC=r}var o=i(47),s=i(48);e.exports=n,n.prototype.correctDataset=function(e){for(var n=new o(e),s=n.clone().mul(n).sum(),r=0;r<this.numberOSC;r++){var i=this.W.getColumnVector(r),a=this.P.getColumnVector(r),l=n.mmul(i);n.sub(l.mmul(a))}var t=n.clone().mul(n).sum();return{datasetOsc:n,R2Dataset:1-t/s}}},function(e,t,i){'use strict';function n(e,t){for(var n=0,o=0;o<e.rows;o++)n+=e[o][t];return n}function o(e){for(var t=0,o=-Infinity,s=0,i;s<e.columns;++s)i=n(e,s),i>o&&(o=i,t=s);return t}var s=i(47),r=i(48);class a{constructor(e,t){if(!0===e){const e=t;this.meanX=e.meanX,this.stdDevX=e.stdDevX,this.meanY=e.meanY,this.stdDevY=e.stdDevY,this.PBQ=s.checkMatrix(e.PBQ),this.R2X=e.R2X}else{if(e.length!==t.length)throw new RangeError('The number of X rows must be equal to the number of Y rows');const i=r.featureNormalize(e);this.X=i.result,this.meanX=i.means,this.stdDevX=i.std;const n=r.featureNormalize(t);this.Y=n.result,this.meanY=n.means,this.stdDevY=n.std}}train(e){e===void 0&&(e={});var i=e.latentVectors;i===void 0&&(i=M(this.X.length-1,this.X[0].length));var a=e.tolerance;a===void 0&&(a=1e-5);for(var l=this.X,c=this.Y,m=l.rows,g=l.columns,d=c.rows,h=c.columns,j=l.clone().mul(l).sum(),x=c.clone().mul(c).sum(),y=i,n=s.zeros(m,y),f=s.zeros(g,y),v=s.zeros(d,y),R=s.zeros(h,y),S=s.zeros(y,y),I=f.clone(),V=0;r.norm(c)>a&&V<y;){for(var k=l.transpose(),C=c.transpose(),z=o(l.clone().mulM(l)),D=o(c.clone().mulM(c)),A=l.getColumnVector(z),L=c.getColumnVector(D),u=s.zeros(m,1);r.norm(A.clone().sub(u))>a;){var t=k.mmul(L);t.div(r.norm(t)),u=A,A=l.mmul(t);var w=C.mmul(A);w.div(r.norm(w)),L=c.mmul(w)}u=A;var U=k.mmul(u),P=u.transpose().mmul(u)[0][0],F=U.div(P),p=r.norm(F);F.div(p),u.mul(p),t.mul(p),U=L.transpose().mmul(u),P=u.transpose().mmul(u)[0][0];var q=U.div(P)[0][0];l.sub(u.mmul(F.transpose())),c.sub(u.clone().mul(q).mmul(w.transpose())),n.setColumn(V,u),f.setColumn(V,F),v.setColumn(V,L),R.setColumn(V,w),I.setColumn(V,t),S[V][V]=q,V++}V--,n=n.subMatrix(0,n.rows-1,0,V),f=f.subMatrix(0,f.rows-1,0,V),v=v.subMatrix(0,v.rows-1,0,V),R=R.subMatrix(0,R.rows-1,0,V),I=I.subMatrix(0,I.rows-1,0,V),S=S.subMatrix(0,V,0,V),this.ssqYcal=x,this.E=l,this.F=c,this.T=n,this.P=f,this.U=v,this.Q=R,this.W=I,this.B=S,this.PBQ=f.mmul(S).mmul(R.transpose()),this.R2X=u.transpose().mmul(u).mmul(F.transpose().mmul(F)).div(j)[0][0]}predict(e){var t=s.checkMatrix(e);t=t.subRowVector(this.meanX).divRowVector(this.stdDevX);var i=t.mmul(this.PBQ);return i=i.mulRowVector(this.stdDevY).addRowVector(this.meanY),i}getExplainedVariance(){return this.R2X}toJSON(){return{name:'PLS',R2X:this.R2X,meanX:this.meanX,stdDevX:this.stdDevX,meanY:this.meanY,stdDevY:this.stdDevY,PBQ:this.PBQ}}static load(e){if('PLS'!==e.name)throw new RangeError('Invalid model: '+e.name);return new a(!0,e)}}e.exports=a},function(e,t){'use strict';t.a=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError('x and y must be arrays');if(e.length!==t.length)throw new RangeError('x and y arrays must have the same length')}},function(e,t){'use strict';t.a=function(e,t){return 0>e?(e=0-e,'number'==typeof t?'- '+e.toPrecision(t):'- '+e.toString()):'number'==typeof t?e.toPrecision(t):e.toString()}},function(e,t,i){'use strict';function n(e,t,o){const a=t.length,n=Array(a);for(let r=0;r<a;r++)n[r]=s(o[r]);const i=new r.a(t,n);e.A=i.slope,e.B=l(i.intercept)}var o=i(2),r=i(49);class a extends o.a{constructor(e,t){super(),!0===e?(this.A=t.A,this.B=t.B):(i.i(o.b)(e,t),n(this,e,t))}_predict(e){return this.B*l(e*this.A)}toJSON(){return{name:'exponentialRegression',A:this.A,B:this.B}}toString(e){return'f(x) = '+i.i(o.c)(this.B,e)+' * e^('+i.i(o.c)(this.A,e)+' * x)'}toLaTeX(e){return 0<=this.A?'f(x) = '+i.i(o.c)(this.B,e)+'e^{'+i.i(o.c)(this.A,e)+'x}':'f(x) = \\frac{'+i.i(o.c)(this.B,e)+'}{e^{'+i.i(o.c)(-this.A,e)+'x}}'}static load(e){if('exponentialRegression'!==e.name)throw new TypeError('not a exponential regression model');return new a(!0,e)}}t.a=a},function(e,t,i){'use strict';var n=i(13),o=i(2);class s extends o.a{constructor(e,t,i={}){const{intercept:o=!0}=i;super(),!0===e?(this.weights=t.weights,this.inputs=t.inputs,this.outputs=t.outputs,this.intercept=t.intercept):(o&&(e=new n['default'](e),e.addColumn(Array(e.length).fill(1))),this.weights=new n.SVD(e,{autoTranspose:!0}).solve(t).to2DArray(),this.inputs=e[0].length,this.outputs=t[0].length,o&&this.inputs--,this.intercept=o)}predict(e){if(Array.isArray(e)){if('number'==typeof e[0])return this._predict(e);if(Array.isArray(e[0])){const t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=this._predict(e[n]);return t}}throw new TypeError('x must be a matrix or array of numbers')}_predict(e){const t=Array(this.outputs);if(this.intercept)for(let e=0;e<this.outputs;e++)t[e]=this.weights[this.inputs][e];else t.fill(0);for(let n=0;n<this.inputs;n++)for(let i=0;i<this.outputs;i++)t[i]+=this.weights[n][i]*e[n];return t}score(){throw new Error('score method is not implemented yet')}toJSON(){return{name:'multivariateLinearRegression',weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept}}static load(e){if('multivariateLinearRegression'!==e.name)throw new Error('not a MLR model');return new s(!0,e)}}t.a=s},function(e,t,i){'use strict';function n(e,t,o){const r=t.length,n=Array(r),c=Array(r);for(let a=0;a<r;a++)n[a]=s(t[a]),c[a]=s(o[a]);const i=new a.a(n,c);e.A=l(i.intercept),e.B=i.slope}var o=i(2),a=i(49);class c extends o.a{constructor(e,t){super(),!0===e?(this.A=t.A,this.B=t.B):(i.i(o.b)(e,t),n(this,e,t))}_predict(e){return this.A*r(e,this.B)}toJSON(){return{name:'powerRegression',A:this.A,B:this.B}}toString(e){return'f(x) = '+i.i(o.c)(this.A,e)+' * x^'+i.i(o.c)(this.B,e)}toLaTeX(e){return 0<=this.B?'f(x) = '+i.i(o.c)(this.A,e)+'x^{'+i.i(o.c)(this.B,e)+'}':'f(x) = \\frac{'+i.i(o.c)(this.A,e)+'}{x^{'+i.i(o.c)(-this.B,e)+'}}'}static load(e){if('powerRegression'!==e.name)throw new TypeError('not a power regression model');return new c(!0,e)}}t.a=c},function(e,t,n){'use strict';function i(e,t,n,r){let c=Array(r);for(let i=0;i<r;i++)c[i]=i;const m=o(t,n,r);for(var u=0,i;u<m.length;u++){for(var g=m[u],d=s(g,c),h=t.slice(),p=0;p<t.length;p++)h[p]=n[p]-a(t[p],c,d),h[p]={residual:h[p]*h[p],coefficients:d};var k=l(h);(!i||k.residual<i.residual)&&(i=k)}e.degree=r,e.powers=c,e.coefficients=i.coefficients}function o(e,t,n){for(var o=c(e.length/n),s=Array(o),r=0;r<e.length;r++){for(var i=c(Math.random()*o),a=0;a<e.length;)if(!s[i]){s[i]=[{x:e[r],y:t[r]}];break}else if(s[i].length<n){s[i].push({x:e[r],y:t[r]});break}else a++,i=(i+1)%o;if(a===e.length)return s}return s}function s(e,t){for(var o=e.slice(),s=e.slice(),a=0;a<o.length;a++){s[a]=[e[a].y],o[a]=Array(t.length);for(var i=0;i<t.length;i++)o[a][i]=r(e[a].x,t[i])}return n.i(u.solve)(o,s).to1DArray()}function a(e,t,i){let n=0;for(let o=0;o<t.length;o++)n+=i[o]*r(e,t[o]);return n}function l(e){e.sort((e,t)=>e.residual-t.residual);var t=e.length,i=c(t/2);return 0==t%2?e[i-1]:e[i]}var m=n(2),u=n(13);class g extends m.a{constructor(e,t,o){super(),!0===e?(this.degree=t.degree,this.powers=t.powers,this.coefficients=t.coefficients):(n.i(m.b)(e,t),i(this,e,t,o))}toJSON(){return{name:'robustPolynomialRegression',degree:this.degree,powers:this.powers,coefficients:this.coefficients}}_predict(e){return a(e,this.powers,this.coefficients)}toString(e){return this._toFormula(e,!1)}toLaTeX(e){return this._toFormula(e,!0)}_toFormula(e,t){let i='^',o='',s=' * ';t&&(i='^{',o='}',s='');let r='',a='';for(let l=0;l<this.coefficients.length;l++)a='',0!==this.coefficients[l]&&(a=0===this.powers[l]?n.i(m.c)(this.coefficients[l],e):1===this.powers[l]?n.i(m.c)(this.coefficients[l],e)+s+'x':n.i(m.c)(this.coefficients[l],e)+s+'x'+i+this.powers[l]+o,0<this.coefficients[l]&&l!==this.coefficients.length-1?a=' + '+a:l!==this.coefficients.length-1&&(a=' '+a)),r=a+r;return'+'===r.charAt(0)&&(r=r.slice(1)),'f(x) = '+r}static load(e){if('robustPolynomialRegression'!==e.name)throw new TypeError('not a RobustPolynomialRegression model');return new g(!0,e)}}t.a=g},function(e,t,i){'use strict';function n(e,t,n){let o=t.length,s=Array(o*o),r=0;for(let a=0;a<o;++a)for(let e=a+1;e<o;++e)t[a]!==t[e]&&(s[r++]=(n[e]-n[a])/(t[e]-t[a]));s.length=r;let l=a(s),c=Array(o);for(let s=0;s<o;++s)c[s]=n[s]-l*t[s];e.slope=l,e.intercept=a(c),e.coefficients=[e.intercept,e.slope]}var o=i(2),s=i(1),r=i.n(s);const a=s.array.median;class l extends o.a{constructor(e,t){super(),!0===e?(this.slope=t.slope,this.intercept=t.intercept,this.coefficients=t.coefficients):(i.i(o.b)(e,t),n(this,e,t))}toJSON(){return{name:'TheilSenRegression',slope:this.slope,intercept:this.intercept}}_predict(e){return this.slope*e+this.intercept}computeX(e){return(e-this.intercept)/this.slope}toString(e){var t='f(x) = ';if(this.slope){var n=i.i(o.c)(this.slope,e);if(t+=(1e-5>v(n-1)?'':n+' * ')+'x',this.intercept){var s=v(this.intercept),r=s===this.intercept?'+':'-';t+=' '+r+' '+i.i(o.c)(s,e)}}else t+=i.i(o.c)(this.intercept,e);return t}toLaTeX(e){return this.toString(e)}static load(e){if('TheilSenRegression'!==e.name)throw new TypeError('not a Theil-Sen model');return new l(!0,e)}}t.a=l},function(e,t,i){'use strict';var o=i(13),n=i(32),s=i.n(n),r=i(2);const a={lambda:0.1,kernelType:'gaussian',kernelOptions:{},computeCoefficient:!1};class l extends r.a{constructor(e,t,r){if(super(),!0===e)this.alpha=t.alpha,this.inputs=t.inputs,this.kernelType=t.kernelType,this.kernelOptions=t.kernelOptions,this.kernel=new s.a(t.kernelType,t.kernelOptions);else{r=Object.assign({},a,r);const l=new s.a(r.kernelType,r.kernelOptions),c=l.compute(e),m=e.length;c.add(o.Matrix.eye(m,m).mul(r.lambda)),this.alpha=i.i(o.solve)(c,t),this.inputs=e,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=l}}_predict(e){return this.kernel.compute([e],this.inputs).mmul(this.alpha)[0]}toJSON(){return{name:'kernelRidgeRegression',alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(e){if('kernelRidgeRegression'!==e.name)throw new TypeError('not a KRR model');return new l(!0,e)}}t.a=l},function(e,t,i){'use strict';function n(e,t){for(var n=e.clone(),o=0;o<e.rows;++o)n[o][0]=r(n[o][0],t);return n}function o(e,t){this[e][t]=v(this[e][t])}var s=i(13),a=i(2);const l={order:2};class c extends a.a{constructor(e,t,i){super(),!0===e?(this.coefficients=s.Matrix.columnVector(t.coefficients),this.order=t.order,t.r&&(this.r=t.r,this.r2=t.r2),t.chi2&&(this.chi2=t.chi2)):(i=Object.assign({},l,i),this.order=i.order,this.coefficients=[],this.X=e,this.y=t,this.train(this.X,this.y,i))}train(e,t){if(s.Matrix.isMatrix(e)||(e=new s.Matrix(e)),s.Matrix.isMatrix(t)||(t=s.Matrix.columnVector(t)),t.rows!==e.rows&&(t=t.transpose()),2!==e.columns)throw new RangeError('You give X with '+e.columns+' columns and it must be 2');if(e.rows!==t.rows)throw new RangeError('X and y must have the same rows');var a=e.rows,l=(this.order+2)*(this.order+1)/2;this.coefficients=Array(l);var c=e.getColumnVector(0),m=e.getColumnVector(1),u=1/c.clone().apply(o).max(),g=1/m.clone().apply(o).max(),d=1/t.clone().apply(o).max();c.mulColumn(0,u),m.mulColumn(0,g),t.mulColumn(0,d);for(var h=new s.Matrix(a,l),p=0,k=0,i;k<=this.order;++k){i=this.order-k;for(var x=0,j;x<=i;++x)j=n(c,k).mulColumnVector(n(m,x)),h.setColumn(p,j),p++}var w=new s.SVD(h.transpose(),{computeLeftSingularVectors:!0,computeRightSingularVectors:!0,autoTranspose:!1}),y=s.Matrix.rowVector(w.diagonal);y=y.apply(function(e,t){this[e][t]=1e-15<=this[e][t]?1/this[e][t]:0});var f=s.Matrix.zeros(a,l);for(k=0;k<l;++k)f[k][k]=y[0][k];y=f;var M=w.rightSingularVectors,b=w.leftSingularVectors;for(this.coefficients=b.mmul(y.transpose()).mmul(M.transpose()).mmul(t),p=0,k=0;k<=l;++k)for(i=this.order-k,x=0;x<=i;++x)this.coefficients[p][0]=this.coefficients[p][0]*r(u,k)*r(g,x)/d,p++}_predict(e){for(var t=e[0],n=e[1],o=0,s=0,a=0;a<=this.order;a++)for(var i=0;i<=this.order-a;i++)o+=r(t,a)*r(n,i)*this.coefficients[s][0],s++;return o}toJSON(){return{name:'polyfit2D',order:this.order,coefficients:this.coefficients}}static load(e){if('polyfit2D'!==e.name)throw new TypeError('not a polyfit2D model');return new c(!0,e)}}t.a=c},function(e,t,i){'use strict';var n=i(2),o=i(96);class s extends n.a{constructor(e,t,i){if(super(),!0===e)this.A=t.A,this.M=t.M;else{var s=e.length;if(s!==t.length)throw new RangeError('input and output array have a different length');var n=new o.a(e,t,[i]);this.A=n.coefficients[0],this.M=i}}_predict(e){return this.A*r(e,this.M)}toJSON(){return{name:'potentialRegression',A:this.A,M:this.M}}toString(e){return'f(x) = '+i.i(n.c)(this.A,e)+' * x^'+this.M}toLaTeX(e){return 0<=this.M?'f(x) = '+i.i(n.c)(this.A,e)+'x^{'+this.M+'}':'f(x) = \\frac{'+i.i(n.c)(this.A,e)+'}{x^{'+-this.M+'}}'}static load(e){if('potentialRegression'!==e.name)throw new TypeError('not a potential regression model');return new s(!0,e)}}t.a=s},function(e,t,i){'use strict';t.array=i(97),t.matrix=i(312)},function(e,t,i){'use strict';function o(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,a,i;if(-1===t){for(s=[0],r=n*o,a=0;a<n;a++)for(i=0;i<o;i++)s[0]+=e[a][i];s[0]/=r}else if(0===t)for(s=Array(o),r=n,i=0;i<o;i++){for(s[i]=0,a=0;a<n;a++)s[i]+=e[a][i];s[i]/=r}else if(1===t)for(s=Array(n),r=o,i=0;i<n;i++){for(s[i]=0,a=0;a<o;a++)s[i]+=e[i][a];s[i]/=r}else throw new Error('Invalid dimension');return s}function n(e,t,n){for(var o=a(e,t,n),s=o.length,r=0;r<s;r++)o[r]=R(o[r]);return o}function a(e,t,n){'undefined'==typeof n&&(n=!0),t=t||o(e);var s=e.length;if(0===s)return[];for(var r=e[0].length,a=Array(r),l=0;l<r;l++){for(var c=0,m=0,u=0,g=0;g<s;g++)u=e[g][l]-t[l],c+=u,m+=u*u;a[l]=n?(m-c*c/s)/(s-1):(m-c*c/s)/s}return a}function l(e,t,n){'undefined'==typeof n&&(n=0),'undefined'==typeof t&&(0===n?t=e.length-1:1===n&&(t=e[0].length-1));var r=o(e,n),a=e.length;if(0===a)return[[]];var l=e[0].length,c,m,i,u,s;if(0===n){for(c=Array(l),m=0;m<l;m++)c[m]=Array(l);for(m=0;m<l;m++)for(i=m;i<l;i++){for(u=0,s=0;s<a;s++)u+=(e[s][i]-r[i])*(e[s][m]-r[m]);u/=t,c[m][i]=u,c[i][m]=u}}else if(1===n){for(c=Array(a),m=0;m<a;m++)c[m]=Array(a);for(m=0;m<a;m++)for(i=m;i<a;i++){for(u=0,s=0;s<l;s++)u+=(e[i][s]-r[i])*(e[m][s]-r[m]);u/=t,c[m][i]=u,c[i][m]=u}}else throw new Error('Invalid dimension');return c}function m(e,t,i){return t=t||o(e),'undefined'==typeof i&&(i=n(e,!0,t)),g(u(e,t,!1),i,!0)}function u(e,t,n){t=t||o(e);var s=e,r=e.length,a,i,l;if(!n)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a];for(i=0,l=c.length;i<l;i++)c[i]=e[a][i]-t[i]}return s}function g(e,t,o){'undefined'==typeof t&&(t=n(e));var s=e,r=e.length,a,i,l;if(!o)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a],m=e[a];for(i=0,l=c.length;i<l;i++)0===t[i]||isNaN(t[i])||(c[i]=m[i]/t[i])}return s}function d(e,t,n){'undefined'==typeof n&&(n=0);var o=e.length;if(0===o)return[];var s=e[0].length,r,a,i,l,c,m;if(0===n){for(r=Array(s),a=0;a<s;a++)r[a]=0;for(a=0;a<o;a++)for(m=e[a],c=t[a],l=0;l<s;l++)r[l]+=m[l]*c}else if(1===n){for(r=Array(o),a=0;a<o;a++)r[a]=0;for(l=0;l<o;l++)for(m=e[l],c=t[l],a=0;a<s;a++)r[l]+=m[a]*c}else throw new Error('Invalid dimension');var u=p.sum(t);if(0!==u)for(a=0,i=r.length;a<i;a++)r[a]/=u;return r}function h(e,t,n,o,r){r=r||0,n=n||d(e,t,r),'undefined'==typeof o&&(o=1);var a=e.length;if(0===a)return[[]];var l=e[0].length,c,m,i,u,g;if(0===r){for(c=Array(l),m=0;m<l;m++)c[m]=Array(l);for(m=0;m<l;m++)for(i=m;i<l;i++){for(g=0,u=0;u<a;u++)g+=t[u]*(e[u][i]-n[i])*(e[u][m]-n[m]);c[m][i]=g*o,c[i][m]=g*o}}else if(1===r){for(c=Array(a),m=0;m<a;m++)c[m]=Array(a);for(m=0;m<a;m++)for(i=m;i<a;i++){for(g=0,u=0;u<l;u++)g+=t[u]*(e[i][u]-n[i])*(e[m][u]-n[m]);c[m][i]=g*o,c[i][m]=g*o}}else throw new Error('Invalid dimension');return c}var p=i(97);e.exports={entropy:function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=e[0].length,a=0;a<o;a++)for(var i=0;i<r;i++)n+=e[a][i]*s(e[a][i]+t);return-n},mean:o,standardDeviation:n,variance:a,median:function(e){for(var t=e.length,n=e[0].length,o=Array(n),s=0,i;s<n;s++){i=Array(t);for(var r=0;r<t;r++)i[r]=e[r][s];i.sort();var a=i.length;o[s]=0==a%2?0.5*(i[a/2]+i[a/2-1]):i[c(a/2)]}return o},mode:function(e){var t=e.length,n=e[0].length,o=Array(n),s,i;for(s=0;s<n;s++){for(var r=Array(t),a=0;a<t;a++)r[a]=0;var l=Array(t),c=0;for(i=0;i<t;i++){var m=l.indexOf(e[i][s]);0<=m?r[m]++:(l[c]=e[i][s],r[c]=1,c++)}var u=0,g=0;for(i=0;i<c;i++)r[i]>u&&(u=r[i],g=i);o[s]=l[g]}return o},skewness:function(e,t){'undefined'==typeof t&&(t=!0);for(var s=o(e),c=e.length,n=s.length,l=Array(n),m=0;m<n;m++){for(var u=0,d=0,h=0,i;h<c;h++)i=e[h][m]-s[m],u+=i*i,d+=i*i*i;var p=u/c,k=d/c,j=k/r(p,3/2);if(t){var g=R(c*(c-1));l[m]=g/(c-2)*j}else l[m]=j}return l},kurtosis:function(e,t){'undefined'==typeof t&&(t=!0);for(var s=o(e),r=e.length,n=e[0].length,a=Array(n),l=0;l<n;l++){for(var c=0,m=0,u=0,i;u<r;u++)i=e[u][l]-s[l],c+=i*i,m+=i*i*i*i;var g=c/r,d=m/r;if(t){var h=c/(r-1),p=m/(h*h);a[l]=r*(r+1)/((r-1)*(r-2)*(r-3))*p-3*((r-1)*(r-1)/((r-2)*(r-3)))}else a[l]=d/(g*g)-3}return a},standardError:function(e){for(var t=e.length,o=n(e),s=o.length,r=Array(s),a=R(t),l=0;l<s;l++)r[l]=o[l]/a;return r},covariance:function(e,t){return l(e,void 0,t)},scatter:l,correlation:function(e){var t=o(e),s=n(e,!0,t),r=m(e,t,s),a=e.length,u=e[0].length,g=Array(u),d,i;for(d=0;d<u;d++)g[d]=Array(u);for(d=0;d<u;d++)for(i=d;i<u;i++){for(var h=0,c=0,p=r.length;c<p;c++)h+=r[c][i]*r[c][d];h/=a-1,g[d][i]=h,g[i][d]=h}return g},zScores:m,center:u,standardize:g,weightedVariance:function(e,t){var n=o(e),s=e.length;if(0===s)return[];for(var r=e[0].length,l=Array(r),c=0;c<r;c++){for(var m=0,u=0,a=0,g=0;g<s;g++){var i=e[g][c]-n[c],d=t[g];m+=d*(i*i),a+=d,u+=d*d}l[c]=m*(a/(a*a-u))}return l},weightedMean:d,weightedCovariance:function(e,t,n,o){o=o||0,n=n||d(e,t,o);for(var s=0,r=0,a=0,i=t.length;a<i;a++)s+=t[a],r+=t[a]*t[a];var l=s/(s*s-r);return h(e,t,n,l,o)},weightedScatter:h}},function(e,t,i){'use strict';function n(e){if(!(this instanceof n))return new n(e);if(e=o.checkMatrix(e),!e.isSymmetric())throw new Error('Matrix is not symmetric');var t=e,r=t.rows,a=new o(r,r),l=!0,c,i,m;for(i=0;i<r;i++){var g=a[i],h=0;for(m=0;m<i;m++){var d=a[m],p=0;for(c=0;c<m;c++)p+=d[c]*g[c];g[m]=p=(t[i][m]-p)/a[m][m],h+=p*p}for(h=t[i][i]-h,l&=0<h,a[i][i]=R(u(h,0)),m=i+1;m<r;m++)a[i][m]=0}if(!l)throw new Error('Matrix is not positive definite');this.L=a}var o=i(12).Matrix;n.prototype={get lowerTriangularMatrix(){return this.L},solve:function(e){e=o.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error('Matrix dimensions do not match');var s=e.columns,r=e.clone(),a,i,l;for(l=0;l<n;l++)for(i=0;i<s;i++){for(a=0;a<l;a++)r[l][i]-=r[a][i]*t[l][a];r[l][i]/=t[l][l]}for(l=n-1;0<=l;l--)for(i=0;i<s;i++){for(a=l+1;a<n;a++)r[l][i]-=r[a][i]*t[a][l];r[l][i]/=t[l][l]}return r}},e.exports=n},function(e,t,i){'use strict';function o(t,c){if(c=Object.assign({},h,c),!(this instanceof o))return new o(t,c);if(t=m.checkMatrix(t),!t.isSquare())throw new Error('Matrix is not a square matrix');var u=t.columns,n=g(u,u,0),p=Array(u),d=Array(u),e=t,k=!1,x,i;if(k=!!c.assumeSymmetric||t.isSymmetric(),k){for(x=0;x<u;x++)for(i=0;i<u;i++)n[x][i]=e.get(x,i);s(u,d,p,n),r(u,d,p,n)}else{var j=g(u,u,0),w=Array(u);for(i=0;i<u;i++)for(x=0;x<u;x++)j[x][i]=e.get(x,i);a(u,j,w,n),l(u,d,p,n,j)}this.n=u,this.e=d,this.d=p,this.V=n}function s(t,n,e,o){var s,r,a,l,i,c,m,u;for(i=0;i<t;i++)e[i]=o[t-1][i];for(l=t-1;0<l;l--){for(u=0,a=0,c=0;c<l;c++)u+=v(e[c]);if(0===u)for(n[l]=e[l-1],i=0;i<l;i++)e[i]=o[l-1][i],o[l][i]=0,o[i][l]=0;else{for(c=0;c<l;c++)e[c]/=u,a+=e[c]*e[c];for(s=e[l-1],r=R(a),0<s&&(r=-r),n[l]=u*r,a-=s*r,e[l-1]=s-r,i=0;i<l;i++)n[i]=0;for(i=0;i<l;i++){for(s=e[i],o[i][l]=s,r=n[i]+o[i][i]*s,c=i+1;c<=l-1;c++)r+=o[c][i]*e[c],n[c]+=o[c][i]*s;n[i]=r}for(s=0,i=0;i<l;i++)n[i]/=a,s+=n[i]*e[i];for(m=s/(a+a),i=0;i<l;i++)n[i]-=m*e[i];for(i=0;i<l;i++){for(s=e[i],r=n[i],c=i;c<=l-1;c++)o[c][i]-=s*n[c]+r*e[c];e[i]=o[l-1][i],o[l][i]=0}}e[l]=a}for(l=0;l<t-1;l++){if(o[t-1][l]=o[l][l],o[l][l]=1,a=e[l+1],0!==a){for(c=0;c<=l;c++)e[c]=o[c][l+1]/a;for(i=0;i<=l;i++){for(r=0,c=0;c<=l;c++)r+=o[c][l+1]*o[c][i];for(c=0;c<=l;c++)o[c][i]-=r*e[c]}}for(c=0;c<=l;c++)o[c][l+1]=0}for(i=0;i<t;i++)e[i]=o[t-1][i],o[t-1][i]=0;o[t-1][t-1]=1,n[0]=0}function r(t,n,e,o){var a,g,d,i,h,k,l,m,p,x,w,c,y,M,b,R,S;for(d=1;d<t;d++)n[d-1]=n[d];n[t-1]=0;var I=0,f=0,V=2.220446049250313e-16;for(k=0;k<t;k++){for(f=u(f,v(e[k])+v(n[k])),l=k;l<t&&!(v(n[l])<=V*f);)l++;if(l>k){S=0;do{for(++S,a=e[k],m=(e[k+1]-a)/(2*n[k]),p=j(m,1),0>m&&(p=-p),e[k]=n[k]/(m+p),e[k+1]=n[k]*(m+p),x=e[k+1],g=a-e[k],d=k+2;d<t;d++)e[d]-=g;for(I+=g,m=e[l],w=1,c=w,y=w,M=n[k+1],b=0,R=0,d=l-1;d>=k;d--)for(y=c,c=w,R=b,a=w*n[d],g=w*m,p=j(m,n[d]),n[d+1]=b*p,b=n[d]/p,w=m/p,m=w*e[d]-b*a,e[d+1]=g+b*(w*a+b*e[d]),h=0;h<t;h++)g=o[h][d+1],o[h][d+1]=b*o[h][d]+w*g,o[h][d]=w*o[h][d]-b*g;m=-b*R*y*M*n[k]/x,n[k]=b*m,e[k]=w*m}while(v(n[k])>V*f)}e[k]+=I,n[k]=0}for(d=0;d<t-1;d++){for(h=d,m=e[d],i=d+1;i<t;i++)e[i]<m&&(h=i,m=e[i]);if(h!==d)for(e[h]=e[d],e[d]=m,i=0;i<t;i++)m=o[i][d],o[i][d]=o[i][h],o[i][h]=m}}function a(e,t,n,o){var s=0,r=e-1,a,l,c,u,i,d,m;for(d=s+1;d<=r-1;d++){for(m=0,u=d;u<=r;u++)m+=v(t[u][d-1]);if(0!==m){for(c=0,u=r;u>=d;u--)n[u]=t[u][d-1]/m,c+=n[u]*n[u];for(l=R(c),0<n[d]&&(l=-l),c-=n[d]*l,n[d]-=l,i=d;i<e;i++){for(a=0,u=r;u>=d;u--)a+=n[u]*t[u][i];for(a/=c,u=d;u<=r;u++)t[u][i]-=a*n[u]}for(u=0;u<=r;u++){for(a=0,i=r;i>=d;i--)a+=n[i]*t[u][i];for(a/=c,i=d;i<=r;i++)t[u][i]-=a*n[i]}n[d]=m*n[d],t[d][d-1]=m*l}}for(u=0;u<e;u++)for(i=0;i<e;i++)o[u][i]=u===i?1:0;for(d=r-1;d>=s+1;d--)if(0!==t[d][d-1]){for(u=d+1;u<=r;u++)n[u]=t[u][d-1];for(i=d;i<=r;i++){for(l=0,u=d;u<=r;u++)l+=n[u]*o[u][i];for(l=l/n[d]/t[d][d-1],u=d;u<=r;u++)o[u][i]+=l*n[u]}}}function l(o,a,e,g,d){var h=o-1,n=0,f=o-1,b=2.220446049250313e-16,S=0,I=0,V=0,p=0,C=0,D=0,A=0,L=0,U,i,j,k,l,m,t,w,x,y,P,F,q,O,_;for(U=0;U<o;U++)for((U<n||U>f)&&(e[U]=d[U][U],a[U]=0),i=u(U-1,0);i<o;i++)I+=v(d[U][i]);for(;h>=n;){for(k=h;k>n&&(D=v(d[k-1][k-1])+v(d[k][k]),0===D&&(D=I),!(v(d[k][k-1])<b*D));)k--;if(k===h)d[h][h]+=S,e[h]=d[h][h],a[h]=0,h--,L=0;else if(k===h-1){if(t=d[h][h-1]*d[h-1][h],V=(d[h-1][h-1]-d[h][h])/2,p=V*V+t,A=R(v(p)),d[h][h]+=S,d[h-1][h-1]=d[h-1][h-1]+S,w=d[h][h],0<=p){for(A=0<=V?V+A:V-A,e[h-1]=w+A,e[h]=e[h-1],0!==A&&(e[h]=w-t/A),a[h-1]=0,a[h]=0,w=d[h][h-1],D=v(w)+v(A),V=w/D,p=A/D,C=R(V*V+p*p),V/=C,p/=C,i=h-1;i<o;i++)A=d[h-1][i],d[h-1][i]=p*A+V*d[h][i],d[h][i]=p*d[h][i]-V*A;for(U=0;U<=h;U++)A=d[U][h-1],d[U][h-1]=p*A+V*d[U][h],d[U][h]=p*d[U][h]-V*A;for(U=n;U<=f;U++)A=g[U][h-1],g[U][h-1]=p*A+V*g[U][h],g[U][h]=p*g[U][h]-V*A}else e[h-1]=w+V,e[h]=w+V,a[h-1]=A,a[h]=-A;h-=2,L=0}else{if(w=d[h][h],x=0,t=0,k<h&&(x=d[h-1][h-1],t=d[h][h-1]*d[h-1][h]),10==L){for(S+=w,U=n;U<=h;U++)d[U][U]-=w;D=v(d[h][h-1])+v(d[h-1][h-2]),w=x=0.75*D,t=-0.4375*D*D}if(30==L&&(D=(x-w)/2,D=D*D+t,0<D)){for(D=R(D),x<w&&(D=-D),D=w-t/((x-w)/2+D),U=n;U<=h;U++)d[U][U]-=D;S+=D,w=x=t=0.964}for(++L,l=h-2;l>=k&&(A=d[l][l],C=w-A,D=x-A,V=(C*D-t)/d[l+1][l]+d[l][l+1],p=d[l+1][l+1]-A-C-D,C=d[l+2][l+1],D=v(V)+v(p)+v(C),V/=D,p/=D,C/=D,l!==k)&&!(v(d[l][l-1])*(v(p)+v(C))<b*(v(V)*(v(d[l-1][l-1])+v(A)+v(d[l+1][l+1]))));)l--;for(U=l+2;U<=h;U++)d[U][U-2]=0,U>l+2&&(d[U][U-3]=0);for(j=l;j<=h-1&&(O=j!==h-1,j!==l&&(V=d[j][j-1],p=d[j+1][j-1],C=O?d[j+2][j-1]:0,w=v(V)+v(p)+v(C),0!==w&&(V/=w,p/=w,C/=w)),0!==w);j++)if(D=R(V*V+p*p+C*C),0>V&&(D=-D),0!==D){for(j===l?k!==l&&(d[j][j-1]=-d[j][j-1]):d[j][j-1]=-D*w,V+=D,w=V/D,x=p/D,A=C/D,p/=V,C/=V,i=j;i<o;i++)V=d[j][i]+p*d[j+1][i],O&&(V+=C*d[j+2][i],d[j+2][i]=d[j+2][i]-V*A),d[j][i]-=V*w,d[j+1][i]=d[j+1][i]-V*x;for(U=0;U<=M(h,j+3);U++)V=w*d[U][j]+x*d[U][j+1],O&&(V+=A*d[U][j+2],d[U][j+2]=d[U][j+2]-V*C),d[U][j]-=V,d[U][j+1]=d[U][j+1]-V*p;for(U=n;U<=f;U++)V=w*g[U][j]+x*g[U][j+1],O&&(V+=A*g[U][j+2],g[U][j+2]=g[U][j+2]-V*C),g[U][j]-=V,g[U][j+1]=g[U][j+1]-V*p}}}if(0!==I){for(h=o-1;0<=h;h--)if(V=e[h],p=a[h],0===p)for(k=h,d[h][h]=1,U=h-1;0<=U;U--){for(t=d[U][U]-V,C=0,i=k;i<=h;i++)C+=d[U][i]*d[i][h];if(0>a[U])A=t,D=C;else if(k=U,0===a[U]?d[U][h]=0===t?-C/(b*I):-C/t:(w=d[U][U+1],x=d[U+1][U],p=(e[U]-V)*(e[U]-V)+a[U]*a[U],m=(w*D-A*C)/p,d[U][h]=m,d[U+1][h]=v(w)>v(A)?(-C-t*m)/w:(-D-x*m)/A),m=v(d[U][h]),1<b*m*m)for(i=U;i<=h;i++)d[i][h]/=m}else if(0>p)for(k=h-1,v(d[h][h-1])>v(d[h-1][h])?(d[h-1][h-1]=p/d[h][h-1],d[h-1][h]=-(d[h][h]-V)/d[h][h-1]):(_=c(0,-d[h-1][h],d[h-1][h-1]-V,p),d[h-1][h-1]=_[0],d[h-1][h]=_[1]),d[h][h-1]=0,d[h][h]=1,U=h-2;0<=U;U--){for(y=0,P=0,i=k;i<=h;i++)y+=d[U][i]*d[i][h-1],P+=d[U][i]*d[i][h];if(t=d[U][U]-V,0>a[U])A=t,C=y,D=P;else if(k=U,0===a[U]?(_=c(-y,-P,t,p),d[U][h-1]=_[0],d[U][h]=_[1]):(w=d[U][U+1],x=d[U+1][U],F=(e[U]-V)*(e[U]-V)+a[U]*a[U]-p*p,q=2*(e[U]-V)*p,0===F&&0===q&&(F=b*I*(v(t)+v(p)+v(w)+v(x)+v(A))),_=c(w*C-A*y+p*P,w*D-A*P-p*y,F,q),d[U][h-1]=_[0],d[U][h]=_[1],v(w)>v(A)+v(p)?(d[U+1][h-1]=(-y-t*d[U][h-1]+p*d[U][h])/w,d[U+1][h]=(-P-t*d[U][h]-p*d[U][h-1])/w):(_=c(-C-x*d[U][h-1],-D-x*d[U][h],A,p),d[U+1][h-1]=_[0],d[U+1][h]=_[1])),m=u(v(d[U][h-1]),v(d[U][h])),1<b*m*m)for(i=U;i<=h;i++)d[i][h-1]=d[i][h-1]/m,d[i][h]/=m}for(U=0;U<o;U++)if(U<n||U>f)for(i=U;i<o;i++)g[U][i]=d[U][i];for(i=o-1;i>=n;i--)for(U=n;U<=f;U++){for(A=0,j=n;j<=M(i,f);j++)A+=g[U][j]*d[j][i];g[U][i]=A}}}function c(e,t,i,n){var o,s;return v(i)>v(n)?(o=n/i,s=i+o*n,[(e+o*t)/s,(t-o*e)/s]):(o=i/n,s=n+o*i,[(o*e+t)/s,(o*t-e)/s])}const m=i(12).Matrix,n=i(50),j=n.hypotenuse,g=n.getFilled2DArray,h={assumeSymmetric:!1};o.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return m.isMatrix(this.V)||(this.V=new m(this.V)),this.V},get diagonalMatrix(){var t=this.n,n=this.e,e=this.d,o=new m(t,t),s,i;for(s=0;s<t;s++){for(i=0;i<t;i++)o[s][i]=0;o[s][s]=e[s],0<n[s]?o[s][s+1]=n[s]:0>n[s]&&(o[s][s-1]=n[s])}return o}},e.exports=o},function(e,t,i){'use strict';function o(e){if(!(this instanceof o))return new o(e);e=r.checkMatrix(e);var t=e.clone(),a=e.rows,l=e.columns,c=Array(l),m,i,u,g;for(u=0;u<l;u++){var d=0;for(m=u;m<a;m++)d=n(d,t[m][u]);if(0!==d){for(0>t[u][u]&&(d=-d),m=u;m<a;m++)t[m][u]/=d;for(t[u][u]+=1,i=u+1;i<l;i++){for(g=0,m=u;m<a;m++)g+=t[m][u]*t[m][i];for(g=-g/t[u][u],m=u;m<a;m++)t[m][i]+=g*t[m][u]}}c[u]=-d}this.QR=t,this.Rdiag=c}var r=i(12).Matrix,n=i(50).hypotenuse;o.prototype={solve:function(e){e=r.checkMatrix(e);var t=this.QR,o=t.rows;if(e.rows!==o)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var a=e.columns,l=e.clone(),c=t.columns,n,i,m,u;for(m=0;m<c;m++)for(i=0;i<a;i++){for(u=0,n=m;n<o;n++)u+=t[n][m]*l[n][i];for(u=-u/t[m][m],n=m;n<o;n++)l[n][i]+=u*t[n][m]}for(m=c-1;0<=m;m--){for(i=0;i<a;i++)l[m][i]/=this.Rdiag[m];for(n=0;n<m;n++)for(i=0;i<a;i++)l[n][i]-=l[m][i]*t[n][m]}return l.subMatrix(0,c-1,0,a-1)},isFullRank:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0},get upperTriangularMatrix(){var e=this.QR,t=e.columns,n=new r(t,t),o,i;for(o=0;o<t;o++)for(i=0;i<t;i++)n[o][i]=o<i?e[o][i]:o===i?this.Rdiag[o]:0;return n},get orthogonalMatrix(){var e=this.QR,t=e.rows,n=e.columns,o=new r(t,n),a,i,l,c;for(l=n-1;0<=l;l--){for(a=0;a<t;a++)o[a][l]=0;for(o[l][l]=1,i=l;i<n;i++)if(0!==e[l][l]){for(c=0,a=l;a<t;a++)c+=e[a][l]*o[a][i];for(c=-c/e[l][l],a=l;a<t;a++)o[a][i]+=c*e[a][l]}}return o}},e.exports=o},function(e,t,i){'use strict';function n(e){return e=s.checkMatrix(e),o(e,s.eye(e.rows))}function o(e,t){return e=s.checkMatrix(e),t=s.checkMatrix(t),e.isSquare()?new l(e).solve(t):new c(e).solve(t)}var s=i(12).Matrix,r=i(100),a=i(314),l=i(99),c=i(315),m=i(313);s.inverse=s.inv=n,s.prototype.inverse=s.prototype.inv=function(){return n(this)},s.solve=o,s.prototype.solve=function(e){return o(this,e)},e.exports={SingularValueDecomposition:r,SVD:r,EigenvalueDecomposition:a,EVD:a,LuDecomposition:l,LU:l,QrDecomposition:c,QR:c,CholeskyDecomposition:m,CHO:m,inverse:n,solve:o}},function(e,t,i){'use strict';e.exports=i(12).Matrix,e.exports.Decompositions=e.exports.DC=i(316)},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(e,t,i){'use strict';var n=i(22);e.exports=class extends n{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}}},function(e,t,i){'use strict';var n=i(22);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}},function(e,t,i){'use strict';var n=i(22);e.exports=class extends n{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}},function(e,t,i){'use strict';var n=i(22);e.exports=class extends n{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}}},function(e,t,i){'use strict';var n=i(22),o=i(31);e.exports=class extends n{constructor(e,t,i){var n=o.checkIndices(e,t,i);super(e,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}},function(e,t,i){'use strict';var n=i(22),o=i(31);e.exports=class extends n{constructor(e,t,i,n,s){o.checkRange(e,t,i,n,s),super(e,i-t+1,s-n+1),this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}},function(e,t,i){'use strict';var n=i(22);e.exports=class extends n{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}}},function(e,t,i){function n(e,t,i,n){o.call(this,e,t,i,n),this.hX=e-c(t/2),this.z=0-this.hX-t}var o=i(101);n.prototype=new o,n.prototype.constructor=n,n.prototype.getDistance=function(e){return u(v(this.hX-e.hX),v(this.y-e.y),v(this.z-e.z))},n.prototype.getDistanceTorus=function(e){var t=v(this.hX-e.hX),i=v(this.y-e.y),n=v(this.z-e.z);return u(M(t,this.som.gridDim.x-t),M(i,this.som.gridDim.y-i),M(n,this.som.gridDim.z-n))},n.prototype.getPosition=function(){throw new Error('Unimplemented : cannot get position of the points for hexagonal grid')},e.exports=n},function(e,t,i){'use strict';function n(e,t){return e-t}var o=i(102);t.max=function(e){for(var t=-Infinity,n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i]>t&&(t=e[n][i]);return t},t.min=function(e){for(var t=Infinity,n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i]<t&&(t=e[n][i]);return t},t.minMax=function(e){for(var t=Infinity,n=-Infinity,o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)e[o][i]<t&&(t=e[o][i]),e[o][i]>n&&(n=e[o][i]);return{min:t,max:n}},t.entropy=function(e,t){'undefined'==typeof t&&(t=0);for(var n=0,o=e.length,r=e[0].length,a=0;a<o;a++)for(var i=0;i<r;i++)n+=e[a][i]*s(e[a][i]+t);return-n},t.mean=function(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,a,i;if(-1===t){for(s=[0],r=n*o,a=0;a<n;a++)for(i=0;i<o;i++)s[0]+=e[a][i];s[0]/=r}else if(0===t)for(s=Array(o),r=n,i=0;i<o;i++){for(s[i]=0,a=0;a<n;a++)s[i]+=e[a][i];s[i]/=r}else if(1===t)for(s=Array(n),r=o,i=0;i<n;i++){for(s[i]=0,a=0;a<o;a++)s[i]+=e[i][a];s[i]/=r}else throw new Error('Invalid dimension');return s},t.sum=function(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,i;if(-1===t)for(s=[0],r=0;r<n;r++)for(i=0;i<o;i++)s[0]+=e[r][i];else if(0===t)for(s=Array(o),i=0;i<o;i++)for(s[i]=0,r=0;r<n;r++)s[i]+=e[r][i];else if(1===t)for(s=Array(n),i=0;i<n;i++)for(s[i]=0,r=0;r<o;r++)s[i]+=e[i][r];else throw new Error('Invalid dimension');return s},t.product=function(e,t){'undefined'==typeof t&&(t=0);var n=e.length,o=e[0].length,s,r,i;if(-1===t)for(s=[1],r=0;r<n;r++)for(i=0;i<o;i++)s[0]*=e[r][i];else if(0===t)for(s=Array(o),i=0;i<o;i++)for(s[i]=1,r=0;r<n;r++)s[i]*=e[r][i];else if(1===t)for(s=Array(n),i=0;i<n;i++)for(s[i]=1,r=0;r<o;r++)s[i]*=e[i][r];else throw new Error('Invalid dimension');return s},t.standardDeviation=function(e,n,o){for(var s=t.variance(e,n,o),r=s.length,a=0;a<r;a++)s[a]=R(s[a]);return s},t.variance=function(e,n,o){'undefined'==typeof o&&(o=!0),n=n||t.mean(e);var s=e.length;if(0===s)return[];for(var r=e[0].length,a=Array(r),l=0;l<r;l++){for(var c=0,m=0,u=0,g=0;g<s;g++)u=e[g][l]-n[l],c+=u,m+=u*u;a[l]=o?(m-c*c/s)/(s-1):(m-c*c/s)/s}return a},t.median=function(e){for(var t=e.length,o=e[0].length,s=Array(o),r=0,i;r<o;r++){i=Array(t);for(var a=0;a<t;a++)i[a]=e[a][r];i.sort(n);var l=i.length;s[r]=0==l%2?0.5*(i[l/2]+i[l/2-1]):i[c(l/2)]}return s},t.mode=function(e){var t=e.length,n=e[0].length,o=Array(n),s,i;for(s=0;s<n;s++){for(var r=Array(t),a=0;a<t;a++)r[a]=0;var l=Array(t),c=0;for(i=0;i<t;i++){var m=l.indexOf(e[i][s]);0<=m?r[m]++:(l[c]=e[i][s],r[c]=1,c++)}var u=0,g=0;for(i=0;i<c;i++)r[i]>u&&(u=r[i],g=i);o[s]=l[g]}return o},t.skewness=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),c=e.length,n=s.length,l=Array(n),m=0;m<n;m++){for(var u=0,d=0,h=0,i;h<c;h++)i=e[h][m]-s[m],u+=i*i,d+=i*i*i;var p=u/c,k=d/c,j=k/r(p,3/2);if(o){var g=R(c*(c-1));l[m]=g/(c-2)*j}else l[m]=j}return l},t.kurtosis=function(e,o){'undefined'==typeof o&&(o=!0);for(var s=t.mean(e),r=e.length,n=e[0].length,a=Array(n),l=0;l<n;l++){for(var c=0,m=0,u=0,i;u<r;u++)i=e[u][l]-s[l],c+=i*i,m+=i*i*i*i;var g=c/r,d=m/r;if(o){var h=c/(r-1),p=m/(h*h);a[l]=r*(r+1)/((r-1)*(r-2)*(r-3))*p-3*((r-1)*(r-1)/((r-2)*(r-3)))}else a[l]=d/(g*g)-3}return a},t.standardError=function(e){for(var n=e.length,o=t.standardDeviation(e),s=o.length,r=Array(s),a=R(n),l=0;l<s;l++)r[l]=o[l]/a;return r},t.covariance=function(e,i){return t.scatter(e,void 0,i)},t.scatter=function(e,n,o){'undefined'==typeof o&&(o=0),'undefined'==typeof n&&(0===o?n=e.length-1:1===o&&(n=e[0].length-1));var r=t.mean(e,o),a=e.length;if(0===a)return[[]];var l=e[0].length,c,m,i,u,s;if(0===o){for(c=Array(l),m=0;m<l;m++)c[m]=Array(l);for(m=0;m<l;m++)for(i=m;i<l;i++){for(u=0,s=0;s<a;s++)u+=(e[s][i]-r[i])*(e[s][m]-r[m]);u/=n,c[m][i]=u,c[i][m]=u}}else if(1===o){for(c=Array(a),m=0;m<a;m++)c[m]=Array(a);for(m=0;m<a;m++)for(i=m;i<a;i++){for(u=0,s=0;s<l;s++)u+=(e[i][s]-r[i])*(e[m][s]-r[m]);u/=n,c[m][i]=u,c[i][m]=u}}else throw new Error('Invalid dimension');return c},t.correlation=function(e){var n=t.mean(e),o=t.standardDeviation(e,!0,n),s=t.zScores(e,n,o),r=e.length,a=e[0].length,m=Array(a),u,i;for(u=0;u<a;u++)m[u]=Array(a);for(u=0;u<a;u++)for(i=u;i<a;i++){for(var g=0,c=0,d=s.length;c<d;c++)g+=s[c][i]*s[c][u];g/=r-1,m[u][i]=g,m[i][u]=g}return m},t.zScores=function(e,i,n){return i=i||t.mean(e),'undefined'==typeof n&&(n=t.standardDeviation(e,!0,i)),t.standardize(t.center(e,i,!1),n,!0)},t.center=function(e,n,o){n=n||t.mean(e);var s=e,r=e.length,a,i,l;if(!o)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a];for(i=0,l=c.length;i<l;i++)c[i]=e[a][i]-n[i]}return s},t.standardize=function(e,n,o){'undefined'==typeof n&&(n=t.standardDeviation(e));var s=e,r=e.length,a,i,l;if(!o)for(s=Array(r),a=0;a<r;a++)s[a]=Array(e[a].length);for(a=0;a<r;a++){var c=s[a],m=e[a];for(i=0,l=c.length;i<l;i++)0===n[i]||isNaN(n[i])||(c[i]=m[i]/n[i])}return s},t.weightedVariance=function(e,n){var o=t.mean(e),s=e.length;if(0===s)return[];for(var r=e[0].length,l=Array(r),c=0;c<r;c++){for(var m=0,u=0,a=0,g=0;g<s;g++){var i=e[g][c]-o[c],d=n[g];m+=d*(i*i),a+=d,u+=d*d}l[c]=m*(a/(a*a-u))}return l},t.weightedMean=function(e,t,n){'undefined'==typeof n&&(n=0);var s=e.length;if(0===s)return[];var r=e[0].length,a,l,i,c,m,u;if(0===n){for(a=Array(r),l=0;l<r;l++)a[l]=0;for(l=0;l<s;l++)for(u=e[l],m=t[l],c=0;c<r;c++)a[c]+=u[c]*m}else if(1===n){for(a=Array(s),l=0;l<s;l++)a[l]=0;for(c=0;c<s;c++)for(u=e[c],m=t[c],l=0;l<r;l++)a[c]+=u[l]*m}else throw new Error('Invalid dimension');var g=o.sum(t);if(0!==g)for(l=0,i=a.length;l<i;l++)a[l]/=g;return a},t.weightedCovariance=function(e,n,o,s){s=s||0,o=o||t.weightedMean(e,n,s);for(var r=0,a=0,l=0,i=n.length;l<i;l++)r+=n[l],a+=n[l]*n[l];var c=r/(r*r-a);return t.weightedScatter(e,n,o,c,s)},t.weightedScatter=function(e,n,o,r,a){a=a||0,o=o||t.weightedMean(e,n,a),'undefined'==typeof r&&(r=1);var l=e.length;if(0===l)return[[]];var c=e[0].length,m,u,i,g,d;if(0===a){for(m=Array(c),u=0;u<c;u++)m[u]=Array(c);for(u=0;u<c;u++)for(i=u;i<c;i++){for(d=0,g=0;g<l;g++)d+=n[g]*(e[g][i]-o[i])*(e[g][u]-o[u]);m[u][i]=d*r,m[i][u]=d*r}}else if(1===a){for(m=Array(l),u=0;u<l;u++)m[u]=Array(l);for(u=0;u<l;u++)for(i=u;i<l;i++){for(d=0,g=0;g<c;g++)d+=n[g]*(e[i][g]-o[i])*(e[u][g]-o[u]);m[u][i]=d*r,m[i][u]=d*r}}else throw new Error('Invalid dimension');return m}},function(e){'use strict';function t(e,n,o,s,r,a){if(r=r||0.16,a=a||0.01,!(s-o<r)){for(var l=0,c=0;e[c]<s;c++)e[c]>o&&(l+=n[c]);if(!(l<a)){for(var i=0,m=0;e[m]<s;m++)e[c]>o&&(i+=e[m]*n[m]);return i/=l,1e-5>i-o||1e-5>s-i?void 0:i-o<r/4?t(e,n,i,s,r,a):s-i<r/4?t(e,n,o,i,r,a):{sum:l,center:i,left:t(e,n,o,i,r,a),right:t(e,n,i,s,r,a)}}}}function i(e,t,n,o,s){if(e===void 0||t===void 0)return 0;var r=n*M(e.sum,t.sum)/u(e.sum,t.sum)+(1-n)*l(-s*v(e.center-t.center));return o*r+(1-o)*(i(e.left,t.left,n,o,s)+i(e.right,t.right,n,o,s))}var n={minWindow:0.16,threshold:0.01,alpha:0.1,beta:0.33,gamma:1e-3};e.exports={calc:function(e,s,r,a,l){for(var c in l=l||{},n)l.hasOwnProperty(c)||(l[c]=n[c]);var o,m;return o=e.sum?e:t(e.x,e.y,r,a,l.minWindow,l.threshold),m=s.sum?s:t(s.x,s.y,r,a,l.minWindow,l.threshold),i(o,m,l.alpha,l.beta,l.gamma)},createTree:t}},function(e){e.exports=function(e,t){e=e||0;for(var n=Array(e),o=0;o<e;o++)n[o]=t;return n}},function(e){'use strict';e.exports=Number.isNaN||function(e){return e!==e}},function(e){function t(){throw new Error('setTimeout has not been defined')}function i(){throw new Error('clearTimeout has not been defined')}function n(e){if(m===setTimeout)return setTimeout(e,0);if((m===t||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch(t){try{return m.call(null,e,0)}catch(t){return m.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function s(){d&&p&&(d=!1,p.length?g=p.concat(g):h=-1,g.length&&r())}function r(){if(!d){var e=n(s);d=!0;for(var t=g.length;t;){for(p=g,g=[];++h<t;)p&&p[h].run();h=-1,t=g.length}p=null,d=!1,o(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var c=e.exports={},m,u;(function(){try{m='function'==typeof setTimeout?setTimeout:t}catch(i){m=t}try{u='function'==typeof clearTimeout?clearTimeout:i}catch(t){u=i}})();var g=[],d=!1,h=-1,p;c.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];g.push(new a(e,t)),1!==g.length||d||n(r)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title='browser',c.browser=!0,c.env={},c.argv=[],c.version='',c.versions={},c.on=l,c.addListener=l,c.once=l,c.off=l,c.removeListener=l,c.removeAllListeners=l,c.emit=l,c.prependListener=l,c.prependOnceListener=l,c.listeners=function(){return[]},c.binding=function(){throw new Error('process.binding is not supported')},c.cwd=function(){return'/'},c.chdir=function(){throw new Error('process.chdir is not supported')},c.umask=function(){return 0}},function(e){e.exports='function'==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e){e.exports=function(e){return e&&'object'==typeof e&&'function'==typeof e.copy&&'function'==typeof e.fill&&'function'==typeof e.readUInt8}},function(e,t,i){(function(e,n){function o(e,i){var n={seen:[],stylize:r};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),p(i)?n.showHidden=i:i&&t._extend(n,i),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),l(n,e,n.depth)}function s(e,t){var i=o.styles[t];return i?'\x1B['+o.colors[i][0]+'m'+e+'\x1B['+o.colors[i][1]+'m':e}function r(e){return e}function a(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,i,o){if(e.customInspect&&i&&v(i.inspect)&&i.inspect!==t.inspect&&!(i.constructor&&i.constructor.prototype===i)){var s=i.inspect(o,e);return w(s)||(s=l(e,s,o)),s}var r=c(e,i);if(r)return r;var p=Object.keys(i),k=a(p);if(e.showHidden&&(p=Object.getOwnPropertyNames(i)),b(i)&&(0<=p.indexOf('message')||0<=p.indexOf('description')))return m(i);if(0===p.length){if(v(i)){var j=i.name?': '+i.name:'';return e.stylize('[Function'+j+']','special')}if(y(i))return e.stylize(RegExp.prototype.toString.call(i),'regexp');if(f(i))return e.stylize(Date.prototype.toString.call(i),'date');if(b(i))return m(i)}var x='',M=!1,R=['{','}'];if(h(i)&&(M=!0,R=['[',']']),v(i)){var S=i.name?': '+i.name:'';x=' [Function'+S+']'}if(y(i)&&(x=' '+RegExp.prototype.toString.call(i)),f(i)&&(x=' '+Date.prototype.toUTCString.call(i)),b(i)&&(x=' '+m(i)),0===p.length&&(!M||0==i.length))return R[0]+x+R[1];if(0>o)return y(i)?e.stylize(RegExp.prototype.toString.call(i),'regexp'):e.stylize('[Object]','special');e.seen.push(i);var n;return n=M?u(e,i,o,k,p):p.map(function(t){return g(e,i,o,k,t,M)}),e.seen.pop(),d(n,x,R)}function c(e,t){if(x(t))return e.stylize('undefined','undefined');if(w(t)){var i='\''+JSON.stringify(t).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return e.stylize(i,'string')}return j(t)?e.stylize(''+t,'number'):p(t)?e.stylize(''+t,'boolean'):k(t)?e.stylize('null','null'):void 0}function m(e){return'['+Error.prototype.toString.call(e)+']'}function u(e,t,n,o,s){for(var r=[],a=0,i=t.length;a<i;++a)V(t,a+'')?r.push(g(e,t,n,o,a+'',!0)):r.push('');return s.forEach(function(i){i.match(/^\d+$/)||r.push(g(e,t,n,o,i,!0))}),r}function g(e,t,i,n,o,s){var r,a,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?c.set?a=e.stylize('[Getter/Setter]','special'):a=e.stylize('[Getter]','special'):c.set&&(a=e.stylize('[Setter]','special')),V(n,o)||(r='['+o+']'),a||(0>e.seen.indexOf(c.value)?(a=k(i)?l(e,c.value,null):l(e,c.value,i-1),-1<a.indexOf('\n')&&(s?a=a.split('\n').map(function(e){return'  '+e}).join('\n').substr(2):a='\n'+a.split('\n').map(function(e){return'   '+e}).join('\n'))):a=e.stylize('[Circular]','special')),x(r)){if(s&&o.match(/^\d+$/))return a;r=JSON.stringify(''+o),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,'name')):(r=r.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),r=e.stylize(r,'string'))}return r+': '+a}function d(e,t,i){var n=0,o=e.reduce(function(e,t){return n++,0<=t.indexOf('\n')&&n++,e+t.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<o?i[0]+(''===t?'':t+'\n ')+' '+e.join(',\n  ')+' '+i[1]:i[0]+t+' '+e.join(', ')+' '+i[1]}function h(e){return Array.isArray(e)}function p(e){return'boolean'==typeof e}function k(e){return null===e}function j(e){return'number'==typeof e}function w(e){return'string'==typeof e}function x(e){return void 0===e}function y(e){return M(e)&&'[object RegExp]'===R(e)}function M(e){return'object'==typeof e&&null!==e}function f(e){return M(e)&&'[object Date]'===R(e)}function b(t){return M(t)&&('[object Error]'===R(t)||t instanceof Error)}function v(e){return'function'==typeof e}function R(e){return Object.prototype.toString.call(e)}function S(e){return 10>e?'0'+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(':');return[e.getDate(),A[e.getMonth()],t].join(' ')}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var C=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(' ')}for(var n=1,i=arguments,s=i.length,r=(e+'').replace(C,function(e){if('%%'===e)return'%';if(n>=s)return e;switch(e){case'%s':return i[n++]+'';case'%d':return+i[n++];case'%j':try{return JSON.stringify(i[n++])}catch(e){return'[Circular]'}default:return e;}}),a=i[n];n<s;a=i[++n])r+=k(a)||!M(a)?' '+a:' '+o(a);return r},t.deprecate=function(i,o){if(x(e.process))return function(){return t.deprecate(i,o).apply(this,arguments)};if(!0===n.noDeprecation)return i;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(o);else n.traceDeprecation?console.trace(o):console.error(o);s=!0}return i.apply(this,arguments)}};var z={},D;t.debuglog=function(e){if(x(D)&&(D=n.env.NODE_DEBUG||''),e=e.toUpperCase(),!z[e])if(new RegExp('\\b'+e+'\\b','i').test(D)){var i=n.pid;z[e]=function(){var n=t.format.apply(t,arguments);console.error('%s %d: %s',e,i,n)}}else z[e]=function(){};return z[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'},t.isArray=h,t.isBoolean=p,t.isNull=k,t.isNullOrUndefined=function(e){return null==e},t.isNumber=j,t.isString=w,t.isSymbol=function(e){return'symbol'==typeof e},t.isUndefined=x,t.isRegExp=y,t.isObject=M,t.isDate=f,t.isError=b,t.isFunction=v,t.isPrimitive=function(e){return null===e||'boolean'==typeof e||'number'==typeof e||'string'==typeof e||'symbol'==typeof e||'undefined'==typeof e},t.isBuffer=i(333);var A=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];t.log=function(){console.log('%s - %s',I(),t.format.apply(t,arguments))},t.inherits=i(332),t._extend=function(e,t){if(!t||!M(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}}).call(t,i(335),i(331))},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(i){'object'==typeof window&&(t=window)}e.exports=t}])});
//# sourceMappingURL=ml.min.js.map