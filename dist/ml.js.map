{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2f453b4ccc2f036372f3","webpack:///./node_modules/ml-matrix/src/index.js","webpack:///./node_modules/ml-distance-euclidean/euclidean.js","webpack:///./node_modules/ml-regression-base/src/index.js","webpack:///./node_modules/ml-matrix/src/views/base.js","webpack:///./node_modules/ml-stat/index.js","webpack:///./node_modules/ml-matrix/src/util.js","webpack:///./node_modules/ml-matrix/src/matrix.js","webpack:///./node_modules/ml-matrix/src/abstractMatrix.js","webpack:///./node_modules/ml-stat/matrix.js","webpack:///./node_modules/ml-matrix/src/dc/lu.js","webpack:///./node_modules/ml-matrix/src/dc/svd.js","webpack:///./node_modules/ml-matrix/src/dc/util.js","webpack:///./node_modules/ml-hclust/src/Cluster.js","webpack:///./node_modules/ml-kernel/src/kernel.js","webpack:///./node_modules/ml-regression-simple-linear/src/index.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/ml-matrix/src/wrap/WrapperMatrix1D.js","webpack:///./node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","webpack:///./node_modules/ml-matrix/src/dc/qr.js","webpack:///./node_modules/ml-cart/src/TreeNode.js","webpack:///./node_modules/ml-array-mean/src/index.js","webpack:///./node_modules/ml-stat/array.js","webpack:///./node_modules/ml-hclust/src/ClusterLeaf.js","webpack:///./node_modules/ml-distance-matrix/src/index.js","webpack:///./node_modules/ml-kmeans/src/utils.js","webpack:///./node_modules/ml-naivebayes/src/utils.js","webpack:///./node_modules/ml-pls/src/utils.js","webpack:///./node_modules/ml-confusion-matrix/src/index.js","webpack:///./node_modules/ml-fnn/src/Layer.js","webpack:///./node_modules/ml-fnn/src/utils.js","webpack:///./node_modules/ml-fnn/src/activationFunctions.js","webpack:///./node_modules/ml-som/src/node-square.js","webpack:///./node_modules/ml-regression/src/index.js","webpack:///./node_modules/ml-regression-polynomial/src/index.js","webpack:///./node_modules/ml-hash-table/src/HashTable.js","webpack:///./node_modules/binary-search/index.js","webpack:///./node_modules/num-sort/index.js","webpack:///./node_modules/ml-distance/src/index.js","webpack:///./node_modules/ml-distance/src/similarities/czekanowski.js","webpack:///./node_modules/ml-distance/src/distances/dice.js","webpack:///./node_modules/ml-distance/src/distances/intersection.js","webpack:///./node_modules/ml-distance/src/distances/jaccard.js","webpack:///./node_modules/ml-distance/src/distances/kulczynski.js","webpack:///./node_modules/ml-distance/src/distances/motyka.js","webpack:///./node_modules/ml-distance/src/distances/squaredChord.js","webpack:///./node_modules/ml-distance/src/similarities/tanimoto.js","webpack:///./node_modules/ml-distance/src/similarities/cosine.js","webpack:///./node_modules/ml-pad-array/src/index.js","webpack:///./src/index.js","webpack:///./node_modules/ml-cart/src/index.js","webpack:///./node_modules/ml-cart/src/DecisionTreeClassifier.js","webpack:///./node_modules/ml-matrix/src/symbol-species.js","webpack:///./node_modules/ml-array-rescale/src/index.js","webpack:///./node_modules/ml-array-max/src/index.js","webpack:///./node_modules/ml-array-min/src/index.js","webpack:///./node_modules/ml-matrix/src/views/transpose.js","webpack:///./node_modules/ml-matrix/src/views/row.js","webpack:///./node_modules/ml-matrix/src/views/sub.js","webpack:///./node_modules/ml-matrix/src/views/selection.js","webpack:///./node_modules/ml-matrix/src/views/rowSelection.js","webpack:///./node_modules/ml-matrix/src/views/columnSelection.js","webpack:///./node_modules/ml-matrix/src/views/column.js","webpack:///./node_modules/ml-matrix/src/views/flipRow.js","webpack:///./node_modules/ml-matrix/src/views/flipColumn.js","webpack:///./node_modules/ml-matrix/src/wrap/wrap.js","webpack:///./node_modules/ml-matrix/src/decompositions.js","webpack:///./node_modules/ml-matrix/src/dc/evd.js","webpack:///./node_modules/ml-matrix/src/dc/cholesky.js","webpack:///./node_modules/ml-cart/src/utils.js","webpack:///./node_modules/ml-cart/src/DecisionTreeRegression.js","webpack:///./node_modules/ml-pca/src/pca.js","webpack:///./node_modules/ml-hclust/src/index.js","webpack:///./node_modules/ml-hclust/src/agnes.js","webpack:///./node_modules/heap/index.js","webpack:///./node_modules/heap/lib/heap.js","webpack:///./node_modules/util/util.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/ml-hclust/src/diana.js","webpack:///./node_modules/ml-kmeans/src/kmeans.js","webpack:///./node_modules/ml-nearest-vector/src/index.js","webpack:///./node_modules/ml-kmeans/src/initialization.js","webpack:///./node_modules/RandomSelection/lib/Picker.js","webpack:///./node_modules/ml-kmeans/src/KMeansResult.js","webpack:///./node_modules/ml-svm/src/svm.js","webpack:///./node_modules/ml-kernel-gaussian/gaussian-kernel.js","webpack:///./node_modules/ml-kernel-polynomial/polynomial-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/anova-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/cauchy-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/exponential-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/histogram-intersection-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/laplacian-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/multiquadratic-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/rational-quadratic-kernel.js","webpack:///./node_modules/ml-kernel-sigmoid/sigmoid-kernel.js","webpack:///./node_modules/ml-naivebayes/src/index.js","webpack:///./node_modules/ml-naivebayes/src/GaussianNB.js","webpack:///./node_modules/ml-naivebayes/src/MultinomialNB.js","webpack:///./node_modules/ml-knn/src/index.js","webpack:///./node_modules/ml-knn/src/KDTree.js","webpack:///./node_modules/ml-pls/src/index.js","webpack:///./node_modules/ml-pls/src/pls.js","webpack:///./node_modules/ml-pls/src/kopls.js","webpack:///./node_modules/ml-cross-validation/src/index.js","webpack:///./node_modules/ml-combinations/src/index.js","webpack:///./node_modules/ml-fnn/src/FeedForwardNeuralNetwork.js","webpack:///./node_modules/ml-fnn/src/OutputLayer.js","webpack:///./node_modules/ml-som/src/index.js","webpack:///./node_modules/ml-som/src/node-hexagonal.js","webpack:///./node_modules/ml-regression-base/src/maybeToPrecision.js","webpack:///./node_modules/ml-regression-base/src/checkArrayLength.js","webpack:///./node_modules/ml-regression-exponential/src/index.js","webpack:///./node_modules/ml-regression-power/src/index.js","webpack:///./node_modules/ml-regression-multivariate-linear/src/index.js","webpack:///./node_modules/ml-regression/src/regression/kernel-ridge-regression.js","webpack:///./node_modules/ml-regression/src/regression/poly-fit-regression2d.js","webpack:///./node_modules/ml-regression-theil-sen/src/index.js","webpack:///./node_modules/ml-regression-robust-polynomial/src/index.js","webpack:///./node_modules/ml-regression/src/regression/potential-regression.js","webpack:///./node_modules/ml-levenberg-marquardt/lib/index.js","webpack:///./node_modules/ml-sparse-matrix/src/index.js","webpack:///./node_modules/new-array/index.js","webpack:///./node_modules/ml-hash-table/src/primeFinder.js","webpack:///./node_modules/number-is-nan/index.js","webpack:///./node_modules/ml-distance/src/distances.js","webpack:///./node_modules/ml-distance/src/distances/additiveSymmetric.js","webpack:///./node_modules/ml-distance/src/distances/avg.js","webpack:///./node_modules/ml-distance/src/distances/bhattacharyya.js","webpack:///./node_modules/ml-distance/src/distances/canberra.js","webpack:///./node_modules/ml-distance/src/distances/chebyshev.js","webpack:///./node_modules/ml-distance/src/distances/clark.js","webpack:///./node_modules/ml-distance/src/distances/czekanowski.js","webpack:///./node_modules/ml-distance/src/distances/divergence.js","webpack:///./node_modules/ml-distance/src/distances/fidelity.js","webpack:///./node_modules/ml-distance/src/distances/gower.js","webpack:///./node_modules/ml-distance/src/distances/harmonicMean.js","webpack:///./node_modules/ml-distance/src/distances/hellinger.js","webpack:///./node_modules/ml-distance/src/distances/innerProduct.js","webpack:///./node_modules/ml-distance/src/distances/jeffreys.js","webpack:///./node_modules/ml-distance/src/distances/jensenDifference.js","webpack:///./node_modules/ml-distance/src/distances/jensenShannon.js","webpack:///./node_modules/ml-distance/src/distances/kdivergence.js","webpack:///./node_modules/ml-distance/src/distances/kullbackLeibler.js","webpack:///./node_modules/ml-distance/src/distances/kumarHassebrook.js","webpack:///./node_modules/ml-distance/src/distances/kumarJohnson.js","webpack:///./node_modules/ml-distance/src/distances/lorentzian.js","webpack:///./node_modules/ml-distance/src/distances/manhattan.js","webpack:///./node_modules/ml-distance/src/distances/matusita.js","webpack:///./node_modules/ml-distance/src/distances/minkowski.js","webpack:///./node_modules/ml-distance/src/distances/neyman.js","webpack:///./node_modules/ml-distance/src/distances/pearson.js","webpack:///./node_modules/ml-distance/src/distances/probabilisticSymmetric.js","webpack:///./node_modules/ml-distance/src/distances/ruzicka.js","webpack:///./node_modules/ml-distance/src/distances/soergel.js","webpack:///./node_modules/ml-distance/src/distances/sorensen.js","webpack:///./node_modules/ml-distance/src/distances/squared.js","webpack:///./node_modules/ml-distance/src/distances/taneja.js","webpack:///./node_modules/ml-distance/src/distances/tanimoto.js","webpack:///./node_modules/ml-distance/src/distances/topsoe.js","webpack:///./node_modules/ml-tree-similarity/src/index.js","webpack:///./node_modules/ml-distance/src/distances/waveHedges.js","webpack:///./node_modules/ml-distance/src/similarities.js","webpack:///./node_modules/ml-distance/src/similarities/dice.js","webpack:///./node_modules/ml-distance/src/similarities/intersection.js","webpack:///./node_modules/ml-distance/src/similarities/jaccard.js","webpack:///./node_modules/ml-distance/src/similarities/kulczynski.js","webpack:///./node_modules/ml-distance/src/similarities/motyka.js","webpack:///./node_modules/ml-distance/src/similarities/pearson.js","webpack:///./node_modules/ml-distance/src/similarities/squaredChord.js","webpack:///./node_modules/ml-xsadd/xsadd-es5.js","webpack:///./node_modules/ml-performance/src/index.js","webpack:///./node_modules/ml-performance/src/measures.js","webpack:///./node_modules/ml-savitzky-golay/src/index.js","webpack:///./node_modules/ml-savitzky-golay-generalized/src/index.js","webpack:///./node_modules/ml-bit-array/src/index.js","webpack:///./node_modules/ml-bit-array/src/creator.js","webpack:///./node_modules/ml-array-utils/src/index.js","webpack:///./node_modules/ml-array-utils/src/ArrayUtils.js","webpack:///./node_modules/ml-array-utils/src/getEquallySpaced.js","webpack:///./node_modules/ml-array-utils/src/snv.js"],"names":["default","wrap","solve","inverse","squaredEuclidean","p","q","d","i","length","euclidean","Math","sqrt","module","exports","squared","BaseRegression","constructor","new","target","Error","predict","x","_predict","Array","isArray","y","TypeError","train","toString","toLaTeX","score","n","y2","xSum","ySum","chi2","rmsd","xSquared","ySquared","xY","r","r2","BaseView","matrix","rows","columns","Symbol","species","array","require","checkRowIndex","checkColumnIndex","checkRowVector","checkColumnVector","checkIndices","checkRowIndices","checkColumnIndices","checkRange","getRange","sumByRow","sumByColumn","sumAll","index","outer","max","RangeError","vector","to1DArray","rowIndices","columnIndices","row","column","rowOut","some","from","columnOut","c","startRow","endRow","startColumn","endColumn","arguments","notAllNumbers","slice","arg","to","arr","sum","zeros","j","set","get","v","Matrix","nRows","nColumns","isMatrix","clone","Number","isInteger","concat","rowIndex","columnIndex","value","removeRow","splice","addRow","undefined","removeColumn","addColumn","AbstractMatrix","superCtor","Object","from1DArray","newRows","newColumns","newData","newMatrix","rowVector","columnVector","empty","fill","ones","rand","rng","random","randInt","maxValue","floor","eye","min","diag","data","l","matrix1","matrix2","checkMatrix","result","klass","size","apply","callback","ii","jj","call","to2DArray","copy","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","repeat","rowRep","colRep","setSubMatrix","neg","mulS","getRow","getRowVector","setRow","swapRows","row1","row2","temp","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","maxIndex","idx","minIndex","maxRow","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","by","mean","prod","norm","type","cumulativeSum","dot","vector2","vector1","mmul","other","console","warn","m","Bcolj","k","s","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","r1","c1","c2","embed","mat","cols","resultat","blockMult","a","b","halfRows","parseInt","halfCols","subMatrix","add","sub","scaleRows","scaled","scaleColumns","kroneckerProduct","transpose","sortRows","compareFunction","compareNumbers","sort","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","trace","transposeView","rowView","columnView","flipRowView","flipColumnView","subMatrixView","selectionView","rowSelectionView","columnSelectionView","det","subMatrix0","subMatrix1","subMatrix2","determinant","pseudoInverse","threshold","EPSILON","svdSolution","autoTranspose","U","leftSingularVectors","V","rightSingularVectors","diagonal","abs","prototype","identity","negate","tensorProduct","inplaceOperator","inplaceOperatorScalar","inplaceOperatorMatrix","staticOperator","inplaceMethod","staticMethod","inplaceMethodWithArgs","staticMethodWithArgs","inplaceMethodWithOneArgScalar","inplaceMethodWithOneArgMatrix","inplaceMethodWithOneArg","staticMethodWithOneArg","operators","eval2","eval","operator","inplaceOp","fillTemplateFunction","name","op","inplaceOpS","inplaceOpM","staticOp","methods","forEach","mathMethod","push","method","inplaceMeth","staticMeth","methodsWithArgs","methodWithArg","args","inplaceMethWithArgs","staticMethWithArgs","tmplVar","inplaceMethod2","inplaceMethodS","inplaceMethodM","staticMethod2","template","values","replace","RegExp","arrayStat","Infinity","minMax","entropy","eps","l1","l2","log","dimension","theMean","N","theSum","product","theProduct","standardDeviation","means","unbiased","vari","variance","sum1","sum2","median","medians","mode","modes","itemCount","itemArray","count","indexOf","skewness","skew","s2","s3","dev","g","pow","kurtosis","kurt","s4","standardError","samples","standardDeviations","standardErrors","sqrtN","covariance","scatter","divisor","cov","correlation","scores","zScores","cor","standardize","center","inPlace","resultRow","sourceRow","isNaN","weightedVariance","weights","z","w","weightedMean","weightSum","weightedCovariance","s1","factor","weightedScatter","LuDecomposition","lu","pivotVector","pivotSign","t","LUcolj","kmax","LU","isSingular","col","X","lowerTriangularMatrix","upperTriangularMatrix","pivotPermutationVector","SingularValueDecomposition","options","nu","computeLeftSingularVectors","computeRightSingularVectors","wantu","Boolean","wantv","swapped","aux","e","work","nct","nrt","ks","f","cs","sn","kase","scale","sp","spm1","epm1","sk","ek","shift","pp","iter","tmp","Y","scols","Ls","VL","vrows","urows","VLU","solveForDiagonal","vcols","ucols","condition","norm2","rank","tol","diagonalMatrix","hypotenuse","getFilled2DArray","Heap","Cluster","children","distance","cut","root","list","ans","group","minGroups","heap","first","pop","child","toArray","traverse","cb","visit","GaussianKernel","PolynomialKernel","ANOVAKernel","CauchyKernel","ExponentialKernel","HistogramKernel","LaplacianKernel","MultiquadraticKernel","RationalKernel","SigmoidKernel","kernelType","gaussian","rbf","polynomial","poly","anova","cauchy","exponential","histogram","laplacian","multiquadratic","rational","sigmoid","mlp","Kernel","toLowerCase","KernelConstructor","kernelFunction","compute","inputs","landmarks","kernelMatrix","SimpleLinearRegression","slope","intercept","coefficients","regress","toJSON","computeX","precision","xFactor","absIntercept","load","json","slr","numerator","hasOwn","hasOwnProperty","toStr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","extend","src","copyIsArray","deep","WrapperMatrix1D","_calculateIndex","WrapperMatrix2D","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","orthogonalMatrix","Utils","gainFunctions","gini","giniGain","regression","regressionError","splitFunctions","TreeNode","kind","gainFunction","splitFunction","minNumSamples","maxDepth","bestSplit","XTranspose","bestGain","check","currentFeature","splitValues","featureSplit","currentSplitVal","splitted","split","gain","maxGain","splitValue","lesser","greater","zip","calculatePrediction","distribution","toDiscreteDistribution","getNumberOfClasses","currentDepth","parentGain","splitColumn","splittedMatrix","matrixSplitter","lesserX","greaterX","left","right","lesserY","greaterY","classify","setNodeParameters","node","input","arithmeticMean","geometricMean","mul","logMean","lnsum","grandMean","truncatedMean","percent","alreadySorted","harmonicMean","contraHarmonicMean","half","theVariance","robustMeanAndStdev","stdev","averageDeviations","quartiles","quart","q1","ceil","q2","q3","pooledStandardDeviation","pooledVariance","mean1","mean2","weightedStandardDeviation","standardDev","util","ClusterLeaf","inherits","distanceMatrix","distanceFn","map","nearestVector","calculateDistanceMatrix","dist","updateClusterID","centers","clusterID","distanceFunction","updateCenters","K","nDim","centersLen","dim","id","converged","oldCenters","tolerance","separateClasses","features","classes","totalPerClasses","separatedClasses","currentIndex","pow2array","featureNormalize","initializeMatrices","dataset","std","elem","ConfusionMatrix","labels","fromLabels","actual","predicted","distinctLabels","Set","actualIdx","predictedIdx","getMatrix","getLabels","getTotalCount","getTrueCount","getFalseCount","getTruePositiveCount","label","getIndex","getTrueNegativeCount","getFalsePositiveCount","getFalseNegativeCount","getPositiveCount","getNegativeCount","getTruePositiveRate","getTrueNegativeRate","getPositivePredictiveValue","TP","getNegativePredictiveValue","TN","getFalseNegativeRate","getFalsePositiveRate","getFalseDiscoveryRate","FP","getFalseOmissionRate","FN","getF1Score","getMatthewsCorrelationCoefficient","getInformedness","getMarkedness","getConfusionTable","getAccuracy","correct","incorrect","getCount","actualIndex","predictedIndex","accuracy","total","ACTIVATION_FUNCTIONS","Layer","inputSize","outputSize","regularization","epsilon","activation","activationParam","selectedFunction","params","actFunction","val","derFunction","derivate","activationFunction","model","W","forward","backpropagation","delta","dW","db","sumCol","aCopy","update","sumRow","dictOutputs","outputs","logistic","exp","expELU","param","softExponential","softExponentialPrime","tanh","arctan","atan","softsign","relu","softplus","bent","sinusoid","sin","cos","sinc","NodeSquare","som","neighbors","adjustWeights","learningRate","influence","getDistance","otherNode","getDistanceTorus","distX","distY","gridDim","getNeighbors","xy","torus","nodes","getPos","element","bestNeighbor","direction","dist1","dist2","simA","simB","getPosition","NLR","PotentialRegression","NonLinearRegression","PolynomialRegression","degree","powers","_toFormula","isLaTeX","sup","closeSup","times","fn","str","charAt","pr","F","FT","A","B","newArray","primeFinder","nextPrime","largestPrime","FREE","FULL","REMOVED","defaultInitialCapacity","defaultMinLoadFactor","defaultMaxLoadFactor","HashTable","table","state","minLoadFactor","maxLoadFactor","distinct","freeEntries","lowWaterMark","highWaterMark","initialCapacity","capacity","chooseHighWaterMark","indexOfKey","indexOfInsertion","newCapacity","chooseGrowCapacity","rehash","remove","noRehash","maybeShrinkCapacity","delete","chooseShrinkCapacity","containsKey","hash","decrement","containsValue","indexOfValue","ensureCapacity","minCapacity","oldCapacity","oldTable","oldValues","oldState","newTable","newValues","newState","chooseLowWaterMark","forEachKey","forEachValue","forEachPair","minLoad","maxLoad","haystack","needle","comparator","low","high","mid","cmp","numberIsNan","assertNum","asc","desc","similarity","czekanowskiSimilarity","up","down","dice","intersection","jaccard","p1","p2","kulczynski","motyka","squaredChord","tanimoto","bitvector","inter","union","cosine","defaultOptions","arrayCase","len","cond","output","matrixCase","padArray","mlCart","ML","PCA","HClust","KMeans","SVM","NaiveBayes","KNN","PLS","CrossValidation","DecisionTreeClassifier","FNN","SOM","Regression","MultivariateLinearRegression","PowerRegression","ExponentialRegression","TheilSenRegression","RobustPolynomialRegression","DesisionTreeRegression","levenbergMarquardt","SVD","EVD","CholeskyDecomposition","SparseMatrix","Distance","Similarity","XSadd","Performance","savitzkyGolay","savitzkyGolayGeneralized","BitArray","binarySearch","numSort","ArrayUtils","MatrixUtil","ArrayStat","MatrixStat","DecisionTreeRegression","assign","trainingSet","trainingLabels","toPredict","predictions","for","rescale","currentMin","currentMax","minValue","autoMinMax","MatrixTransposeView","MatrixRowView","MatrixSubView","MatrixSelectionView","MatrixRowSelectionView","MatrixColumnSelectionView","MatrixColumnView","MatrixFlipRowView","MatrixFlipColumnView","useSVD","leftHandSide","rightHandSide","EigenvalueDecomposition","assumeSymmetric","tred2","tql2","H","ort","orthes","hqr2","realEigenvalues","imaginaryEigenvalues","eigenvectorMatrix","h","hh","dl1","c3","el1","tst1","nn","exshift","ra","sa","vr","vi","notlast","cdivres","cdiv","xr","xi","yr","yi","positiveDefinite","Lrowj","Lrowk","L","giniImpurity","squaredError","numberOfClasses","counts","probabilities","filter","splitsImpurity","splits","currentSplit","currentElement","error","ret","trainingValues","matrixLib","Stat","isCovarianceMatrix","stdevs","S","_computeFromCovarianceMatrix","useCovarianceMatrix","_adjust","covarianceMatrix","div","svd","singularValues","eigenvalues","nComponents","getExplainedVariance","getCumulativeVariance","explained","getEigenvectors","getEigenvalues","getStandardDeviations","getLoadings","evd","reverse","agnes","diana","simpleLink","cluster1","cluster2","disFun","completeLink","averageLink","centroidLink","wardLink","disFunc","isDistanceMatrix","dis","fdistance","sdistance","toFixed","dmin","clustered","int","diff","indCount","defaultCmp","heapify","heappop","heappush","heappushpop","heapreplace","insort","nlargest","nsmallest","updateItem","_siftdown","_siftup","lo","hi","item","lastelt","returnitem","_ref","_i","_j","_len","_ref1","_results","_results1","pos","los","startpos","newitem","parent","parentpos","childpos","endpos","rightpos","pushpop","peek","contains","clear","insert","top","front","has","factory","formatRegExp","format","isString","objects","inspect","join","String","JSON","stringify","_","isNull","isObject","deprecate","msg","isUndefined","global","process","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","debugs","debugEnviron","debuglog","env","NODE_DEBUG","toUpperCase","test","pid","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","recurseTimes","isFunction","primitive","formatPrimitive","keys","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","Date","base","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","isNumber","match","getOwnPropertyDescriptor","line","substr","numLinesEst","reduce","prev","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","isPrimitive","isBuffer","o","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","prop","Function","window","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","readUInt8","create","ctor","super_","enumerable","writable","configurable","TempCtor","x1","y1","x2","splitting","Ci","Cj","ndist","intrDist","tree","ind","M","clId","rebel","C","sG","spl","fData","sData","utils","init","KMeansResult","squaredDistance","maxIterations","withIterations","initialization","step","iterations","newCenters","kmeansGenerator","stepNumber","stepResult","computeInformation","centroids","kmeans","mostDistant","MAX_VALUE","similarityFunction","returnVector","listVectors","vectorIndex","maxSim","MIN_VALUE","sim","minDist","Picker","pick","maxDist","minDistCent","ns","RandomSelection","newArr","_remainingOptions","_originalOptions","arrayOfOptions","distanceSymbol","clusters","nearest","centroid","enrichedCentroids","stat","maxPasses","kernel","alphaTol","whitening","kernelOptions","_trained","_loaded","D","alpha","alphas","b1","b2","passes","Ei","Ej","ai","aj","eta","numChange","_marginOnePrecomputed","newaj","nX","nY","nAlphas","_supportVectorIdx","predictOne","margin","marginOne","bind","noWhitening","_applyWhitening","supportVectors","svm","whitened","sigma","constant","HistogramIntersectionKernel","RationalQuadraticKernel","E","GaussianNB","MultinomialNB","reload","calculateProbabilities","C1","PI","logPriorProbability","currentStd","getCurrentClass","modelName","currentCase","maxProbability","predictedClass","currentProbability","calculateLogProbability","C2","conditionalProbability","priorProbability","separateClass","classValues","matrixLog","kdTree","isEuclidean","points","getSinglePrediction","knn","nearestPoints","pointsPerClass","maxPoints","lastElement","currentClass","currentPoints","Node","KDTree","metric","dimensions","restoreParent","buildTree","toJSONImpl","point","maxNodes","maxDistance","bestNodes","BinaryHeap","nearestSearch","ownDistance","linearPoint","bestChild","linearDistance","otherChild","saveNode","content","dest","scoreFunction","bubbleUp","end","sinkDown","parentN","elemScore","child2N","child1N","swap","child1","child1Score","child2","child2Score","KOPLS","meanX","stdDevX","meanY","stdDevY","PBQ","R2X","scaleMethod","latentVectors","rx","cx","ry","cy","ssqXcal","sumOfSquaresY","T","P","Q","transposeX","transposeY","tIndex","maxSumColIndex","mulM","uIndex","t1","u","num","den","pnorm","ssqYcal","YLoadingMat","SigmaPow","YScoreMat","predScoreMat","YOrthLoadingVec","YOrthEigen","YOrthScoreMat","toNorm","TURegressionCoeff","kernelX","orthogonalComp","predictiveComp","predictiveComponents","orthogonalComponents","Identity","Sigma","YOrthScoreNorm","TpiPrime","CoTemp","SoTemp","toiPrime","ITo","lastScoreMat","lastTpPrime","KTestTrain","YOrthScoreVector","scoreMatPrime","p3","prediction","predYOrthVectors","CV","combinations","leaveOneOut","Classifier","classifierOptions","leavePOut","getDistinct","confusionMatrix","initMatrix","gen","allIdx","testIdx","trainIdx","validateWithCallback","validate","kFold","current","folds","randi","getTrainTest","testFeatures","trainFeatures","testLabels","trainLabels","classifier","predictedLabels","updateConfusionMatrix","twiddle","OutputLayer","FeedForwardNeuralNetworks","hiddenLayers","dicts","layers","buildNetwork","propagate","NodeHexagonal","fields","randomizer","squareEuclidean","gridType","numWeights","converters","getConverters","extractor","creator","nodeType","hx","distanceMethod","getMaxDistance","done","findBMU","adjust","iterationCount","startLearningRate","mapRadius","algorithmMethod","_initNodes","loadModel","export","exportModel","includeDistance","initNodes","now","setTraining","convertedSet","numIterations","timeConstant","trainOne","neighbourhoodRadius","trainingValue","trainingSetFactor","getRandomValue","bmu","_findBestMatchingUnit","now2","radiusLimit","xMin","xMax","yMin","yMax","theX","theY","getConvertedNodes","findBestMatchingUnit","candidate","lowest","computePosition","self","getQuantizationError","fit","getFit","normalizers","denormalizers","getNormalizer","range","getDenormalizer","normalizer","denormalizer","zero","one","hX","getDistanceHexagonal","distZ","maybeToPrecision","digits","toPrecision","checkArraySize","er","yl","linear","newInputs","xl","beta","fittedValues","residuals","addM","ri","stdError","stdErrorMatrix","stdErrors","tStats","summary","regressionStatistics","observations","variables","tStat","lambda","computeCoefficient","KernelRidgeRegression","order","PolynomialFitRegression2D","examples","scaleX1","scaleX2","scaleY","limit","powColVector","qqs","qqs1","power","theilSen","slopes","medianSlope","cuts","robustPolynomial","tuples","getRandomTuples","tuple","calcCoefficients","residual","residualsMedian","counter","mlMatrix","errorCalculation","parameters","parameterizedFunction","func","gradientFunction","evaluatedData","gradientDifference","paramFunction","auxParams","funcParam","matrixFunction","damping","gradientFunc","matrixFunc","inverseMatrix","errorTolerance","initialValues","dataLen","iteration","parameterValues","parameterError","_init","elements","symmetric","forEachNonZero","bandWidth","isBanded","width","cardinality","v1","v2","getNonZeros","setThreshold","newThreshold","trans","sortAsc","primeNumbers","additiveSymmetric","avg","bhattacharyya","canberra","chebyshev","clark","czekanowski","divergence","fidelity","gower","hellinger","innerProduct","jeffreys","jensenDifference","jensenShannon","kdivergence","kullbackLeibler","kumarHassebrook","kumarJohnson","lorentzian","manhattan","matusita","minkowski","neyman","pearson","probabilisticSymmetric","ruzicka","soergel","sorensen","taneja","topsoe","waveHedges","czekanowskiDistance","tanimotoS","createTree","minWindow","gamma","Atree","Btree","calc","diceD","intersectionD","jaccardD","kulczynskiD","motykaD","avgA","avgB","newA","newB","squaredChordD","defineProperty","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","LOOP","FLOAT_MUL","multiply_uint32","nlo","nhi","seed","Uint32Array","period_certification","next_state","getUint32","getFloat","_random","xsadd","sh1","sh2","sh3","measures","isDistance","predP","all","pred","targ","cutoffs","fp","tp","nPos","nNeg","currentPred","nTp","nFp","tn","nPosPred","nNegPred","nSamples","getMeasure","measure","getAURC","auc","getAUDC","getDistribution","cutLength","cutLow","cutHigh","interval","xLabels","interValues","intraValues","interCumPercent","intraCumPercent","nTP","currentTP","nFP","currentFP","thisTP","thisFP","names","acc","err","fpr","tpr","fnr","tnr","ppv","npv","pcfall","pcmiss","lift","rpp","rnp","windowSize","derivative","padValue","SavitzkyGolay","J","inic","Jtranspose","Jinv","np","fullWeights","hs","constantH","wg1","wg2","d1","d2","getHs","wg","GramPoly","Grampoly","GenFact","gf","Weight","eightBits","and","arr1","arr2","or","xor","not","getBit","mask","setBit","toBinaryString","parseBinaryString","toHexString","parseHexString","toDebug","binary","getEquallySpacedData","SNV","coordArrayToPoints","pointsArr","coordArrayToCoordMatrix","coordinatesArray","currentPoint","coordMatrixToCoordArray","coordMatrix","coodinatesArray","resultMatrix","pointsToCoordArray","applyDotProduct","firstVector","secondVector","largestVector","smallestVector","difference","dotProductApplied","coordMatrixToPoints","pointsToCoordMatrix","xLength","variant","numberOfPoints","getEquallySpacedSlot","getEquallySpacedSmooth","halfStep","initialOriginalStep","lastOriginalStep","previousX","previousY","nextX","nextY","currentValue","sumAtMin","sumAtMax","getSlope","x0","y0","main","integral","lastStep","start","frontOutsideSpectra","backOutsideSpectra"],"mappings":"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","file":"ml.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ML\"] = factory();\n\telse\n\t\troot[\"ML\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2f453b4ccc2f036372f3","export {default as default, default as Matrix} from './matrix';\nexport {default as abstractMatrix} from './abstractMatrix';\n\nexport {wrap} from './wrap/wrap';\nexport {default as WrapperMatrix2D} from './wrap/WrapperMatrix2D';\nexport {default as WrapperMatrix1D} from './wrap/WrapperMatrix1D';\n\nexport {solve, inverse} from './decompositions';\nexport {default as SingularValueDecomposition, default as SVD} from './dc/svd.js';\nexport {default as EigenvalueDecomposition, default as EVD} from './dc/evd.js';\nexport {default as CholeskyDecomposition, default as CHO} from './dc/cholesky.js';\nexport {default as LuDecomposition, default as LU} from './dc/lu.js';\nexport {default as QrDecomposition, default as QR} from './dc/qr.js';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/index.js","'use strict';\n\nfunction squaredEuclidean(p, q) {\n    var d = 0;\n    for (var i = 0; i < p.length; i++) {\n        d += (p[i] - q[i]) * (p[i] - q[i]);\n    }\n    return d;\n}\n\nfunction euclidean(p, q) {\n    return Math.sqrt(squaredEuclidean(p, q));\n}\n\nmodule.exports = euclidean;\neuclidean.squared = squaredEuclidean;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance-euclidean/euclidean.js","export {default as maybeToPrecision} from './maybeToPrecision';\nexport {default as checkArrayLength} from './checkArrayLength';\n\nexport default class BaseRegression {\n    constructor() {\n        if (new.target === BaseRegression) {\n            throw new Error('BaseRegression must be subclassed');\n        }\n    }\n\n    predict(x) {\n        if (typeof x === 'number') {\n            return this._predict(x);\n        } else if (Array.isArray(x)) {\n            const y = new Array(x.length);\n            for (let i = 0; i < x.length; i++) {\n                y[i] = this._predict(x[i]);\n            }\n            return y;\n        } else {\n            throw new TypeError('x must be a number or array');\n        }\n    }\n\n    _predict() {\n        throw new Error('_predict must be implemented');\n    }\n\n    train() {\n        //Do nothing for this package\n    }\n\n    toString() {\n        return '';\n    }\n\n    toLaTeX() {\n        return '';\n    }\n\n    /**\n     * Return the correlation coefficient of determination (r) and chi-square.\n     * @param {Array<number>} x\n     * @param {Array<number>} y\n     * @return {object}\n     */\n    score(x, y) {\n        if (!Array.isArray(x) || !Array.isArray(y) || x.length !== y.length) {\n            throw new Error('x and y must be arrays of the same length');\n        }\n\n        const n = x.length;\n        const y2 = new Array(n);\n        for (let i = 0; i < n; i++) {\n            y2[i] = this._predict(x[i]);\n        }\n\n        let xSum = 0;\n        let ySum = 0;\n        let chi2 = 0;\n        let rmsd = 0;\n        let xSquared = 0;\n        let ySquared = 0;\n        let xY = 0;\n        for (let i = 0; i < n; i++) {\n            xSum += y2[i];\n            ySum += y[i];\n            xSquared += y2[i] * y2[i];\n            ySquared += y[i] * y[i];\n            xY += y2[i] * y[i];\n            if (y[i] !== 0) {\n                chi2 += (y[i] - y2[i]) * (y[i] - y2[i]) / y[i];\n            }\n            rmsd = (y[i] - y2[i]) * (y[i] - y2[i]);\n        }\n\n        const r = (n * xY - xSum * ySum) / Math.sqrt((n * xSquared - xSum * xSum) * (n * ySquared - ySum * ySum));\n\n        return {\n            r: r,\n            r2: r * r,\n            chi2: chi2,\n            rmsd: rmsd * rmsd / n\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-base/src/index.js","import AbstractMatrix from '../abstractMatrix';\nimport Matrix from '../matrix';\n\nexport default class BaseView extends AbstractMatrix() {\n    constructor(matrix, rows, columns) {\n        super();\n        this.matrix = matrix;\n        this.rows = rows;\n        this.columns = columns;\n    }\n\n    static get [Symbol.species]() {\n        return Matrix;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/base.js","'use strict';\n\nexports.array = require('./array');\nexports.matrix = require('./matrix');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-stat/index.js","import Matrix from './matrix';\n\n/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkRowIndex(matrix, index, outer) {\n    var max = outer ? matrix.rows : matrix.rows - 1;\n    if (index < 0 || index > max) {\n        throw new RangeError('Row index out of range');\n    }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkColumnIndex(matrix, index, outer) {\n    var max = outer ? matrix.columns : matrix.columns - 1;\n    if (index < 0 || index > max) {\n        throw new RangeError('Column index out of range');\n    }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkRowVector(matrix, vector) {\n    if (vector.to1DArray) {\n        vector = vector.to1DArray();\n    }\n    if (vector.length !== matrix.columns) {\n        throw new RangeError('vector size must be the same as the number of columns');\n    }\n    return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkColumnVector(matrix, vector) {\n    if (vector.to1DArray) {\n        vector = vector.to1DArray();\n    }\n    if (vector.length !== matrix.rows) {\n        throw new RangeError('vector size must be the same as the number of rows');\n    }\n    return vector;\n}\n\nexport function checkIndices(matrix, rowIndices, columnIndices) {\n    return {\n        row: checkRowIndices(matrix, rowIndices),\n        column: checkColumnIndices(matrix, columnIndices)\n    };\n}\n\nexport function checkRowIndices(matrix, rowIndices) {\n    if (typeof rowIndices !== 'object') {\n        throw new TypeError('unexpected type for row indices');\n    }\n\n    var rowOut = rowIndices.some(r => {\n        return r < 0 || r >= matrix.rows;\n\n    });\n\n    if (rowOut) {\n        throw new RangeError('row indices are out of range');\n    }\n\n    if (!Array.isArray(rowIndices)) rowIndices = Array.from(rowIndices);\n\n    return rowIndices;\n}\n\nexport function checkColumnIndices(matrix, columnIndices) {\n    if (typeof columnIndices !== 'object') {\n        throw new TypeError('unexpected type for column indices');\n    }\n\n    var columnOut = columnIndices.some(c => {\n        return c < 0 || c >= matrix.columns;\n    });\n\n    if (columnOut) {\n        throw new RangeError('column indices are out of range');\n    }\n    if (!Array.isArray(columnIndices)) columnIndices = Array.from(columnIndices);\n\n    return columnIndices;\n}\n\nexport function checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n    if (arguments.length !== 5) throw new TypeError('Invalid argument type');\n    var notAllNumbers = Array.from(arguments).slice(1).some(function (arg) {\n        return typeof arg !== 'number';\n    });\n    if (notAllNumbers) throw new TypeError('Invalid argument type');\n    if (startRow > endRow || startColumn > endColumn || startRow < 0 || startRow >= matrix.rows || endRow < 0 || endRow >= matrix.rows || startColumn < 0 || startColumn >= matrix.columns || endColumn < 0 || endColumn >= matrix.columns) {\n        throw new RangeError('Submatrix indices are out of range');\n    }\n}\n\nexport function getRange(from, to) {\n    var arr = new Array(to - from + 1);\n    for (var i = 0; i < arr.length; i++) {\n        arr[i] = from + i;\n    }\n    return arr;\n}\n\nexport function sumByRow(matrix) {\n    var sum = Matrix.zeros(matrix.rows, 1);\n    for (var i = 0; i < matrix.rows; ++i) {\n        for (var j = 0; j < matrix.columns; ++j) {\n            sum.set(i, 0, sum.get(i, 0) + matrix.get(i, j));\n        }\n    }\n    return sum;\n}\n\nexport function sumByColumn(matrix) {\n    var sum = Matrix.zeros(1, matrix.columns);\n    for (var i = 0; i < matrix.rows; ++i) {\n        for (var j = 0; j < matrix.columns; ++j) {\n            sum.set(0, j, sum.get(0, j) + matrix.get(i, j));\n        }\n    }\n    return sum;\n}\n\nexport function sumAll(matrix) {\n    var v = 0;\n    for (var i = 0; i < matrix.rows; i++) {\n        for (var j = 0; j < matrix.columns; j++) {\n            v += matrix.get(i, j);\n        }\n    }\n    return v;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/util.js","import './symbol-species';\nimport AbstractMatrix from './abstractMatrix';\nimport {\n    checkColumnIndex,\n    checkColumnVector,\n    checkRowIndex,\n    checkRowVector\n} from './util';\n\nexport default class Matrix extends AbstractMatrix(Array) {\n    constructor(nRows, nColumns) {\n        var i;\n        if (arguments.length === 1 && typeof nRows === 'number') {\n            return new Array(nRows);\n        }\n        if (Matrix.isMatrix(nRows)) {\n            return nRows.clone();\n        } else if (Number.isInteger(nRows) && nRows > 0) { // Create an empty matrix\n            super(nRows);\n            if (Number.isInteger(nColumns) && nColumns > 0) {\n                for (i = 0; i < nRows; i++) {\n                    this[i] = new Array(nColumns);\n                }\n            } else {\n                throw new TypeError('nColumns must be a positive integer');\n            }\n        } else if (Array.isArray(nRows)) { // Copy the values from the 2D array\n            const matrix = nRows;\n            nRows = matrix.length;\n            nColumns = matrix[0].length;\n            if (typeof nColumns !== 'number' || nColumns === 0) {\n                throw new TypeError('Data must be a 2D array with at least one element');\n            }\n            super(nRows);\n            for (i = 0; i < nRows; i++) {\n                if (matrix[i].length !== nColumns) {\n                    throw new RangeError('Inconsistent array dimensions');\n                }\n                this[i] = [].concat(matrix[i]);\n            }\n        } else {\n            throw new TypeError('First argument must be a positive number or an array');\n        }\n        this.rows = nRows;\n        this.columns = nColumns;\n        return this;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this[rowIndex][columnIndex] = value;\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this[rowIndex][columnIndex];\n    }\n\n    /**\n     * Removes a row from the given index\n     * @param {number} index - Row index\n     * @return {Matrix} this\n     */\n    removeRow(index) {\n        checkRowIndex(this, index);\n        if (this.rows === 1) {\n            throw new RangeError('A matrix cannot have less than one row');\n        }\n        this.splice(index, 1);\n        this.rows -= 1;\n        return this;\n    }\n\n    /**\n     * Adds a row at the given index\n     * @param {number} [index = this.rows] - Row index\n     * @param {Array|Matrix} array - Array or vector\n     * @return {Matrix} this\n     */\n    addRow(index, array) {\n        if (array === undefined) {\n            array = index;\n            index = this.rows;\n        }\n        checkRowIndex(this, index, true);\n        array = checkRowVector(this, array, true);\n        this.splice(index, 0, array);\n        this.rows += 1;\n        return this;\n    }\n\n    /**\n     * Removes a column from the given index\n     * @param {number} index - Column index\n     * @return {Matrix} this\n     */\n    removeColumn(index) {\n        checkColumnIndex(this, index);\n        if (this.columns === 1) {\n            throw new RangeError('A matrix cannot have less than one column');\n        }\n        for (var i = 0; i < this.rows; i++) {\n            this[i].splice(index, 1);\n        }\n        this.columns -= 1;\n        return this;\n    }\n\n    /**\n     * Adds a column at the given index\n     * @param {number} [index = this.columns] - Column index\n     * @param {Array|Matrix} array - Array or vector\n     * @return {Matrix} this\n     */\n    addColumn(index, array) {\n        if (typeof array === 'undefined') {\n            array = index;\n            index = this.columns;\n        }\n        checkColumnIndex(this, index, true);\n        array = checkColumnVector(this, array);\n        for (var i = 0; i < this.rows; i++) {\n            this[i].splice(index, 0, array[i]);\n        }\n        this.columns += 1;\n        return this;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/matrix.js","import LuDecomposition from './dc/lu';\nimport SvDecomposition from './dc/svd';\nimport rescale from 'ml-array-rescale';\nimport {\n    checkRowVector, checkRowIndex, checkColumnIndex, checkColumnVector,\n    checkRange, checkIndices,\n    sumByRow, sumByColumn, sumAll\n} from './util';\nimport MatrixTransposeView from './views/transpose';\nimport MatrixRowView from './views/row';\nimport MatrixSubView from './views/sub';\nimport MatrixSelectionView from './views/selection';\nimport MatrixRowSelectionView from './views/rowSelection';\nimport MatrixColumnSelectionView from './views/columnSelection';\nimport MatrixColumnView from './views/column';\nimport MatrixFlipRowView from './views/flipRow';\nimport MatrixFlipColumnView from './views/flipColumn';\n\nexport default function AbstractMatrix(superCtor) {\n    if (superCtor === undefined) superCtor = Object;\n\n    /**\n     * Real matrix\n     * @class Matrix\n     * @param {number|Array|Matrix} nRows - Number of rows of the new matrix,\n     * 2D array containing the data or Matrix instance to clone\n     * @param {number} [nColumns] - Number of columns of the new matrix\n     */\n    class Matrix extends superCtor {\n        static get [Symbol.species]() {\n            return this;\n        }\n\n        /**\n         * Constructs a Matrix with the chosen dimensions from a 1D array\n         * @param {number} newRows - Number of rows\n         * @param {number} newColumns - Number of columns\n         * @param {Array} newData - A 1D array containing data for the matrix\n         * @return {Matrix} - The new matrix\n         */\n        static from1DArray(newRows, newColumns, newData) {\n            var length = newRows * newColumns;\n            if (length !== newData.length) {\n                throw new RangeError('Data length does not match given dimensions');\n            }\n            var newMatrix = new this(newRows, newColumns);\n            for (var row = 0; row < newRows; row++) {\n                for (var column = 0; column < newColumns; column++) {\n                    newMatrix.set(row, column, newData[row * newColumns + column]);\n                }\n            }\n            return newMatrix;\n        }\n\n        /**\n         * Creates a row vector, a matrix with only one row.\n         * @param {Array} newData - A 1D array containing data for the vector\n         * @return {Matrix} - The new matrix\n         */\n        static rowVector(newData) {\n            var vector = new this(1, newData.length);\n            for (var i = 0; i < newData.length; i++) {\n                vector.set(0, i, newData[i]);\n            }\n            return vector;\n        }\n\n        /**\n         * Creates a column vector, a matrix with only one column.\n         * @param {Array} newData - A 1D array containing data for the vector\n         * @return {Matrix} - The new matrix\n         */\n        static columnVector(newData) {\n            var vector = new this(newData.length, 1);\n            for (var i = 0; i < newData.length; i++) {\n                vector.set(i, 0, newData[i]);\n            }\n            return vector;\n        }\n\n        /**\n         * Creates an empty matrix with the given dimensions. Values will be undefined. Same as using new Matrix(rows, columns).\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @return {Matrix} - The new matrix\n         */\n        static empty(rows, columns) {\n            return new this(rows, columns);\n        }\n\n        /**\n         * Creates a matrix with the given dimensions. Values will be set to zero.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @return {Matrix} - The new matrix\n         */\n        static zeros(rows, columns) {\n            return this.empty(rows, columns).fill(0);\n        }\n\n        /**\n         * Creates a matrix with the given dimensions. Values will be set to one.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @return {Matrix} - The new matrix\n         */\n        static ones(rows, columns) {\n            return this.empty(rows, columns).fill(1);\n        }\n\n        /**\n         * Creates a matrix with the given dimensions. Values will be randomly set.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @param {function} [rng=Math.random] - Random number generator\n         * @return {Matrix} The new matrix\n         */\n        static rand(rows, columns, rng) {\n            if (rng === undefined) rng = Math.random;\n            var matrix = this.empty(rows, columns);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    matrix.set(i, j, rng());\n                }\n            }\n            return matrix;\n        }\n\n        /**\n         * Creates a matrix with the given dimensions. Values will be random integers.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @param {number} [maxValue=1000] - Maximum value\n         * @param {function} [rng=Math.random] - Random number generator\n         * @return {Matrix} The new matrix\n         */\n        static randInt(rows, columns, maxValue, rng) {\n            if (maxValue === undefined) maxValue = 1000;\n            if (rng === undefined) rng = Math.random;\n            var matrix = this.empty(rows, columns);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    var value = Math.floor(rng() * maxValue);\n                    matrix.set(i, j, value);\n                }\n            }\n            return matrix;\n        }\n\n        /**\n         * Creates an identity matrix with the given dimension. Values of the diagonal will be 1 and others will be 0.\n         * @param {number} rows - Number of rows\n         * @param {number} [columns=rows] - Number of columns\n         * @param {number} [value=1] - Value to fill the diagonal with\n         * @return {Matrix} - The new identity matrix\n         */\n        static eye(rows, columns, value) {\n            if (columns === undefined) columns = rows;\n            if (value === undefined) value = 1;\n            var min = Math.min(rows, columns);\n            var matrix = this.zeros(rows, columns);\n            for (var i = 0; i < min; i++) {\n                matrix.set(i, i, value);\n            }\n            return matrix;\n        }\n\n        /**\n         * Creates a diagonal matrix based on the given array.\n         * @param {Array} data - Array containing the data for the diagonal\n         * @param {number} [rows] - Number of rows (Default: data.length)\n         * @param {number} [columns] - Number of columns (Default: rows)\n         * @return {Matrix} - The new diagonal matrix\n         */\n        static diag(data, rows, columns) {\n            var l = data.length;\n            if (rows === undefined) rows = l;\n            if (columns === undefined) columns = rows;\n            var min = Math.min(l, rows, columns);\n            var matrix = this.zeros(rows, columns);\n            for (var i = 0; i < min; i++) {\n                matrix.set(i, i, data[i]);\n            }\n            return matrix;\n        }\n\n        /**\n         * Returns a matrix whose elements are the minimum between matrix1 and matrix2\n         * @param {Matrix} matrix1\n         * @param {Matrix} matrix2\n         * @return {Matrix}\n         */\n        static min(matrix1, matrix2) {\n            matrix1 = this.checkMatrix(matrix1);\n            matrix2 = this.checkMatrix(matrix2);\n            var rows = matrix1.rows;\n            var columns = matrix1.columns;\n            var result = new this(rows, columns);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n                }\n            }\n            return result;\n        }\n\n        /**\n         * Returns a matrix whose elements are the maximum between matrix1 and matrix2\n         * @param {Matrix} matrix1\n         * @param {Matrix} matrix2\n         * @return {Matrix}\n         */\n        static max(matrix1, matrix2) {\n            matrix1 = this.checkMatrix(matrix1);\n            matrix2 = this.checkMatrix(matrix2);\n            var rows = matrix1.rows;\n            var columns = matrix1.columns;\n            var result = new this(rows, columns);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n                }\n            }\n            return result;\n        }\n\n        /**\n         * Check that the provided value is a Matrix and tries to instantiate one if not\n         * @param {*} value - The value to check\n         * @return {Matrix}\n         */\n        static checkMatrix(value) {\n            return Matrix.isMatrix(value) ? value : new this(value);\n        }\n\n        /**\n         * Returns true if the argument is a Matrix, false otherwise\n         * @param {*} value - The value to check\n         * @return {boolean}\n         */\n        static isMatrix(value) {\n            return (value != null) && (value.klass === 'Matrix');\n        }\n\n        /**\n         * @prop {number} size - The number of elements in the matrix.\n         */\n        get size() {\n            return this.rows * this.columns;\n        }\n\n        /**\n         * Applies a callback for each element of the matrix. The function is called in the matrix (this) context.\n         * @param {function} callback - Function that will be called with two parameters : i (row) and j (column)\n         * @return {Matrix} this\n         */\n        apply(callback) {\n            if (typeof callback !== 'function') {\n                throw new TypeError('callback must be a function');\n            }\n            var ii = this.rows;\n            var jj = this.columns;\n            for (var i = 0; i < ii; i++) {\n                for (var j = 0; j < jj; j++) {\n                    callback.call(this, i, j);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Returns a new 1D array filled row by row with the matrix values\n         * @return {Array}\n         */\n        to1DArray() {\n            var array = new Array(this.size);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    array[i * this.columns + j] = this.get(i, j);\n                }\n            }\n            return array;\n        }\n\n        /**\n         * Returns a 2D array containing a copy of the data\n         * @return {Array}\n         */\n        to2DArray() {\n            var copy = new Array(this.rows);\n            for (var i = 0; i < this.rows; i++) {\n                copy[i] = new Array(this.columns);\n                for (var j = 0; j < this.columns; j++) {\n                    copy[i][j] = this.get(i, j);\n                }\n            }\n            return copy;\n        }\n\n        /**\n         * @return {boolean} true if the matrix has one row\n         */\n        isRowVector() {\n            return this.rows === 1;\n        }\n\n        /**\n         * @return {boolean} true if the matrix has one column\n         */\n        isColumnVector() {\n            return this.columns === 1;\n        }\n\n        /**\n         * @return {boolean} true if the matrix has one row or one column\n         */\n        isVector() {\n            return (this.rows === 1) || (this.columns === 1);\n        }\n\n        /**\n         * @return {boolean} true if the matrix has the same number of rows and columns\n         */\n        isSquare() {\n            return this.rows === this.columns;\n        }\n\n        /**\n         * @return {boolean} true if the matrix is square and has the same values on both sides of the diagonal\n         */\n        isSymmetric() {\n            if (this.isSquare()) {\n                for (var i = 0; i < this.rows; i++) {\n                    for (var j = 0; j <= i; j++) {\n                        if (this.get(i, j) !== this.get(j, i)) {\n                            return false;\n                        }\n                    }\n                }\n                return true;\n            }\n            return false;\n        }\n\n        /**\n         * Sets a given element of the matrix. mat.set(3,4,1) is equivalent to mat[3][4]=1\n         * @abstract\n         * @param {number} rowIndex - Index of the row\n         * @param {number} columnIndex - Index of the column\n         * @param {number} value - The new value for the element\n         * @return {Matrix} this\n         */\n        set(rowIndex, columnIndex, value) { // eslint-disable-line no-unused-vars\n            throw new Error('set method is unimplemented');\n        }\n\n        /**\n         * Returns the given element of the matrix. mat.get(3,4) is equivalent to matrix[3][4]\n         * @abstract\n         * @param {number} rowIndex - Index of the row\n         * @param {number} columnIndex - Index of the column\n         * @return {number}\n         */\n        get(rowIndex, columnIndex) { // eslint-disable-line no-unused-vars\n            throw new Error('get method is unimplemented');\n        }\n\n        /**\n         * Creates a new matrix that is a repetition of the current matrix. New matrix has rowRep times the number of\n         * rows of the matrix, and colRep times the number of columns of the matrix\n         * @param {number} rowRep - Number of times the rows should be repeated\n         * @param {number} colRep - Number of times the columns should be re\n         * @return {Matrix}\n         * @example\n         * var matrix = new Matrix([[1,2]]);\n         * matrix.repeat(2); // [[1,2],[1,2]]\n         */\n        repeat(rowRep, colRep) {\n            rowRep = rowRep || 1;\n            colRep = colRep || 1;\n            var matrix = new this.constructor[Symbol.species](this.rows * rowRep, this.columns * colRep);\n            for (var i = 0; i < rowRep; i++) {\n                for (var j = 0; j < colRep; j++) {\n                    matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n                }\n            }\n            return matrix;\n        }\n\n        /**\n         * Fills the matrix with a given value. All elements will be set to this value.\n         * @param {number} value - New value\n         * @return {Matrix} this\n         */\n        fill(value) {\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, value);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Negates the matrix. All elements will be multiplied by (-1)\n         * @return {Matrix} this\n         */\n        neg() {\n            return this.mulS(-1);\n        }\n\n        /**\n         * Returns a new array from the given row index\n         * @param {number} index - Row index\n         * @return {Array}\n         */\n        getRow(index) {\n            checkRowIndex(this, index);\n            var row = new Array(this.columns);\n            for (var i = 0; i < this.columns; i++) {\n                row[i] = this.get(index, i);\n            }\n            return row;\n        }\n\n        /**\n         * Returns a new row vector from the given row index\n         * @param {number} index - Row index\n         * @return {Matrix}\n         */\n        getRowVector(index) {\n            return this.constructor.rowVector(this.getRow(index));\n        }\n\n        /**\n         * Sets a row at the given index\n         * @param {number} index - Row index\n         * @param {Array|Matrix} array - Array or vector\n         * @return {Matrix} this\n         */\n        setRow(index, array) {\n            checkRowIndex(this, index);\n            array = checkRowVector(this, array);\n            for (var i = 0; i < this.columns; i++) {\n                this.set(index, i, array[i]);\n            }\n            return this;\n        }\n\n        /**\n         * Swaps two rows\n         * @param {number} row1 - First row index\n         * @param {number} row2 - Second row index\n         * @return {Matrix} this\n         */\n        swapRows(row1, row2) {\n            checkRowIndex(this, row1);\n            checkRowIndex(this, row2);\n            for (var i = 0; i < this.columns; i++) {\n                var temp = this.get(row1, i);\n                this.set(row1, i, this.get(row2, i));\n                this.set(row2, i, temp);\n            }\n            return this;\n        }\n\n        /**\n         * Returns a new array from the given column index\n         * @param {number} index - Column index\n         * @return {Array}\n         */\n        getColumn(index) {\n            checkColumnIndex(this, index);\n            var column = new Array(this.rows);\n            for (var i = 0; i < this.rows; i++) {\n                column[i] = this.get(i, index);\n            }\n            return column;\n        }\n\n        /**\n         * Returns a new column vector from the given column index\n         * @param {number} index - Column index\n         * @return {Matrix}\n         */\n        getColumnVector(index) {\n            return this.constructor.columnVector(this.getColumn(index));\n        }\n\n        /**\n         * Sets a column at the given index\n         * @param {number} index - Column index\n         * @param {Array|Matrix} array - Array or vector\n         * @return {Matrix} this\n         */\n        setColumn(index, array) {\n            checkColumnIndex(this, index);\n            array = checkColumnVector(this, array);\n            for (var i = 0; i < this.rows; i++) {\n                this.set(i, index, array[i]);\n            }\n            return this;\n        }\n\n        /**\n         * Swaps two columns\n         * @param {number} column1 - First column index\n         * @param {number} column2 - Second column index\n         * @return {Matrix} this\n         */\n        swapColumns(column1, column2) {\n            checkColumnIndex(this, column1);\n            checkColumnIndex(this, column2);\n            for (var i = 0; i < this.rows; i++) {\n                var temp = this.get(i, column1);\n                this.set(i, column1, this.get(i, column2));\n                this.set(i, column2, temp);\n            }\n            return this;\n        }\n\n        /**\n         * Adds the values of a vector to each row\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        addRowVector(vector) {\n            vector = checkRowVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) + vector[j]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Subtracts the values of a vector from each row\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        subRowVector(vector) {\n            vector = checkRowVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) - vector[j]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Multiplies the values of a vector with each row\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        mulRowVector(vector) {\n            vector = checkRowVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) * vector[j]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Divides the values of each row by those of a vector\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        divRowVector(vector) {\n            vector = checkRowVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) / vector[j]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Adds the values of a vector to each column\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        addColumnVector(vector) {\n            vector = checkColumnVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) + vector[i]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Subtracts the values of a vector from each column\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        subColumnVector(vector) {\n            vector = checkColumnVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) - vector[i]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Multiplies the values of a vector with each column\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        mulColumnVector(vector) {\n            vector = checkColumnVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) * vector[i]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Divides the values of each column by those of a vector\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n        divColumnVector(vector) {\n            vector = checkColumnVector(this, vector);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this.set(i, j, this.get(i, j) / vector[i]);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Multiplies the values of a row with a scalar\n         * @param {number} index - Row index\n         * @param {number} value\n         * @return {Matrix} this\n         */\n        mulRow(index, value) {\n            checkRowIndex(this, index);\n            for (var i = 0; i < this.columns; i++) {\n                this.set(index, i, this.get(index, i) * value);\n            }\n            return this;\n        }\n\n        /**\n         * Multiplies the values of a column with a scalar\n         * @param {number} index - Column index\n         * @param {number} value\n         * @return {Matrix} this\n         */\n        mulColumn(index, value) {\n            checkColumnIndex(this, index);\n            for (var i = 0; i < this.rows; i++) {\n                this.set(i, index, this.get(i, index) * value);\n            }\n            return this;\n        }\n\n        /**\n         * Returns the maximum value of the matrix\n         * @return {number}\n         */\n        max() {\n            var v = this.get(0, 0);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    if (this.get(i, j) > v) {\n                        v = this.get(i, j);\n                    }\n                }\n            }\n            return v;\n        }\n\n        /**\n         * Returns the index of the maximum value\n         * @return {Array}\n         */\n        maxIndex() {\n            var v = this.get(0, 0);\n            var idx = [0, 0];\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    if (this.get(i, j) > v) {\n                        v = this.get(i, j);\n                        idx[0] = i;\n                        idx[1] = j;\n                    }\n                }\n            }\n            return idx;\n        }\n\n        /**\n         * Returns the minimum value of the matrix\n         * @return {number}\n         */\n        min() {\n            var v = this.get(0, 0);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    if (this.get(i, j) < v) {\n                        v = this.get(i, j);\n                    }\n                }\n            }\n            return v;\n        }\n\n        /**\n         * Returns the index of the minimum value\n         * @return {Array}\n         */\n        minIndex() {\n            var v = this.get(0, 0);\n            var idx = [0, 0];\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    if (this.get(i, j) < v) {\n                        v = this.get(i, j);\n                        idx[0] = i;\n                        idx[1] = j;\n                    }\n                }\n            }\n            return idx;\n        }\n\n        /**\n         * Returns the maximum value of one row\n         * @param {number} row - Row index\n         * @return {number}\n         */\n        maxRow(row) {\n            checkRowIndex(this, row);\n            var v = this.get(row, 0);\n            for (var i = 1; i < this.columns; i++) {\n                if (this.get(row, i) > v) {\n                    v = this.get(row, i);\n                }\n            }\n            return v;\n        }\n\n        /**\n         * Returns the index of the maximum value of one row\n         * @param {number} row - Row index\n         * @return {Array}\n         */\n        maxRowIndex(row) {\n            checkRowIndex(this, row);\n            var v = this.get(row, 0);\n            var idx = [row, 0];\n            for (var i = 1; i < this.columns; i++) {\n                if (this.get(row, i) > v) {\n                    v = this.get(row, i);\n                    idx[1] = i;\n                }\n            }\n            return idx;\n        }\n\n        /**\n         * Returns the minimum value of one row\n         * @param {number} row - Row index\n         * @return {number}\n         */\n        minRow(row) {\n            checkRowIndex(this, row);\n            var v = this.get(row, 0);\n            for (var i = 1; i < this.columns; i++) {\n                if (this.get(row, i) < v) {\n                    v = this.get(row, i);\n                }\n            }\n            return v;\n        }\n\n        /**\n         * Returns the index of the maximum value of one row\n         * @param {number} row - Row index\n         * @return {Array}\n         */\n        minRowIndex(row) {\n            checkRowIndex(this, row);\n            var v = this.get(row, 0);\n            var idx = [row, 0];\n            for (var i = 1; i < this.columns; i++) {\n                if (this.get(row, i) < v) {\n                    v = this.get(row, i);\n                    idx[1] = i;\n                }\n            }\n            return idx;\n        }\n\n        /**\n         * Returns the maximum value of one column\n         * @param {number} column - Column index\n         * @return {number}\n         */\n        maxColumn(column) {\n            checkColumnIndex(this, column);\n            var v = this.get(0, column);\n            for (var i = 1; i < this.rows; i++) {\n                if (this.get(i, column) > v) {\n                    v = this.get(i, column);\n                }\n            }\n            return v;\n        }\n\n        /**\n         * Returns the index of the maximum value of one column\n         * @param {number} column - Column index\n         * @return {Array}\n         */\n        maxColumnIndex(column) {\n            checkColumnIndex(this, column);\n            var v = this.get(0, column);\n            var idx = [0, column];\n            for (var i = 1; i < this.rows; i++) {\n                if (this.get(i, column) > v) {\n                    v = this.get(i, column);\n                    idx[0] = i;\n                }\n            }\n            return idx;\n        }\n\n        /**\n         * Returns the minimum value of one column\n         * @param {number} column - Column index\n         * @return {number}\n         */\n        minColumn(column) {\n            checkColumnIndex(this, column);\n            var v = this.get(0, column);\n            for (var i = 1; i < this.rows; i++) {\n                if (this.get(i, column) < v) {\n                    v = this.get(i, column);\n                }\n            }\n            return v;\n        }\n\n        /**\n         * Returns the index of the minimum value of one column\n         * @param {number} column - Column index\n         * @return {Array}\n         */\n        minColumnIndex(column) {\n            checkColumnIndex(this, column);\n            var v = this.get(0, column);\n            var idx = [0, column];\n            for (var i = 1; i < this.rows; i++) {\n                if (this.get(i, column) < v) {\n                    v = this.get(i, column);\n                    idx[0] = i;\n                }\n            }\n            return idx;\n        }\n\n        /**\n         * Returns an array containing the diagonal values of the matrix\n         * @return {Array}\n         */\n        diag() {\n            var min = Math.min(this.rows, this.columns);\n            var diag = new Array(min);\n            for (var i = 0; i < min; i++) {\n                diag[i] = this.get(i, i);\n            }\n            return diag;\n        }\n\n        /**\n         * Returns the sum by the argument given, if no argument given,\n         * it returns the sum of all elements of the matrix.\n         * @param {string} by - sum by 'row' or 'column'.\n         * @return {Matrix|number}\n         */\n        sum(by) {\n            switch (by) {\n                case 'row':\n                    return sumByRow(this);\n                case 'column':\n                    return sumByColumn(this);\n                default:\n                    return sumAll(this);\n            }\n        }\n\n        /**\n         * Returns the mean of all elements of the matrix\n         * @return {number}\n         */\n        mean() {\n            return this.sum() / this.size;\n        }\n\n        /**\n         * Returns the product of all elements of the matrix\n         * @return {number}\n         */\n        prod() {\n            var prod = 1;\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    prod *= this.get(i, j);\n                }\n            }\n            return prod;\n        }\n\n        /**\n         * Returns the norm of a matrix.\n         * @param {string} type - \"frobenius\" (default) or \"max\" return resp. the Frobenius norm and the max norm.\n         * @return {number}\n         */\n        norm(type = 'frobenius') {\n            var result = 0;\n            if (type === 'max') {\n                return this.max();\n            } else if (type === 'frobenius') {\n                for (var i = 0; i < this.rows; i++) {\n                    for (var j = 0; j < this.columns; j++) {\n                        result = result + this.get(i, j) * this.get(i, j);\n                    }\n                }\n                return Math.sqrt(result);\n            } else {\n                throw new RangeError(`unknown norm type: ${type}`);\n            }\n        }\n\n        /**\n         * Computes the cumulative sum of the matrix elements (in place, row by row)\n         * @return {Matrix} this\n         */\n        cumulativeSum() {\n            var sum = 0;\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    sum += this.get(i, j);\n                    this.set(i, j, sum);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Computes the dot (scalar) product between the matrix and another\n         * @param {Matrix} vector2 vector\n         * @return {number}\n         */\n        dot(vector2) {\n            if (Matrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n            var vector1 = this.to1DArray();\n            if (vector1.length !== vector2.length) {\n                throw new RangeError('vectors do not have the same size');\n            }\n            var dot = 0;\n            for (var i = 0; i < vector1.length; i++) {\n                dot += vector1[i] * vector2[i];\n            }\n            return dot;\n        }\n\n        /**\n         * Returns the matrix product between this and other\n         * @param {Matrix} other\n         * @return {Matrix}\n         */\n        mmul(other) {\n            other = this.constructor.checkMatrix(other);\n            if (this.columns !== other.rows) {\n                // eslint-disable-next-line no-console\n                console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');\n            }\n\n            var m = this.rows;\n            var n = this.columns;\n            var p = other.columns;\n\n            var result = new this.constructor[Symbol.species](m, p);\n\n            var Bcolj = new Array(n);\n            for (var j = 0; j < p; j++) {\n                for (var k = 0; k < n; k++) {\n                    Bcolj[k] = other.get(k, j);\n                }\n\n                for (var i = 0; i < m; i++) {\n                    var s = 0;\n                    for (k = 0; k < n; k++) {\n                        s += this.get(i, k) * Bcolj[k];\n                    }\n\n                    result.set(i, j, s);\n                }\n            }\n            return result;\n        }\n\n        strassen2x2(other) {\n            var result = new this.constructor[Symbol.species](2, 2);\n            const a11 = this.get(0, 0);\n            const b11 = other.get(0, 0);\n            const a12 = this.get(0, 1);\n            const b12 = other.get(0, 1);\n            const a21 = this.get(1, 0);\n            const b21 = other.get(1, 0);\n            const a22 = this.get(1, 1);\n            const b22 = other.get(1, 1);\n\n            // Compute intermediate values.\n            const m1 = (a11 + a22) * (b11 + b22);\n            const m2 = (a21 + a22) * b11;\n            const m3 = a11 * (b12 - b22);\n            const m4 = a22 * (b21 - b11);\n            const m5 = (a11 + a12) * b22;\n            const m6 = (a21 - a11) * (b11 + b12);\n            const m7 = (a12 - a22) * (b21 + b22);\n\n            // Combine intermediate values into the output.\n            const c00 = m1 + m4 - m5 + m7;\n            const c01 = m3 + m5;\n            const c10 = m2 + m4;\n            const c11 = m1 - m2 + m3 + m6;\n\n            result.set(0, 0, c00);\n            result.set(0, 1, c01);\n            result.set(1, 0, c10);\n            result.set(1, 1, c11);\n            return result;\n        }\n\n        strassen3x3(other) {\n            var result = new this.constructor[Symbol.species](3, 3);\n\n            const a00 = this.get(0, 0);\n            const a01 = this.get(0, 1);\n            const a02 = this.get(0, 2);\n            const a10 = this.get(1, 0);\n            const a11 = this.get(1, 1);\n            const a12 = this.get(1, 2);\n            const a20 = this.get(2, 0);\n            const a21 = this.get(2, 1);\n            const a22 = this.get(2, 2);\n\n            const b00 = other.get(0, 0);\n            const b01 = other.get(0, 1);\n            const b02 = other.get(0, 2);\n            const b10 = other.get(1, 0);\n            const b11 = other.get(1, 1);\n            const b12 = other.get(1, 2);\n            const b20 = other.get(2, 0);\n            const b21 = other.get(2, 1);\n            const b22 = other.get(2, 2);\n\n            const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n            const m2 = (a00 - a10) * (-b01 + b11);\n            const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n            const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n            const m5 = (a10 + a11) * (-b00 + b01);\n            const m6 = a00 * b00;\n            const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n            const m8 = (-a00 + a20) * (b02 - b12);\n            const m9 = (a20 + a21) * (-b00 + b02);\n            const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n            const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n            const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n            const m13 = (a02 - a22) * (b11 - b21);\n            const m14 = a02 * b20;\n            const m15 = (a21 + a22) * (-b20 + b21);\n            const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n            const m17 = (a02 - a12) * (b12 - b22);\n            const m18 = (a11 + a12) * (-b20 + b22);\n            const m19 = a01 * b10;\n            const m20 = a12 * b21;\n            const m21 = a10 * b02;\n            const m22 = a20 * b01;\n            const m23 = a22 * b22;\n\n            const c00 = m6 + m14 + m19;\n            const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n            const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n            const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n            const c11 = m2 + m4 + m5 + m6 + m20;\n            const c12 = m14 + m16 + m17 + m18 + m21;\n            const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n            const c21 = m12 + m13 + m14 + m15 + m22;\n            const c22 = m6 + m7 + m8 + m9 + m23;\n\n            result.set(0, 0, c00);\n            result.set(0, 1, c01);\n            result.set(0, 2, c02);\n            result.set(1, 0, c10);\n            result.set(1, 1, c11);\n            result.set(1, 2, c12);\n            result.set(2, 0, c20);\n            result.set(2, 1, c21);\n            result.set(2, 2, c22);\n            return result;\n        }\n\n        /**\n         * Returns the matrix product between x and y. More efficient than mmul(other) only when we multiply squared matrix and when the size of the matrix is > 1000.\n         * @param {Matrix} y\n         * @return {Matrix}\n         */\n        mmulStrassen(y) {\n            var x = this.clone();\n            var r1 = x.rows;\n            var c1 = x.columns;\n            var r2 = y.rows;\n            var c2 = y.columns;\n            if (c1 !== r2) {\n                // eslint-disable-next-line no-console\n                console.warn(`Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`);\n            }\n\n            // Put a matrix into the top left of a matrix of zeros.\n            // `rows` and `cols` are the dimensions of the output matrix.\n            function embed(mat, rows, cols) {\n                var r = mat.rows;\n                var c = mat.columns;\n                if ((r === rows) && (c === cols)) {\n                    return mat;\n                } else {\n                    var resultat = Matrix.zeros(rows, cols);\n                    resultat = resultat.setSubMatrix(mat, 0, 0);\n                    return resultat;\n                }\n            }\n\n\n            // Make sure both matrices are the same size.\n            // This is exclusively for simplicity:\n            // this algorithm can be implemented with matrices of different sizes.\n\n            var r = Math.max(r1, r2);\n            var c = Math.max(c1, c2);\n            x = embed(x, r, c);\n            y = embed(y, r, c);\n\n            // Our recursive multiplication function.\n            function blockMult(a, b, rows, cols) {\n                // For small matrices, resort to naive multiplication.\n                if (rows <= 512 || cols <= 512) {\n                    return a.mmul(b); // a is equivalent to this\n                }\n\n                // Apply dynamic padding.\n                if ((rows % 2 === 1) && (cols % 2 === 1)) {\n                    a = embed(a, rows + 1, cols + 1);\n                    b = embed(b, rows + 1, cols + 1);\n                } else if (rows % 2 === 1) {\n                    a = embed(a, rows + 1, cols);\n                    b = embed(b, rows + 1, cols);\n                } else if (cols % 2 === 1) {\n                    a = embed(a, rows, cols + 1);\n                    b = embed(b, rows, cols + 1);\n                }\n\n                var halfRows = parseInt(a.rows / 2);\n                var halfCols = parseInt(a.columns / 2);\n                // Subdivide input matrices.\n                var a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n                var b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n                var a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n                var b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n                var a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n                var b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n                var a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n                var b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n                // Compute intermediate values.\n                var m1 = blockMult(Matrix.add(a11, a22), Matrix.add(b11, b22), halfRows, halfCols);\n                var m2 = blockMult(Matrix.add(a21, a22), b11, halfRows, halfCols);\n                var m3 = blockMult(a11, Matrix.sub(b12, b22), halfRows, halfCols);\n                var m4 = blockMult(a22, Matrix.sub(b21, b11), halfRows, halfCols);\n                var m5 = blockMult(Matrix.add(a11, a12), b22, halfRows, halfCols);\n                var m6 = blockMult(Matrix.sub(a21, a11), Matrix.add(b11, b12), halfRows, halfCols);\n                var m7 = blockMult(Matrix.sub(a12, a22), Matrix.add(b21, b22), halfRows, halfCols);\n\n                // Combine intermediate values into the output.\n                var c11 = Matrix.add(m1, m4);\n                c11.sub(m5);\n                c11.add(m7);\n                var c12 = Matrix.add(m3, m5);\n                var c21 = Matrix.add(m2, m4);\n                var c22 = Matrix.sub(m1, m2);\n                c22.add(m3);\n                c22.add(m6);\n\n                //Crop output to the desired size (undo dynamic padding).\n                var resultat = Matrix.zeros(2 * c11.rows, 2 * c11.columns);\n                resultat = resultat.setSubMatrix(c11, 0, 0);\n                resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n                resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n                resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n                return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n            }\n            return blockMult(x, y, r, c);\n        }\n\n        /**\n         * Returns a row-by-row scaled matrix\n         * @param {number} [min=0] - Minimum scaled value\n         * @param {number} [max=1] - Maximum scaled value\n         * @return {Matrix} - The scaled matrix\n         */\n        scaleRows(min, max) {\n            min = min === undefined ? 0 : min;\n            max = max === undefined ? 1 : max;\n            if (min >= max) {\n                throw new RangeError('min should be strictly smaller than max');\n            }\n            var newMatrix = this.constructor.empty(this.rows, this.columns);\n            for (var i = 0; i < this.rows; i++) {\n                var scaled = rescale(this.getRow(i), {min, max});\n                newMatrix.setRow(i, scaled);\n            }\n            return newMatrix;\n        }\n\n        /**\n         * Returns a new column-by-column scaled matrix\n         * @param {number} [min=0] - Minimum scaled value\n         * @param {number} [max=1] - Maximum scaled value\n         * @return {Matrix} - The new scaled matrix\n         * @example\n         * var matrix = new Matrix([[1,2],[-1,0]]);\n         * var scaledMatrix = matrix.scaleColumns(); // [[1,1],[0,0]]\n         */\n        scaleColumns(min, max) {\n            min = min === undefined ? 0 : min;\n            max = max === undefined ? 1 : max;\n            if (min >= max) {\n                throw new RangeError('min should be strictly smaller than max');\n            }\n            var newMatrix = this.constructor.empty(this.rows, this.columns);\n            for (var i = 0; i < this.columns; i++) {\n                var scaled = rescale(this.getColumn(i), {\n                    min: min,\n                    max: max\n                });\n                newMatrix.setColumn(i, scaled);\n            }\n            return newMatrix;\n        }\n\n\n        /**\n         * Returns the Kronecker product (also known as tensor product) between this and other\n         * See https://en.wikipedia.org/wiki/Kronecker_product\n         * @param {Matrix} other\n         * @return {Matrix}\n         */\n        kroneckerProduct(other) {\n            other = this.constructor.checkMatrix(other);\n\n            var m = this.rows;\n            var n = this.columns;\n            var p = other.rows;\n            var q = other.columns;\n\n            var result = new this.constructor[Symbol.species](m * p, n * q);\n            for (var i = 0; i < m; i++) {\n                for (var j = 0; j < n; j++) {\n                    for (var k = 0; k < p; k++) {\n                        for (var l = 0; l < q; l++) {\n                            result[p * i + k][q * j + l] = this.get(i, j) * other.get(k, l);\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n\n        /**\n         * Transposes the matrix and returns a new one containing the result\n         * @return {Matrix}\n         */\n        transpose() {\n            var result = new this.constructor[Symbol.species](this.columns, this.rows);\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    result.set(j, i, this.get(i, j));\n                }\n            }\n            return result;\n        }\n\n        /**\n         * Sorts the rows (in place)\n         * @param {function} compareFunction - usual Array.prototype.sort comparison function\n         * @return {Matrix} this\n         */\n        sortRows(compareFunction) {\n            if (compareFunction === undefined) compareFunction = compareNumbers;\n            for (var i = 0; i < this.rows; i++) {\n                this.setRow(i, this.getRow(i).sort(compareFunction));\n            }\n            return this;\n        }\n\n        /**\n         * Sorts the columns (in place)\n         * @param {function} compareFunction - usual Array.prototype.sort comparison function\n         * @return {Matrix} this\n         */\n        sortColumns(compareFunction) {\n            if (compareFunction === undefined) compareFunction = compareNumbers;\n            for (var i = 0; i < this.columns; i++) {\n                this.setColumn(i, this.getColumn(i).sort(compareFunction));\n            }\n            return this;\n        }\n\n        /**\n         * Returns a subset of the matrix\n         * @param {number} startRow - First row index\n         * @param {number} endRow - Last row index\n         * @param {number} startColumn - First column index\n         * @param {number} endColumn - Last column index\n         * @return {Matrix}\n         */\n        subMatrix(startRow, endRow, startColumn, endColumn) {\n            checkRange(this, startRow, endRow, startColumn, endColumn);\n            var newMatrix = new this.constructor[Symbol.species](endRow - startRow + 1, endColumn - startColumn + 1);\n            for (var i = startRow; i <= endRow; i++) {\n                for (var j = startColumn; j <= endColumn; j++) {\n                    newMatrix[i - startRow][j - startColumn] = this.get(i, j);\n                }\n            }\n            return newMatrix;\n        }\n\n        /**\n         * Returns a subset of the matrix based on an array of row indices\n         * @param {Array} indices - Array containing the row indices\n         * @param {number} [startColumn = 0] - First column index\n         * @param {number} [endColumn = this.columns-1] - Last column index\n         * @return {Matrix}\n         */\n        subMatrixRow(indices, startColumn, endColumn) {\n            if (startColumn === undefined) startColumn = 0;\n            if (endColumn === undefined) endColumn = this.columns - 1;\n            if ((startColumn > endColumn) || (startColumn < 0) || (startColumn >= this.columns) || (endColumn < 0) || (endColumn >= this.columns)) {\n                throw new RangeError('Argument out of range');\n            }\n\n            var newMatrix = new this.constructor[Symbol.species](indices.length, endColumn - startColumn + 1);\n            for (var i = 0; i < indices.length; i++) {\n                for (var j = startColumn; j <= endColumn; j++) {\n                    if (indices[i] < 0 || indices[i] >= this.rows) {\n                        throw new RangeError('Row index out of range: ' + indices[i]);\n                    }\n                    newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n                }\n            }\n            return newMatrix;\n        }\n\n        /**\n         * Returns a subset of the matrix based on an array of column indices\n         * @param {Array} indices - Array containing the column indices\n         * @param {number} [startRow = 0] - First row index\n         * @param {number} [endRow = this.rows-1] - Last row index\n         * @return {Matrix}\n         */\n        subMatrixColumn(indices, startRow, endRow) {\n            if (startRow === undefined) startRow = 0;\n            if (endRow === undefined) endRow = this.rows - 1;\n            if ((startRow > endRow) || (startRow < 0) || (startRow >= this.rows) || (endRow < 0) || (endRow >= this.rows)) {\n                throw new RangeError('Argument out of range');\n            }\n\n            var newMatrix = new this.constructor[Symbol.species](endRow - startRow + 1, indices.length);\n            for (var i = 0; i < indices.length; i++) {\n                for (var j = startRow; j <= endRow; j++) {\n                    if (indices[i] < 0 || indices[i] >= this.columns) {\n                        throw new RangeError('Column index out of range: ' + indices[i]);\n                    }\n                    newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n                }\n            }\n            return newMatrix;\n        }\n\n        /**\n         * Set a part of the matrix to the given sub-matrix\n         * @param {Matrix|Array< Array >} matrix - The source matrix from which to extract values.\n         * @param {number} startRow - The index of the first row to set\n         * @param {number} startColumn - The index of the first column to set\n         * @return {Matrix}\n         */\n        setSubMatrix(matrix, startRow, startColumn) {\n            matrix = this.constructor.checkMatrix(matrix);\n            var endRow = startRow + matrix.rows - 1;\n            var endColumn = startColumn + matrix.columns - 1;\n            checkRange(this, startRow, endRow, startColumn, endColumn);\n            for (var i = 0; i < matrix.rows; i++) {\n                for (var j = 0; j < matrix.columns; j++) {\n                    this[startRow + i][startColumn + j] = matrix.get(i, j);\n                }\n            }\n            return this;\n        }\n\n        /**\n         * Return a new matrix based on a selection of rows and columns\n         * @param {Array<number>} rowIndices - The row indices to select. Order matters and an index can be more than once.\n         * @param {Array<number>} columnIndices - The column indices to select. Order matters and an index can be use more than once.\n         * @return {Matrix} The new matrix\n         */\n        selection(rowIndices, columnIndices) {\n            var indices = checkIndices(this, rowIndices, columnIndices);\n            var newMatrix = new this.constructor[Symbol.species](rowIndices.length, columnIndices.length);\n            for (var i = 0; i < indices.row.length; i++) {\n                var rowIndex = indices.row[i];\n                for (var j = 0; j < indices.column.length; j++) {\n                    var columnIndex = indices.column[j];\n                    newMatrix[i][j] = this.get(rowIndex, columnIndex);\n                }\n            }\n            return newMatrix;\n        }\n\n        /**\n         * Returns the trace of the matrix (sum of the diagonal elements)\n         * @return {number}\n         */\n        trace() {\n            var min = Math.min(this.rows, this.columns);\n            var trace = 0;\n            for (var i = 0; i < min; i++) {\n                trace += this.get(i, i);\n            }\n            return trace;\n        }\n\n        /*\n         Matrix views\n         */\n\n        /**\n         * Returns a view of the transposition of the matrix\n         * @return {MatrixTransposeView}\n         */\n        transposeView() {\n            return new MatrixTransposeView(this);\n        }\n\n        /**\n         * Returns a view of the row vector with the given index\n         * @param {number} row - row index of the vector\n         * @return {MatrixRowView}\n         */\n        rowView(row) {\n            checkRowIndex(this, row);\n            return new MatrixRowView(this, row);\n        }\n\n        /**\n         * Returns a view of the column vector with the given index\n         * @param {number} column - column index of the vector\n         * @return {MatrixColumnView}\n         */\n        columnView(column) {\n            checkColumnIndex(this, column);\n            return new MatrixColumnView(this, column);\n        }\n\n        /**\n         * Returns a view of the matrix flipped in the row axis\n         * @return {MatrixFlipRowView}\n         */\n        flipRowView() {\n            return new MatrixFlipRowView(this);\n        }\n\n        /**\n         * Returns a view of the matrix flipped in the column axis\n         * @return {MatrixFlipColumnView}\n         */\n        flipColumnView() {\n            return new MatrixFlipColumnView(this);\n        }\n\n        /**\n         * Returns a view of a submatrix giving the index boundaries\n         * @param {number} startRow - first row index of the submatrix\n         * @param {number} endRow - last row index of the submatrix\n         * @param {number} startColumn - first column index of the submatrix\n         * @param {number} endColumn - last column index of the submatrix\n         * @return {MatrixSubView}\n         */\n        subMatrixView(startRow, endRow, startColumn, endColumn) {\n            return new MatrixSubView(this, startRow, endRow, startColumn, endColumn);\n        }\n\n        /**\n         * Returns a view of the cross of the row indices and the column indices\n         * @example\n         * // resulting vector is [[2], [2]]\n         * var matrix = new Matrix([[1,2,3], [4,5,6]]).selectionView([0, 0], [1])\n         * @param {Array<number>} rowIndices\n         * @param {Array<number>} columnIndices\n         * @return {MatrixSelectionView}\n         */\n        selectionView(rowIndices, columnIndices) {\n            return new MatrixSelectionView(this, rowIndices, columnIndices);\n        }\n\n        /**\n         * Returns a view of the row indices\n         * @example\n         * // resulting vector is [[1,2,3], [1,2,3]]\n         * var matrix = new Matrix([[1,2,3], [4,5,6]]).rowSelectionView([0, 0])\n         * @param {Array<number>} rowIndices\n         * @return {MatrixRowSelectionView}\n         */\n        rowSelectionView(rowIndices) {\n            return new MatrixRowSelectionView(this, rowIndices);\n        }\n\n        /**\n         * Returns a view of the column indices\n         * @example\n         * // resulting vector is [[2, 2], [5, 5]]\n         * var matrix = new Matrix([[1,2,3], [4,5,6]]).columnSelectionView([1, 1])\n         * @param {Array<number>} columnIndices\n         * @return {MatrixColumnSelectionView}\n         */\n        columnSelectionView(columnIndices) {\n            return new MatrixColumnSelectionView(this, columnIndices);\n        }\n\n\n        /**\n        * Calculates and returns the determinant of a matrix as a Number\n        * @example\n        *   new Matrix([[1,2,3], [4,5,6]]).det()\n        * @return {number}\n        */\n        det() {\n            if (this.isSquare()) {\n                var a, b, c, d;\n                if (this.columns === 2) {\n                    // 2 x 2 matrix\n                    a = this.get(0, 0);\n                    b = this.get(0, 1);\n                    c = this.get(1, 0);\n                    d = this.get(1, 1);\n\n                    return a * d - (b * c);\n                } else if (this.columns === 3) {\n                    // 3 x 3 matrix\n                    var subMatrix0, subMatrix1, subMatrix2;\n                    subMatrix0 = this.selectionView([1, 2], [1, 2]);\n                    subMatrix1 = this.selectionView([1, 2], [0, 2]);\n                    subMatrix2 = this.selectionView([1, 2], [0, 1]);\n                    a = this.get(0, 0);\n                    b = this.get(0, 1);\n                    c = this.get(0, 2);\n\n                    return a * subMatrix0.det() - b * subMatrix1.det() + c * subMatrix2.det();\n                } else {\n                    // general purpose determinant using the LU decomposition\n                    return new LuDecomposition(this).determinant;\n                }\n\n            } else {\n                throw Error('Determinant can only be calculated for a square matrix.');\n            }\n        }\n\n        /**\n         * Returns inverse of a matrix if it exists or the pseudoinverse\n         * @param {number} threshold - threshold for taking inverse of singular values (default = 1e-15)\n         * @return {Matrix} the (pseudo)inverted matrix.\n         */\n        pseudoInverse(threshold) {\n            if (threshold === undefined) threshold = Number.EPSILON;\n            var svdSolution = new SvDecomposition(this, {autoTranspose: true});\n\n            var U = svdSolution.leftSingularVectors;\n            var V = svdSolution.rightSingularVectors;\n            var s = svdSolution.diagonal;\n\n            for (var i = 0; i < s.length; i++) {\n                if (Math.abs(s[i]) > threshold) {\n                    s[i] = 1.0 / s[i];\n                } else {\n                    s[i] = 0.0;\n                }\n            }\n\n            // convert list to diagonal\n            s = this.constructor[Symbol.species].diag(s);\n            return V.mmul(s.mmul(U.transposeView()));\n        }\n\n        /**\n         * Creates an exact and independent copy of the matrix\n         * @return {Matrix}\n         */\n        clone() {\n            var newMatrix = new this.constructor[Symbol.species](this.rows, this.columns);\n            for (var row = 0; row < this.rows; row++) {\n                for (var column = 0; column < this.columns; column++) {\n                    newMatrix.set(row, column, this.get(row, column));\n                }\n            }\n            return newMatrix;\n        }\n    }\n\n    Matrix.prototype.klass = 'Matrix';\n\n    function compareNumbers(a, b) {\n        return a - b;\n    }\n\n    /*\n     Synonyms\n     */\n\n    Matrix.random = Matrix.rand;\n    Matrix.diagonal = Matrix.diag;\n    Matrix.prototype.diagonal = Matrix.prototype.diag;\n    Matrix.identity = Matrix.eye;\n    Matrix.prototype.negate = Matrix.prototype.neg;\n    Matrix.prototype.tensorProduct = Matrix.prototype.kroneckerProduct;\n    Matrix.prototype.determinant = Matrix.prototype.det;\n\n    /*\n     Add dynamically instance and static methods for mathematical operations\n     */\n\n    var inplaceOperator = `\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n`;\n\n    var inplaceOperatorScalar = `\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n`;\n\n    var inplaceOperatorMatrix = `\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n`;\n\n    var staticOperator = `\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n`;\n\n    var inplaceMethod = `\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n`;\n\n    var staticMethod = `\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n`;\n\n    var inplaceMethodWithArgs = `\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n`;\n\n    var staticMethodWithArgs = `\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n`;\n\n\n    var inplaceMethodWithOneArgScalar = `\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n`;\n    var inplaceMethodWithOneArgMatrix = `\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n`;\n\n    var inplaceMethodWithOneArg = `\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n`;\n\n    var staticMethodWithOneArg = staticMethodWithArgs;\n\n    var operators = [\n        // Arithmetic operators\n        ['+', 'add'],\n        ['-', 'sub', 'subtract'],\n        ['*', 'mul', 'multiply'],\n        ['/', 'div', 'divide'],\n        ['%', 'mod', 'modulus'],\n        // Bitwise operators\n        ['&', 'and'],\n        ['|', 'or'],\n        ['^', 'xor'],\n        ['<<', 'leftShift'],\n        ['>>', 'signPropagatingRightShift'],\n        ['>>>', 'rightShift', 'zeroFillRightShift']\n    ];\n\n    var i;\n    var eval2 = eval;\n    for (var operator of operators) {\n        var inplaceOp = eval2(fillTemplateFunction(inplaceOperator, {name: operator[1], op: operator[0]}));\n        var inplaceOpS = eval2(fillTemplateFunction(inplaceOperatorScalar, {name: operator[1] + 'S', op: operator[0]}));\n        var inplaceOpM = eval2(fillTemplateFunction(inplaceOperatorMatrix, {name: operator[1] + 'M', op: operator[0]}));\n        var staticOp = eval2(fillTemplateFunction(staticOperator, {name: operator[1]}));\n        for (i = 1; i < operator.length; i++) {\n            Matrix.prototype[operator[i]] = inplaceOp;\n            Matrix.prototype[operator[i] + 'S'] = inplaceOpS;\n            Matrix.prototype[operator[i] + 'M'] = inplaceOpM;\n            Matrix[operator[i]] = staticOp;\n        }\n    }\n\n    var methods = [\n        ['~', 'not']\n    ];\n\n    [\n        'abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'cbrt', 'ceil',\n        'clz32', 'cos', 'cosh', 'exp', 'expm1', 'floor', 'fround', 'log', 'log1p',\n        'log10', 'log2', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc'\n    ].forEach(function (mathMethod) {\n        methods.push(['Math.' + mathMethod, mathMethod]);\n    });\n\n    for (var method of methods) {\n        var inplaceMeth = eval2(fillTemplateFunction(inplaceMethod, {name: method[1], method: method[0]}));\n        var staticMeth = eval2(fillTemplateFunction(staticMethod, {name: method[1]}));\n        for (i = 1; i < method.length; i++) {\n            Matrix.prototype[method[i]] = inplaceMeth;\n            Matrix[method[i]] = staticMeth;\n        }\n    }\n\n    var methodsWithArgs = [\n        ['Math.pow', 1, 'pow']\n    ];\n\n    for (var methodWithArg of methodsWithArgs) {\n        var args = 'arg0';\n        for (i = 1; i < methodWithArg[1]; i++) {\n            args += `, arg${i}`;\n        }\n        if (methodWithArg[1] !== 1) {\n            var inplaceMethWithArgs = eval2(fillTemplateFunction(inplaceMethodWithArgs, {\n                name: methodWithArg[2],\n                method: methodWithArg[0],\n                args: args\n            }));\n            var staticMethWithArgs = eval2(fillTemplateFunction(staticMethodWithArgs, {name: methodWithArg[2], args: args}));\n            for (i = 2; i < methodWithArg.length; i++) {\n                Matrix.prototype[methodWithArg[i]] = inplaceMethWithArgs;\n                Matrix[methodWithArg[i]] = staticMethWithArgs;\n            }\n        } else {\n            var tmplVar = {\n                name: methodWithArg[2],\n                args: args,\n                method: methodWithArg[0]\n            };\n            var inplaceMethod2 = eval2(fillTemplateFunction(inplaceMethodWithOneArg, tmplVar));\n            var inplaceMethodS = eval2(fillTemplateFunction(inplaceMethodWithOneArgScalar, tmplVar));\n            var inplaceMethodM = eval2(fillTemplateFunction(inplaceMethodWithOneArgMatrix, tmplVar));\n            var staticMethod2 = eval2(fillTemplateFunction(staticMethodWithOneArg, tmplVar));\n            for (i = 2; i < methodWithArg.length; i++) {\n                Matrix.prototype[methodWithArg[i]] = inplaceMethod2;\n                Matrix.prototype[methodWithArg[i] + 'M'] = inplaceMethodM;\n                Matrix.prototype[methodWithArg[i] + 'S'] = inplaceMethodS;\n                Matrix[methodWithArg[i]] = staticMethod2;\n            }\n        }\n    }\n\n    function fillTemplateFunction(template, values) {\n        for (var value in values) {\n            template = template.replace(new RegExp('%' + value + '%', 'g'), values[value]);\n        }\n        return template;\n    }\n\n    return Matrix;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/abstractMatrix.js","'use strict';\n\nvar arrayStat = require('./array');\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\nexports.max = function max(matrix) {\n    var max = -Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] > max) max = matrix[i][j];\n        }\n    }\n    return max;\n};\n\nexports.min = function min(matrix) {\n    var min = Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] < min) min = matrix[i][j];\n        }\n    }\n    return min;\n};\n\nexports.minMax = function minMax(matrix) {\n    var min = Infinity;\n    var max = -Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] < min) min = matrix[i][j];\n            if (matrix[i][j] > max) max = matrix[i][j];\n        }\n    }\n    return {\n        min:min,\n        max:max\n    };\n};\n\nexports.entropy = function entropy(matrix, eps) {\n    if (typeof (eps) === 'undefined') {\n        eps = 0;\n    }\n    var sum = 0,\n        l1 = matrix.length,\n        l2 = matrix[0].length;\n    for (var i = 0; i < l1; i++) {\n        for (var j = 0; j < l2; j++) {\n            sum += matrix[i][j] * Math.log(matrix[i][j] + eps);\n        }\n    }\n    return -sum;\n};\n\nexports.mean = function mean(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theMean, N, i, j;\n\n    if (dimension === -1) {\n        theMean = [0];\n        N = rows * cols;\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theMean[0] += matrix[i][j];\n            }\n        }\n        theMean[0] /= N;\n    } else if (dimension === 0) {\n        theMean = new Array(cols);\n        N = rows;\n        for (j = 0; j < cols; j++) {\n            theMean[j] = 0;\n            for (i = 0; i < rows; i++) {\n                theMean[j] += matrix[i][j];\n            }\n            theMean[j] /= N;\n        }\n    } else if (dimension === 1) {\n        theMean = new Array(rows);\n        N = cols;\n        for (j = 0; j < rows; j++) {\n            theMean[j] = 0;\n            for (i = 0; i < cols; i++) {\n                theMean[j] += matrix[j][i];\n            }\n            theMean[j] /= N;\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theMean;\n};\n\nexports.sum = function sum(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theSum, i, j;\n\n    if (dimension === -1) {\n        theSum = [0];\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theSum[0] += matrix[i][j];\n            }\n        }\n    } else if (dimension === 0) {\n        theSum = new Array(cols);\n        for (j = 0; j < cols; j++) {\n            theSum[j] = 0;\n            for (i = 0; i < rows; i++) {\n                theSum[j] += matrix[i][j];\n            }\n        }\n    } else if (dimension === 1) {\n        theSum = new Array(rows);\n        for (j = 0; j < rows; j++) {\n            theSum[j] = 0;\n            for (i = 0; i < cols; i++) {\n                theSum[j] += matrix[j][i];\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theSum;\n};\n\nexports.product = function product(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theProduct, i, j;\n\n    if (dimension === -1) {\n        theProduct = [1];\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theProduct[0] *= matrix[i][j];\n            }\n        }\n    } else if (dimension === 0) {\n        theProduct = new Array(cols);\n        for (j = 0; j < cols; j++) {\n            theProduct[j] = 1;\n            for (i = 0; i < rows; i++) {\n                theProduct[j] *= matrix[i][j];\n            }\n        }\n    } else if (dimension === 1) {\n        theProduct = new Array(rows);\n        for (j = 0; j < rows; j++) {\n            theProduct[j] = 1;\n            for (i = 0; i < cols; i++) {\n                theProduct[j] *= matrix[j][i];\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theProduct;\n};\n\nexports.standardDeviation = function standardDeviation(matrix, means, unbiased) {\n    var vari = exports.variance(matrix, means, unbiased), l = vari.length;\n    for (var i = 0; i < l; i++) {\n        vari[i] = Math.sqrt(vari[i]);\n    }\n    return vari;\n};\n\nexports.variance = function variance(matrix, means, unbiased) {\n    if (typeof (unbiased) === 'undefined') {\n        unbiased = true;\n    }\n    means = means || exports.mean(matrix);\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length;\n    var vari = new Array(cols);\n\n    for (var j = 0; j < cols; j++) {\n        var sum1 = 0, sum2 = 0, x = 0;\n        for (var i = 0; i < rows; i++) {\n            x = matrix[i][j] - means[j];\n            sum1 += x;\n            sum2 += x * x;\n        }\n        if (unbiased) {\n            vari[j] = (sum2 - ((sum1 * sum1) / rows)) / (rows - 1);\n        } else {\n            vari[j] = (sum2 - ((sum1 * sum1) / rows)) / rows;\n        }\n    }\n    return vari;\n};\n\nexports.median = function median(matrix) {\n    var rows = matrix.length, cols = matrix[0].length;\n    var medians = new Array(cols);\n\n    for (var i = 0; i < cols; i++) {\n        var data = new Array(rows);\n        for (var j = 0; j < rows; j++) {\n            data[j] = matrix[j][i];\n        }\n        data.sort(compareNumbers);\n        var N = data.length;\n        if (N % 2 === 0) {\n            medians[i] = (data[N / 2] + data[(N / 2) - 1]) * 0.5;\n        } else {\n            medians[i] = data[Math.floor(N / 2)];\n        }\n    }\n    return medians;\n};\n\nexports.mode = function mode(matrix) {\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        modes = new Array(cols),\n        i, j;\n    for (i = 0; i < cols; i++) {\n        var itemCount = new Array(rows);\n        for (var k = 0; k < rows; k++) {\n            itemCount[k] = 0;\n        }\n        var itemArray = new Array(rows);\n        var count = 0;\n\n        for (j = 0; j < rows; j++) {\n            var index = itemArray.indexOf(matrix[j][i]);\n            if (index >= 0) {\n                itemCount[index]++;\n            } else {\n                itemArray[count] = matrix[j][i];\n                itemCount[count] = 1;\n                count++;\n            }\n        }\n\n        var maxValue = 0, maxIndex = 0;\n        for (j = 0; j < count; j++) {\n            if (itemCount[j] > maxValue) {\n                maxValue = itemCount[j];\n                maxIndex = j;\n            }\n        }\n\n        modes[i] = itemArray[maxIndex];\n    }\n    return modes;\n};\n\nexports.skewness = function skewness(matrix, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var means = exports.mean(matrix);\n    var n = matrix.length, l = means.length;\n    var skew = new Array(l);\n\n    for (var j = 0; j < l; j++) {\n        var s2 = 0, s3 = 0;\n        for (var i = 0; i < n; i++) {\n            var dev = matrix[i][j] - means[j];\n            s2 += dev * dev;\n            s3 += dev * dev * dev;\n        }\n\n        var m2 = s2 / n;\n        var m3 = s3 / n;\n        var g = m3 / Math.pow(m2, 3 / 2);\n\n        if (unbiased) {\n            var a = Math.sqrt(n * (n - 1));\n            var b = n - 2;\n            skew[j] = (a / b) * g;\n        } else {\n            skew[j] = g;\n        }\n    }\n    return skew;\n};\n\nexports.kurtosis = function kurtosis(matrix, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var means = exports.mean(matrix);\n    var n = matrix.length, m = matrix[0].length;\n    var kurt = new Array(m);\n\n    for (var j = 0; j < m; j++) {\n        var s2 = 0, s4 = 0;\n        for (var i = 0; i < n; i++) {\n            var dev = matrix[i][j] - means[j];\n            s2 += dev * dev;\n            s4 += dev * dev * dev * dev;\n        }\n        var m2 = s2 / n;\n        var m4 = s4 / n;\n\n        if (unbiased) {\n            var v = s2 / (n - 1);\n            var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n            var b = s4 / (v * v);\n            var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n            kurt[j] = a * b - 3 * c;\n        } else {\n            kurt[j] = m4 / (m2 * m2) - 3;\n        }\n    }\n    return kurt;\n};\n\nexports.standardError = function standardError(matrix) {\n    var samples = matrix.length;\n    var standardDeviations = exports.standardDeviation(matrix);\n    var l = standardDeviations.length;\n    var standardErrors = new Array(l);\n    var sqrtN = Math.sqrt(samples);\n\n    for (var i = 0; i < l; i++) {\n        standardErrors[i] = standardDeviations[i] / sqrtN;\n    }\n    return standardErrors;\n};\n\nexports.covariance = function covariance(matrix, dimension) {\n    return exports.scatter(matrix, undefined, dimension);\n};\n\nexports.scatter = function scatter(matrix, divisor, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    if (typeof (divisor) === 'undefined') {\n        if (dimension === 0) {\n            divisor = matrix.length - 1;\n        } else if (dimension === 1) {\n            divisor = matrix[0].length - 1;\n        }\n    }\n    var means = exports.mean(matrix, dimension);\n    var rows = matrix.length;\n    if (rows === 0) {\n        return [[]];\n    }\n    var cols = matrix[0].length,\n        cov, i, j, s, k;\n\n    if (dimension === 0) {\n        cov = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            cov[i] = new Array(cols);\n        }\n        for (i = 0; i < cols; i++) {\n            for (j = i; j < cols; j++) {\n                s = 0;\n                for (k = 0; k < rows; k++) {\n                    s += (matrix[k][j] - means[j]) * (matrix[k][i] - means[i]);\n                }\n                s /= divisor;\n                cov[i][j] = s;\n                cov[j][i] = s;\n            }\n        }\n    } else if (dimension === 1) {\n        cov = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            cov[i] = new Array(rows);\n        }\n        for (i = 0; i < rows; i++) {\n            for (j = i; j < rows; j++) {\n                s = 0;\n                for (k = 0; k < cols; k++) {\n                    s += (matrix[j][k] - means[j]) * (matrix[i][k] - means[i]);\n                }\n                s /= divisor;\n                cov[i][j] = s;\n                cov[j][i] = s;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    return cov;\n};\n\nexports.correlation = function correlation(matrix) {\n    var means = exports.mean(matrix),\n        standardDeviations = exports.standardDeviation(matrix, true, means),\n        scores = exports.zScores(matrix, means, standardDeviations),\n        rows = matrix.length,\n        cols = matrix[0].length,\n        i, j;\n\n    var cor = new Array(cols);\n    for (i = 0; i < cols; i++) {\n        cor[i] = new Array(cols);\n    }\n    for (i = 0; i < cols; i++) {\n        for (j = i; j < cols; j++) {\n            var c = 0;\n            for (var k = 0, l = scores.length; k < l; k++) {\n                c += scores[k][j] * scores[k][i];\n            }\n            c /= rows - 1;\n            cor[i][j] = c;\n            cor[j][i] = c;\n        }\n    }\n    return cor;\n};\n\nexports.zScores = function zScores(matrix, means, standardDeviations) {\n    means = means || exports.mean(matrix);\n    if (typeof (standardDeviations) === 'undefined') standardDeviations = exports.standardDeviation(matrix, true, means);\n    return exports.standardize(exports.center(matrix, means, false), standardDeviations, true);\n};\n\nexports.center = function center(matrix, means, inPlace) {\n    means = means || exports.mean(matrix);\n    var result = matrix,\n        l = matrix.length,\n        i, j, jj;\n\n    if (!inPlace) {\n        result = new Array(l);\n        for (i = 0; i < l; i++) {\n            result[i] = new Array(matrix[i].length);\n        }\n    }\n\n    for (i = 0; i < l; i++) {\n        var row = result[i];\n        for (j = 0, jj = row.length; j < jj; j++) {\n            row[j] = matrix[i][j] - means[j];\n        }\n    }\n    return result;\n};\n\nexports.standardize = function standardize(matrix, standardDeviations, inPlace) {\n    if (typeof (standardDeviations) === 'undefined') standardDeviations = exports.standardDeviation(matrix);\n    var result = matrix,\n        l = matrix.length,\n        i, j, jj;\n\n    if (!inPlace) {\n        result = new Array(l);\n        for (i = 0; i < l; i++) {\n            result[i] = new Array(matrix[i].length);\n        }\n    }\n\n    for (i = 0; i < l; i++) {\n        var resultRow = result[i];\n        var sourceRow = matrix[i];\n        for (j = 0, jj = resultRow.length; j < jj; j++) {\n            if (standardDeviations[j] !== 0 && !isNaN(standardDeviations[j])) {\n                resultRow[j] = sourceRow[j] / standardDeviations[j];\n            }\n        }\n    }\n    return result;\n};\n\nexports.weightedVariance = function weightedVariance(matrix, weights) {\n    var means = exports.mean(matrix);\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length;\n    var vari = new Array(cols);\n\n    for (var j = 0; j < cols; j++) {\n        var sum = 0;\n        var a = 0, b = 0;\n\n        for (var i = 0; i < rows; i++) {\n            var z = matrix[i][j] - means[j];\n            var w = weights[i];\n\n            sum += w * (z * z);\n            b += w;\n            a += w * w;\n        }\n\n        vari[j] = sum * (b / (b * b - a));\n    }\n\n    return vari;\n};\n\nexports.weightedMean = function weightedMean(matrix, weights, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length,\n        means, i, ii, j, w, row;\n\n    if (dimension === 0) {\n        means = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            means[i] = 0;\n        }\n        for (i = 0; i < rows; i++) {\n            row = matrix[i];\n            w = weights[i];\n            for (j = 0; j < cols; j++) {\n                means[j] += row[j] * w;\n            }\n        }\n    } else if (dimension === 1) {\n        means = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            means[i] = 0;\n        }\n        for (j = 0; j < rows; j++) {\n            row = matrix[j];\n            w = weights[j];\n            for (i = 0; i < cols; i++) {\n                means[j] += row[i] * w;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    var weightSum = arrayStat.sum(weights);\n    if (weightSum !== 0) {\n        for (i = 0, ii = means.length; i < ii; i++) {\n            means[i] /= weightSum;\n        }\n    }\n    return means;\n};\n\nexports.weightedCovariance = function weightedCovariance(matrix, weights, means, dimension) {\n    dimension = dimension || 0;\n    means = means || exports.weightedMean(matrix, weights, dimension);\n    var s1 = 0, s2 = 0;\n    for (var i = 0, ii = weights.length; i < ii; i++) {\n        s1 += weights[i];\n        s2 += weights[i] * weights[i];\n    }\n    var factor = s1 / (s1 * s1 - s2);\n    return exports.weightedScatter(matrix, weights, means, factor, dimension);\n};\n\nexports.weightedScatter = function weightedScatter(matrix, weights, means, factor, dimension) {\n    dimension = dimension || 0;\n    means = means || exports.weightedMean(matrix, weights, dimension);\n    if (typeof (factor) === 'undefined') {\n        factor = 1;\n    }\n    var rows = matrix.length;\n    if (rows === 0) {\n        return [[]];\n    }\n    var cols = matrix[0].length,\n        cov, i, j, k, s;\n\n    if (dimension === 0) {\n        cov = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            cov[i] = new Array(cols);\n        }\n        for (i = 0; i < cols; i++) {\n            for (j = i; j < cols; j++) {\n                s = 0;\n                for (k = 0; k < rows; k++) {\n                    s += weights[k] * (matrix[k][j] - means[j]) * (matrix[k][i] - means[i]);\n                }\n                cov[i][j] = s * factor;\n                cov[j][i] = s * factor;\n            }\n        }\n    } else if (dimension === 1) {\n        cov = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            cov[i] = new Array(rows);\n        }\n        for (i = 0; i < rows; i++) {\n            for (j = i; j < rows; j++) {\n                s = 0;\n                for (k = 0; k < cols; k++) {\n                    s += weights[k] * (matrix[j][k] - means[j]) * (matrix[i][k] - means[i]);\n                }\n                cov[i][j] = s * factor;\n                cov[j][i] = s * factor;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    return cov;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-stat/matrix.js","import {Matrix, WrapperMatrix2D} from '../index';\n\n/**\n * @class LuDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/LuDecomposition.cs\n * @param {Matrix} matrix\n */\nexport default class LuDecomposition {\n    constructor(matrix) {\n        matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n        var lu = matrix.clone();\n        var rows = lu.rows;\n        var columns = lu.columns;\n        var pivotVector = new Array(rows);\n        var pivotSign = 1;\n        var i, j, k, p, s, t, v;\n        var LUcolj, kmax;\n\n        for (i = 0; i < rows; i++) {\n            pivotVector[i] = i;\n        }\n\n        LUcolj = new Array(rows);\n\n        for (j = 0; j < columns; j++) {\n\n            for (i = 0; i < rows; i++) {\n                LUcolj[i] = lu.get(i, j);\n            }\n\n            for (i = 0; i < rows; i++) {\n                kmax = Math.min(i, j);\n                s = 0;\n                for (k = 0; k < kmax; k++) {\n                    s += lu.get(i, k) * LUcolj[k];\n                }\n                LUcolj[i] -= s;\n                lu.set(i, j, LUcolj[i]);\n            }\n\n            p = j;\n            for (i = j + 1; i < rows; i++) {\n                if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n                    p = i;\n                }\n            }\n\n            if (p !== j) {\n                for (k = 0; k < columns; k++) {\n                    t = lu.get(p, k);\n                    lu.set(p, k, lu.get(j, k));\n                    lu.set(j, k, t);\n                }\n\n                v = pivotVector[p];\n                pivotVector[p] = pivotVector[j];\n                pivotVector[j] = v;\n\n                pivotSign = -pivotSign;\n            }\n\n            if (j < rows && lu.get(j, j) !== 0) {\n                for (i = j + 1; i < rows; i++) {\n                    lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n                }\n            }\n        }\n\n        this.LU = lu;\n        this.pivotVector = pivotVector;\n        this.pivotSign = pivotSign;\n    }\n\n    /**\n     *\n     * @return {boolean}\n     */\n    isSingular() {\n        var data = this.LU;\n        var col = data.columns;\n        for (var j = 0; j < col; j++) {\n            if (data[j][j] === 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     *\n     * @param {Matrix} value\n     * @return {Matrix}\n     */\n    solve(value) {\n        value = Matrix.checkMatrix(value);\n\n        var lu = this.LU;\n        var rows = lu.rows;\n\n        if (rows !== value.rows) {\n            throw new Error('Invalid matrix dimensions');\n        }\n        if (this.isSingular()) {\n            throw new Error('LU matrix is singular');\n        }\n\n        var count = value.columns;\n        var X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n        var columns = lu.columns;\n        var i, j, k;\n\n        for (k = 0; k < columns; k++) {\n            for (i = k + 1; i < columns; i++) {\n                for (j = 0; j < count; j++) {\n                    X[i][j] -= X[k][j] * lu[i][k];\n                }\n            }\n        }\n        for (k = columns - 1; k >= 0; k--) {\n            for (j = 0; j < count; j++) {\n                X[k][j] /= lu[k][k];\n            }\n            for (i = 0; i < k; i++) {\n                for (j = 0; j < count; j++) {\n                    X[i][j] -= X[k][j] * lu[i][k];\n                }\n            }\n        }\n        return X;\n    }\n\n    /**\n     *\n     * @return {number}\n     */\n    get determinant() {\n        var data = this.LU;\n        if (!data.isSquare()) {\n            throw new Error('Matrix must be square');\n        }\n        var determinant = this.pivotSign;\n        var col = data.columns;\n        for (var j = 0; j < col; j++) {\n            determinant *= data[j][j];\n        }\n        return determinant;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get lowerTriangularMatrix() {\n        var data = this.LU;\n        var rows = data.rows;\n        var columns = data.columns;\n        var X = new Matrix(rows, columns);\n        for (var i = 0; i < rows; i++) {\n            for (var j = 0; j < columns; j++) {\n                if (i > j) {\n                    X[i][j] = data[i][j];\n                } else if (i === j) {\n                    X[i][j] = 1;\n                } else {\n                    X[i][j] = 0;\n                }\n            }\n        }\n        return X;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get upperTriangularMatrix() {\n        var data = this.LU;\n        var rows = data.rows;\n        var columns = data.columns;\n        var X = new Matrix(rows, columns);\n        for (var i = 0; i < rows; i++) {\n            for (var j = 0; j < columns; j++) {\n                if (i <= j) {\n                    X[i][j] = data[i][j];\n                } else {\n                    X[i][j] = 0;\n                }\n            }\n        }\n        return X;\n    }\n\n    /**\n     *\n     * @return {Array<number>}\n     */\n    get pivotPermutationVector() {\n        return this.pivotVector.slice();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/lu.js","import {Matrix, WrapperMatrix2D} from '../index';\nimport {hypotenuse, getFilled2DArray} from './util';\n\n/**\n * @class SingularValueDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/SingularValueDecomposition.cs\n * @param {Matrix} value\n * @param {object} [options]\n * @param {boolean} [options.computeLeftSingularVectors=true]\n * @param {boolean} [options.computeRightSingularVectors=true]\n * @param {boolean} [options.autoTranspose=false]\n */\nexport default class SingularValueDecomposition {\n    constructor(value, options = {}) {\n        value = WrapperMatrix2D.checkMatrix(value);\n\n        var m = value.rows;\n        var n = value.columns;\n        var nu = Math.min(m, n);\n\n        const {\n            computeLeftSingularVectors = true,\n            computeRightSingularVectors = true,\n            autoTranspose = false\n        } = options;\n\n        var wantu = Boolean(computeLeftSingularVectors);\n        var wantv = Boolean(computeRightSingularVectors);\n\n        var swapped = false;\n        var a;\n        if (m < n) {\n            if (!autoTranspose) {\n                a = value.clone();\n                // eslint-disable-next-line no-console\n                console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');\n            } else {\n                a = value.transpose();\n                m = a.rows;\n                n = a.columns;\n                swapped = true;\n                var aux = wantu;\n                wantu = wantv;\n                wantv = aux;\n            }\n        } else {\n            a = value.clone();\n        }\n\n        var s = new Array(Math.min(m + 1, n));\n        var U = getFilled2DArray(m, nu, 0);\n        var V = getFilled2DArray(n, n, 0);\n        var e = new Array(n);\n        var work = new Array(m);\n\n        var nct = Math.min(m - 1, n);\n        var nrt = Math.max(0, Math.min(n - 2, m));\n\n        var i, j, k, p, t, ks, f, cs, sn, max, kase,\n            scale, sp, spm1, epm1, sk, ek, b, c, shift, g;\n\n        for (k = 0, max = Math.max(nct, nrt); k < max; k++) {\n            if (k < nct) {\n                s[k] = 0;\n                for (i = k; i < m; i++) {\n                    s[k] = hypotenuse(s[k], a[i][k]);\n                }\n                if (s[k] !== 0) {\n                    if (a[k][k] < 0) {\n                        s[k] = -s[k];\n                    }\n                    for (i = k; i < m; i++) {\n                        a[i][k] /= s[k];\n                    }\n                    a[k][k] += 1;\n                }\n                s[k] = -s[k];\n            }\n\n            for (j = k + 1; j < n; j++) {\n                if ((k < nct) && (s[k] !== 0)) {\n                    t = 0;\n                    for (i = k; i < m; i++) {\n                        t += a[i][k] * a[i][j];\n                    }\n                    t = -t / a[k][k];\n                    for (i = k; i < m; i++) {\n                        a[i][j] += t * a[i][k];\n                    }\n                }\n                e[j] = a[k][j];\n            }\n\n            if (wantu && (k < nct)) {\n                for (i = k; i < m; i++) {\n                    U[i][k] = a[i][k];\n                }\n            }\n\n            if (k < nrt) {\n                e[k] = 0;\n                for (i = k + 1; i < n; i++) {\n                    e[k] = hypotenuse(e[k], e[i]);\n                }\n                if (e[k] !== 0) {\n                    if (e[k + 1] < 0) {\n                        e[k] = 0 - e[k];\n                    }\n                    for (i = k + 1; i < n; i++) {\n                        e[i] /= e[k];\n                    }\n                    e[k + 1] += 1;\n                }\n                e[k] = -e[k];\n                if ((k + 1 < m) && (e[k] !== 0)) {\n                    for (i = k + 1; i < m; i++) {\n                        work[i] = 0;\n                    }\n                    for (j = k + 1; j < n; j++) {\n                        for (i = k + 1; i < m; i++) {\n                            work[i] += e[j] * a[i][j];\n                        }\n                    }\n                    for (j = k + 1; j < n; j++) {\n                        t = -e[j] / e[k + 1];\n                        for (i = k + 1; i < m; i++) {\n                            a[i][j] += t * work[i];\n                        }\n                    }\n                }\n                if (wantv) {\n                    for (i = k + 1; i < n; i++) {\n                        V[i][k] = e[i];\n                    }\n                }\n            }\n        }\n\n        p = Math.min(n, m + 1);\n        if (nct < n) {\n            s[nct] = a[nct][nct];\n        }\n        if (m < p) {\n            s[p - 1] = 0;\n        }\n        if (nrt + 1 < p) {\n            e[nrt] = a[nrt][p - 1];\n        }\n        e[p - 1] = 0;\n\n        if (wantu) {\n            for (j = nct; j < nu; j++) {\n                for (i = 0; i < m; i++) {\n                    U[i][j] = 0;\n                }\n                U[j][j] = 1;\n            }\n            for (k = nct - 1; k >= 0; k--) {\n                if (s[k] !== 0) {\n                    for (j = k + 1; j < nu; j++) {\n                        t = 0;\n                        for (i = k; i < m; i++) {\n                            t += U[i][k] * U[i][j];\n                        }\n                        t = -t / U[k][k];\n                        for (i = k; i < m; i++) {\n                            U[i][j] += t * U[i][k];\n                        }\n                    }\n                    for (i = k; i < m; i++) {\n                        U[i][k] = -U[i][k];\n                    }\n                    U[k][k] = 1 + U[k][k];\n                    for (i = 0; i < k - 1; i++) {\n                        U[i][k] = 0;\n                    }\n                } else {\n                    for (i = 0; i < m; i++) {\n                        U[i][k] = 0;\n                    }\n                    U[k][k] = 1;\n                }\n            }\n        }\n\n        if (wantv) {\n            for (k = n - 1; k >= 0; k--) {\n                if ((k < nrt) && (e[k] !== 0)) {\n                    for (j = k + 1; j < n; j++) {\n                        t = 0;\n                        for (i = k + 1; i < n; i++) {\n                            t += V[i][k] * V[i][j];\n                        }\n                        t = -t / V[k + 1][k];\n                        for (i = k + 1; i < n; i++) {\n                            V[i][j] += t * V[i][k];\n                        }\n                    }\n                }\n                for (i = 0; i < n; i++) {\n                    V[i][k] = 0;\n                }\n                V[k][k] = 1;\n            }\n        }\n\n        var pp = p - 1;\n        var iter = 0;\n        var eps = Number.EPSILON;\n        while (p > 0) {\n            for (k = p - 2; k >= -1; k--) {\n                if (k === -1) {\n                    break;\n                }\n                if (Math.abs(e[k]) <= eps * (Math.abs(s[k]) + Math.abs(s[k + 1]))) {\n                    e[k] = 0;\n                    break;\n                }\n            }\n            if (k === p - 2) {\n                kase = 4;\n            } else {\n                for (ks = p - 1; ks >= k; ks--) {\n                    if (ks === k) {\n                        break;\n                    }\n                    t = (ks !== p ? Math.abs(e[ks]) : 0) + (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n                    if (Math.abs(s[ks]) <= eps * t) {\n                        s[ks] = 0;\n                        break;\n                    }\n                }\n                if (ks === k) {\n                    kase = 3;\n                } else if (ks === p - 1) {\n                    kase = 1;\n                } else {\n                    kase = 2;\n                    k = ks;\n                }\n            }\n\n            k++;\n\n            switch (kase) {\n                case 1: {\n                    f = e[p - 2];\n                    e[p - 2] = 0;\n                    for (j = p - 2; j >= k; j--) {\n                        t = hypotenuse(s[j], f);\n                        cs = s[j] / t;\n                        sn = f / t;\n                        s[j] = t;\n                        if (j !== k) {\n                            f = -sn * e[j - 1];\n                            e[j - 1] = cs * e[j - 1];\n                        }\n                        if (wantv) {\n                            for (i = 0; i < n; i++) {\n                                t = cs * V[i][j] + sn * V[i][p - 1];\n                                V[i][p - 1] = -sn * V[i][j] + cs * V[i][p - 1];\n                                V[i][j] = t;\n                            }\n                        }\n                    }\n                    break;\n                }\n                case 2 : {\n                    f = e[k - 1];\n                    e[k - 1] = 0;\n                    for (j = k; j < p; j++) {\n                        t = hypotenuse(s[j], f);\n                        cs = s[j] / t;\n                        sn = f / t;\n                        s[j] = t;\n                        f = -sn * e[j];\n                        e[j] = cs * e[j];\n                        if (wantu) {\n                            for (i = 0; i < m; i++) {\n                                t = cs * U[i][j] + sn * U[i][k - 1];\n                                U[i][k - 1] = -sn * U[i][j] + cs * U[i][k - 1];\n                                U[i][j] = t;\n                            }\n                        }\n                    }\n                    break;\n                }\n                case 3 : {\n                    scale = Math.max(Math.abs(s[p - 1]), Math.abs(s[p - 2]), Math.abs(e[p - 2]), Math.abs(s[k]), Math.abs(e[k]));\n                    sp = s[p - 1] / scale;\n                    spm1 = s[p - 2] / scale;\n                    epm1 = e[p - 2] / scale;\n                    sk = s[k] / scale;\n                    ek = e[k] / scale;\n                    b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n                    c = (sp * epm1) * (sp * epm1);\n                    shift = 0;\n                    if ((b !== 0) || (c !== 0)) {\n                        shift = Math.sqrt(b * b + c);\n                        if (b < 0) {\n                            shift = -shift;\n                        }\n                        shift = c / (b + shift);\n                    }\n                    f = (sk + sp) * (sk - sp) + shift;\n                    g = sk * ek;\n                    for (j = k; j < p - 1; j++) {\n                        t = hypotenuse(f, g);\n                        cs = f / t;\n                        sn = g / t;\n                        if (j !== k) {\n                            e[j - 1] = t;\n                        }\n                        f = cs * s[j] + sn * e[j];\n                        e[j] = cs * e[j] - sn * s[j];\n                        g = sn * s[j + 1];\n                        s[j + 1] = cs * s[j + 1];\n                        if (wantv) {\n                            for (i = 0; i < n; i++) {\n                                t = cs * V[i][j] + sn * V[i][j + 1];\n                                V[i][j + 1] = -sn * V[i][j] + cs * V[i][j + 1];\n                                V[i][j] = t;\n                            }\n                        }\n                        t = hypotenuse(f, g);\n                        cs = f / t;\n                        sn = g / t;\n                        s[j] = t;\n                        f = cs * e[j] + sn * s[j + 1];\n                        s[j + 1] = -sn * e[j] + cs * s[j + 1];\n                        g = sn * e[j + 1];\n                        e[j + 1] = cs * e[j + 1];\n                        if (wantu && (j < m - 1)) {\n                            for (i = 0; i < m; i++) {\n                                t = cs * U[i][j] + sn * U[i][j + 1];\n                                U[i][j + 1] = -sn * U[i][j] + cs * U[i][j + 1];\n                                U[i][j] = t;\n                            }\n                        }\n                    }\n                    e[p - 2] = f;\n                    iter = iter + 1;\n                    break;\n                }\n                case 4: {\n                    if (s[k] <= 0) {\n                        s[k] = (s[k] < 0 ? -s[k] : 0);\n                        if (wantv) {\n                            for (i = 0; i <= pp; i++) {\n                                V[i][k] = -V[i][k];\n                            }\n                        }\n                    }\n                    while (k < pp) {\n                        if (s[k] >= s[k + 1]) {\n                            break;\n                        }\n                        t = s[k];\n                        s[k] = s[k + 1];\n                        s[k + 1] = t;\n                        if (wantv && (k < n - 1)) {\n                            for (i = 0; i < n; i++) {\n                                t = V[i][k + 1];\n                                V[i][k + 1] = V[i][k];\n                                V[i][k] = t;\n                            }\n                        }\n                        if (wantu && (k < m - 1)) {\n                            for (i = 0; i < m; i++) {\n                                t = U[i][k + 1];\n                                U[i][k + 1] = U[i][k];\n                                U[i][k] = t;\n                            }\n                        }\n                        k++;\n                    }\n                    iter = 0;\n                    p--;\n                    break;\n                }\n                // no default\n            }\n        }\n\n        if (swapped) {\n            var tmp = V;\n            V = U;\n            U = tmp;\n        }\n\n        this.m = m;\n        this.n = n;\n        this.s = s;\n        this.U = U;\n        this.V = V;\n    }\n\n    /**\n     * Solve a problem of least square (Ax=b) by using the SVD. Useful when A is singular. When A is not singular, it would be better to use qr.solve(value).\n     * Example : We search to approximate x, with A matrix shape m*n, x vector size n, b vector size m (m > n). We will use :\n     * var svd = SingularValueDecomposition(A);\n     * var x = svd.solve(b);\n     * @param {Matrix} value - Matrix 1D which is the vector b (in the equation Ax = b)\n     * @return {Matrix} - The vector x\n     */\n    solve(value) {\n\n        var Y = value;\n        var e = this.threshold;\n        var scols = this.s.length;\n        var Ls = Matrix.zeros(scols, scols);\n        var i;\n\n        for (i = 0; i < scols; i++) {\n            if (Math.abs(this.s[i]) <= e) {\n                Ls[i][i] = 0;\n            } else {\n                Ls[i][i] = 1 / this.s[i];\n            }\n        }\n\n        var U = this.U;\n        var V = this.rightSingularVectors;\n\n        var VL = V.mmul(Ls);\n        var vrows = V.rows;\n        var urows = U.length;\n        var VLU = Matrix.zeros(vrows, urows);\n        var j, k, sum;\n\n        for (i = 0; i < vrows; i++) {\n            for (j = 0; j < urows; j++) {\n                sum = 0;\n                for (k = 0; k < scols; k++) {\n                    sum += VL[i][k] * U[j][k];\n                }\n                VLU[i][j] = sum;\n            }\n        }\n\n        return VLU.mmul(Y);\n    }\n\n    /**\n     *\n     * @param {Array<number>} value\n     * @return {Matrix}\n     */\n    solveForDiagonal(value) {\n        return this.solve(Matrix.diag(value));\n    }\n\n    /**\n     * Get the inverse of the matrix. We compute the inverse of a matrix using SVD when this matrix is singular or ill-conditioned. Example :\n     * var svd = SingularValueDecomposition(A);\n     * var inverseA = svd.inverse();\n     * @return {Matrix} - The approximation of the inverse of the matrix\n     */\n    inverse() {\n        var V = this.V;\n        var e = this.threshold;\n        var vrows = V.length;\n        var vcols = V[0].length;\n        var X = new Matrix(vrows, this.s.length);\n        var i, j;\n\n        for (i = 0; i < vrows; i++) {\n            for (j = 0; j < vcols; j++) {\n                if (Math.abs(this.s[j]) > e) {\n                    X[i][j] = V[i][j] / this.s[j];\n                } else {\n                    X[i][j] = 0;\n                }\n            }\n        }\n\n        var U = this.U;\n\n        var urows = U.length;\n        var ucols = U[0].length;\n        var Y = new Matrix(vrows, urows);\n        var k, sum;\n\n        for (i = 0; i < vrows; i++) {\n            for (j = 0; j < urows; j++) {\n                sum = 0;\n                for (k = 0; k < ucols; k++) {\n                    sum += X[i][k] * U[j][k];\n                }\n                Y[i][j] = sum;\n            }\n        }\n\n        return Y;\n    }\n\n    /**\n     *\n     * @return {number}\n     */\n    get condition() {\n        return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n    }\n\n    /**\n     *\n     * @return {number}\n     */\n    get norm2() {\n        return this.s[0];\n    }\n\n    /**\n     *\n     * @return {number}\n     */\n    get rank() {\n        var tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n        var r = 0;\n        var s = this.s;\n        for (var i = 0, ii = s.length; i < ii; i++) {\n            if (s[i] > tol) {\n                r++;\n            }\n        }\n        return r;\n    }\n\n    /**\n     *\n     * @return {Array<number>}\n     */\n    get diagonal() {\n        return this.s;\n    }\n\n    /**\n     *\n     * @return {number}\n     */\n    get threshold() {\n        return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get leftSingularVectors() {\n        if (!Matrix.isMatrix(this.U)) {\n            this.U = new Matrix(this.U);\n        }\n        return this.U;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get rightSingularVectors() {\n        if (!Matrix.isMatrix(this.V)) {\n            this.V = new Matrix(this.V);\n        }\n        return this.V;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get diagonalMatrix() {\n        return Matrix.diag(this.s);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/svd.js","export function hypotenuse(a, b) {\n    var r = 0;\n    if (Math.abs(a) > Math.abs(b)) {\n        r = b / a;\n        return Math.abs(a) * Math.sqrt(1 + r * r);\n    }\n    if (b !== 0) {\n        r = a / b;\n        return Math.abs(b) * Math.sqrt(1 + r * r);\n    }\n    return 0;\n}\n\nexport function getFilled2DArray(rows, columns, value) {\n    var array = new Array(rows);\n    for (var i = 0; i < rows; i++) {\n        array[i] = new Array(columns);\n        for (var j = 0; j < columns; j++) {\n            array[i][j] = value;\n        }\n    }\n    return array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/util.js","'use strict';\n\nconst Heap = require('heap');\n\nfunction Cluster() {\n    this.children = [];\n    this.distance = -1;\n    this.index = [];\n}\n\n/**\n * Creates an array of values where maximum distance smaller than the threshold\n * @param {number} threshold\n * @return {Array <Cluster>}\n */\nCluster.prototype.cut = function (threshold) {\n    if (threshold < 0) throw new RangeError('Threshold too small');\n    var root = new Cluster();\n    root.children = this.children;\n    root.distance = this.distance;\n    root.index = this.index;\n    var list = [root];\n    var ans = [];\n    while (list.length > 0) {\n        var aux = list.shift();\n        if (threshold >= aux.distance) {\n            ans.push(aux);\n        } else {\n            list = list.concat(aux.children);\n        }\n    }\n    return ans;\n};\n\n/**\n * Merge the leaves in the minimum way to have 'minGroups' number of clusters\n * @param {number} minGroups - Them minimum number of children the first level of the tree should have\n * @return {Cluster}\n */\nCluster.prototype.group = function (minGroups) {\n    if (!Number.isInteger(minGroups) || minGroups < 1) throw new RangeError('Number of groups must be a positive integer');\n\n    const heap = new Heap(function (a, b) {\n        return b.distance - a.distance;\n    });\n\n    heap.push(this);\n\n    while (heap.size() < minGroups) {\n        var first = heap.pop();\n        if (first.children.length === 0) {\n            break;\n        }\n        first.children.forEach(child => heap.push(child));\n    }\n\n    var root = new Cluster();\n    root.children = heap.toArray();\n    root.distance = this.distance;\n\n    return root;\n};\n\n/**\n * Traverses the tree depth-first and provide callback to be called on each individual node\n * @param {function} cb - The callback to be called on each node encounter\n * @type {Cluster}\n */\nCluster.prototype.traverse = function (cb) {\n    function visit(root, callback) {\n        callback(root);\n        if (root.children) {\n            for (var i = root.children.length - 1; i >= 0; i--) {\n                visit(root.children[i], callback);\n            }\n        }\n    }\n    visit(this, cb);\n};\n\nmodule.exports = Cluster;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/Cluster.js","'use strict';\n\nconst Matrix = require('ml-matrix').Matrix;\n\nconst GaussianKernel = require('ml-kernel-gaussian');\nconst PolynomialKernel = require('ml-kernel-polynomial');\nconst ANOVAKernel = require('./kernels/anova-kernel');\nconst CauchyKernel = require('./kernels/cauchy-kernel');\nconst ExponentialKernel = require('./kernels/exponential-kernel');\nconst HistogramKernel = require('./kernels/histogram-intersection-kernel');\nconst LaplacianKernel = require('./kernels/laplacian-kernel');\nconst MultiquadraticKernel = require('./kernels/multiquadratic-kernel');\nconst RationalKernel = require('./kernels/rational-quadratic-kernel');\nconst SigmoidKernel = require('ml-kernel-sigmoid');\n\nconst kernelType = {\n    gaussian: GaussianKernel,\n    rbf: GaussianKernel,\n    polynomial: PolynomialKernel,\n    poly: PolynomialKernel,\n    anova: ANOVAKernel,\n    cauchy: CauchyKernel,\n    exponential: ExponentialKernel,\n    histogram: HistogramKernel,\n    min: HistogramKernel,\n    laplacian: LaplacianKernel,\n    multiquadratic: MultiquadraticKernel,\n    rational: RationalKernel,\n    sigmoid: SigmoidKernel,\n    mlp: SigmoidKernel\n};\n\nclass Kernel {\n    constructor(type, options) {\n        this.kernelType = type;\n        if (type === 'linear') return;\n\n        if (typeof type === 'string') {\n            type = type.toLowerCase();\n\n            var KernelConstructor = kernelType[type];\n            if (KernelConstructor) {\n                this.kernelFunction = new KernelConstructor(options);\n            } else {\n                throw new Error('unsupported kernel type: ' + type);\n            }\n        } else if (typeof type === 'object' && typeof type.compute === 'function') {\n            this.kernelFunction = type;\n        } else {\n            throw new TypeError('first argument must be a valid kernel type or instance');\n        }\n    }\n\n    compute(inputs, landmarks) {\n        if (landmarks === undefined) {\n            landmarks = inputs;\n        }\n\n        if (this.kernelType === 'linear') {\n            var matrix = new Matrix(inputs);\n            return matrix.mmul(new Matrix(landmarks).transposeView());\n        }\n\n        const kernelMatrix = new Matrix(inputs.length, landmarks.length);\n        var i, j;\n        if (inputs === landmarks) { // fast path, matrix is symmetric\n            for (i = 0; i < inputs.length; i++) {\n                for (j = i; j < inputs.length; j++) {\n                    kernelMatrix[i][j] = kernelMatrix[j][i] = this.kernelFunction.compute(inputs[i], inputs[j]);\n                }\n            }\n        } else {\n            for (i = 0; i < inputs.length; i++) {\n                for (j = 0; j < landmarks.length; j++) {\n                    kernelMatrix[i][j] = this.kernelFunction.compute(inputs[i], landmarks[j]);\n                }\n            }\n        }\n        return kernelMatrix;\n    }\n}\n\nmodule.exports = Kernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernel.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\n\nexport default class SimpleLinearRegression extends BaseRegression {\n    constructor(x, y) {\n        super();\n        if (x === true) {\n            this.slope = y.slope;\n            this.intercept = y.intercept;\n            this.coefficients = [y.intercept, y.slope];\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y);\n        }\n    }\n\n    toJSON() {\n        return {\n            name: 'simpleLinearRegression',\n            slope: this.slope,\n            intercept: this.intercept\n        };\n    }\n\n    _predict(x) {\n        return this.slope * x + this.intercept;\n    }\n\n    computeX(y) {\n        return (y - this.intercept) / this.slope;\n    }\n\n    toString(precision) {\n        let result = 'f(x) = ';\n        if (this.slope !== 0) {\n            const xFactor = maybeToPrecision(this.slope, precision);\n            result += (xFactor === '1' ? '' : xFactor + ' * ') + 'x';\n            if (this.intercept) {\n                const absIntercept = Math.abs(this.intercept);\n                const operator = absIntercept === this.intercept ? '+' : '-';\n                result += ` ${operator} ${maybeToPrecision(absIntercept, precision)}`;\n            }\n        } else {\n            result += maybeToPrecision(this.intercept, precision);\n        }\n        return result;\n    }\n\n    toLaTeX(precision) {\n        return this.toString(precision);\n    }\n\n    static load(json) {\n        if (json.name !== 'simpleLinearRegression') {\n            throw new TypeError('not a SLR model');\n        }\n        return new SimpleLinearRegression(true, json);\n    }\n}\n\nfunction regress(slr, x, y) {\n    const n = x.length;\n    let xSum = 0;\n    let ySum = 0;\n\n    let xSquared = 0;\n    let xY = 0;\n\n    for (let i = 0; i < n; i++) {\n        xSum += x[i];\n        ySum += y[i];\n        xSquared += x[i] * x[i];\n        xY += x[i] * y[i];\n    }\n\n    const numerator = (n * xY - xSum * ySum);\n    slr.slope = numerator / (n * xSquared - xSum * xSum);\n    slr.intercept = (1 / n) * ySum - slr.slope * (1 / n) * xSum;\n    slr.coefficients = [slr.intercept, slr.slope];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-simple-linear/src/index.js","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/extend/index.js","import AbstractMatrix from '../abstractMatrix';\nimport Matrix from '../matrix';\n\nexport default class WrapperMatrix1D extends AbstractMatrix() {\n    /**\n     * @class WrapperMatrix1D\n     * @param {Array<number>} data\n     * @param {object} [options]\n     * @param {object} [options.rows = 1]\n     */\n    constructor(data, options = {}) {\n        const {\n            rows = 1\n        } = options;\n\n        if (data.length % rows !== 0) {\n            throw new Error('the data length is not divisible by the number of rows');\n        }\n        super();\n        this.rows = rows;\n        this.columns = data.length / rows;\n        this.data = data;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        var index = this._calculateIndex(rowIndex, columnIndex);\n        this.data[index] = value;\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        var index = this._calculateIndex(rowIndex, columnIndex);\n        return this.data[index];\n    }\n\n    _calculateIndex(row, column) {\n        return (row * this.columns) + column;\n    }\n\n    static get [Symbol.species]() {\n        return Matrix;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/wrap/WrapperMatrix1D.js","import AbstractMatrix from '../abstractMatrix';\nimport Matrix from '../matrix';\n\nexport default class WrapperMatrix2D extends AbstractMatrix() {\n    /**\n     * @class WrapperMatrix2D\n     * @param {Array<Array<number>>} data\n     */\n    constructor(data) {\n        super();\n        this.data = data;\n        this.rows = data.length;\n        this.columns = data[0].length;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.data[rowIndex][columnIndex] = value;\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.data[rowIndex][columnIndex];\n    }\n\n    static get [Symbol.species]() {\n        return Matrix;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","import {Matrix, WrapperMatrix2D} from '../index';\nimport {hypotenuse} from './util';\n\n/**\n * @class QrDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/QrDecomposition.cs\n * @param {Matrix} value\n */\nexport default class QrDecomposition {\n    constructor(value) {\n        value = WrapperMatrix2D.checkMatrix(value);\n\n        var qr = value.clone();\n        var m = value.rows;\n        var n = value.columns;\n        var rdiag = new Array(n);\n        var i, j, k, s;\n\n        for (k = 0; k < n; k++) {\n            var nrm = 0;\n            for (i = k; i < m; i++) {\n                nrm = hypotenuse(nrm, qr.get(i, k));\n            }\n            if (nrm !== 0) {\n                if (qr.get(k, k) < 0) {\n                    nrm = -nrm;\n                }\n                for (i = k; i < m; i++) {\n                    qr.set(i, k, qr.get(i, k) / nrm);\n                }\n                qr.set(k, k, qr.get(k, k) + 1);\n                for (j = k + 1; j < n; j++) {\n                    s = 0;\n                    for (i = k; i < m; i++) {\n                        s += qr.get(i, k) * qr.get(i, j);\n                    }\n                    s = -s / qr.get(k, k);\n                    for (i = k; i < m; i++) {\n                        qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n                    }\n                }\n            }\n            rdiag[k] = -nrm;\n        }\n\n        this.QR = qr;\n        this.Rdiag = rdiag;\n    }\n\n    /**\n     * Solve a problem of least square (Ax=b) by using the QR decomposition. Useful when A is rectangular, but not working when A is singular.\n     * Example : We search to approximate x, with A matrix shape m*n, x vector size n, b vector size m (m > n). We will use :\n     * var qr = QrDecomposition(A);\n     * var x = qr.solve(b);\n     * @param {Matrix} value - Matrix 1D which is the vector b (in the equation Ax = b)\n     * @return {Matrix} - The vector x\n     */\n    solve(value) {\n        value = Matrix.checkMatrix(value);\n\n        var qr = this.QR;\n        var m = qr.rows;\n\n        if (value.rows !== m) {\n            throw new Error('Matrix row dimensions must agree');\n        }\n        if (!this.isFullRank()) {\n            throw new Error('Matrix is rank deficient');\n        }\n\n        var count = value.columns;\n        var X = value.clone();\n        var n = qr.columns;\n        var i, j, k, s;\n\n        for (k = 0; k < n; k++) {\n            for (j = 0; j < count; j++) {\n                s = 0;\n                for (i = k; i < m; i++) {\n                    s += qr[i][k] * X[i][j];\n                }\n                s = -s / qr[k][k];\n                for (i = k; i < m; i++) {\n                    X[i][j] += s * qr[i][k];\n                }\n            }\n        }\n        for (k = n - 1; k >= 0; k--) {\n            for (j = 0; j < count; j++) {\n                X[k][j] /= this.Rdiag[k];\n            }\n            for (i = 0; i < k; i++) {\n                for (j = 0; j < count; j++) {\n                    X[i][j] -= X[k][j] * qr[i][k];\n                }\n            }\n        }\n\n        return X.subMatrix(0, n - 1, 0, count - 1);\n    }\n\n    /**\n     *\n     * @return {boolean}\n     */\n    isFullRank() {\n        var columns = this.QR.columns;\n        for (var i = 0; i < columns; i++) {\n            if (this.Rdiag[i] === 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get upperTriangularMatrix() {\n        var qr = this.QR;\n        var n = qr.columns;\n        var X = new Matrix(n, n);\n        var i, j;\n        for (i = 0; i < n; i++) {\n            for (j = 0; j < n; j++) {\n                if (i < j) {\n                    X[i][j] = qr[i][j];\n                } else if (i === j) {\n                    X[i][j] = this.Rdiag[i];\n                } else {\n                    X[i][j] = 0;\n                }\n            }\n        }\n        return X;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get orthogonalMatrix() {\n        var qr = this.QR;\n        var rows = qr.rows;\n        var columns = qr.columns;\n        var X = new Matrix(rows, columns);\n        var i, j, k, s;\n\n        for (k = columns - 1; k >= 0; k--) {\n            for (i = 0; i < rows; i++) {\n                X[i][k] = 0;\n            }\n            X[k][k] = 1;\n            for (j = k; j < columns; j++) {\n                if (qr[k][k] !== 0) {\n                    s = 0;\n                    for (i = k; i < rows; i++) {\n                        s += qr[i][k] * X[i][j];\n                    }\n\n                    s = -s / qr[k][k];\n\n                    for (i = k; i < rows; i++) {\n                        X[i][j] += s * qr[i][k];\n                    }\n                }\n            }\n        }\n        return X;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/qr.js","import Matrix from 'ml-matrix';\nimport * as Utils from './utils';\nimport mean from 'ml-array-mean';\n\nconst gainFunctions = {\n    gini: Utils.giniGain,\n    regression: Utils.regressionError\n};\n\nconst splitFunctions = {\n    mean: Utils.mean\n};\n\nexport default class TreeNode {\n\n    /**\n     * @private\n     * Constructor for a tree node given the options received on the main classes (DecisionTreeClassifier, DecisionTreeRegression)\n     * @param {object|TreeNode} options for loading\n     * @constructor\n     */\n    constructor(options) {\n        // options parameters\n        this.kind = options.kind;\n        this.gainFunction = options.gainFunction;\n        this.splitFunction = options.splitFunction;\n        this.minNumSamples = options.minNumSamples;\n        this.maxDepth = options.maxDepth;\n    }\n\n    /**\n     * @private\n     * Function that retrieve the best feature to make the split.\n     * @param {Matrix} XTranspose - Training set transposed\n     * @param {Array} y - labels or values (depending of the decision tree)\n     * @return {object} - return tree values, the best gain, column and the split value.\n     */\n    bestSplit(XTranspose, y) {\n\n        // Depending in the node tree class, we set the variables to check information gain (to classify)\n        // or error (for regression)\n\n        var bestGain = this.kind === 'classifier' ? -Infinity : Infinity;\n        var check = this.kind === 'classifier' ? (a, b) => a > b : (a, b) => a < b;\n\n\n        var maxColumn;\n        var maxValue;\n\n        for (var i = 0; i < XTranspose.rows; ++i) {\n            var currentFeature = XTranspose[i];\n            var splitValues = this.featureSplit(currentFeature, y);\n            for (var j = 0; j < splitValues.length; ++j) {\n                var currentSplitVal = splitValues[j];\n                var splitted = this.split(currentFeature, y, currentSplitVal);\n\n                var gain = gainFunctions[this.gainFunction](y, splitted);\n                if (check(gain, bestGain)) {\n                    maxColumn = i;\n                    maxValue = currentSplitVal;\n                    bestGain = gain;\n                }\n            }\n        }\n\n        return {\n            maxGain: bestGain,\n            maxColumn: maxColumn,\n            maxValue: maxValue\n        };\n    }\n\n    /**\n     * @private\n     * Makes the split of the training labels or values from the training set feature given a split value.\n     * @param {Array} x - Training set feature\n     * @param {Array} y - Training set value or label\n     * @param {number} splitValue\n     * @return {object}\n     */\n\n    split(x, y, splitValue) {\n        var lesser = [];\n        var greater = [];\n\n        for (var i = 0; i < x.length; ++i) {\n            if (x[i] < splitValue) {\n                lesser.push(y[i]);\n            } else {\n                greater.push(y[i]);\n            }\n        }\n\n        return {\n            greater: greater,\n            lesser: lesser\n        };\n    }\n\n    /**\n     * @private\n     * Calculates the possible points to split over the tree given a training set feature and corresponding labels or values.\n     * @param {Array} x - Training set feature\n     * @param {Array} y - Training set value or label\n     * @return {Array} possible split values.\n     */\n    featureSplit(x, y) {\n        var splitValues = [];\n        var arr = Utils.zip(x, y);\n        arr.sort(function (a, b) {\n            return a[0] - b[0];\n        });\n\n        for (var i = 1; i < arr.length; ++i) {\n            if (arr[i - 1][1] !== arr[i][1]) {\n                splitValues.push(splitFunctions[this.splitFunction](arr[i - 1][0], arr[i][0]));\n            }\n        }\n\n        return splitValues;\n    }\n\n    /**\n     * @private\n     * Calculate the predictions of a leaf tree node given the training labels or values\n     * @param {Array} y\n     */\n    calculatePrediction(y) {\n        if (this.kind === 'classifier') {\n            this.distribution = Utils.toDiscreteDistribution(y, Utils.getNumberOfClasses(y));\n            if (this.distribution.columns === 0) {\n                throw new TypeError('Error on calculate the prediction');\n            }\n        } else {\n            this.distribution = mean(y);\n        }\n    }\n\n    /**\n     * @private\n     * Train a node given the training set and labels, because it trains recursively, it also receive\n     * the current depth of the node, parent gain to avoid infinite recursion and boolean value to check if\n     * the training set is transposed.\n     * @param {Matrix} X - Training set (could be transposed or not given transposed).\n     * @param {Array} y - Training labels or values.\n     * @param {number} currentDepth - Current depth of the node.\n     * @param {number} parentGain - parent node gain or error.\n     */\n    train(X, y, currentDepth, parentGain) {\n        if (X.rows <= this.minNumSamples) {\n            this.calculatePrediction(y);\n            return;\n        }\n        if (parentGain === undefined) parentGain = 0.0;\n\n        var XTranspose = X.transpose();\n        var split = this.bestSplit(XTranspose, y);\n\n        this.splitValue = split.maxValue;\n        this.splitColumn = split.maxColumn;\n        this.gain = split.maxGain;\n\n        var splittedMatrix = Utils.matrixSplitter(X, y, this.splitColumn, this.splitValue);\n\n        if (currentDepth < this.maxDepth &&\n            (this.gain > 0.01 && this.gain !== parentGain) &&\n            (splittedMatrix.lesserX.length > 0 && splittedMatrix.greaterX.length > 0)) {\n            this.left = new TreeNode(this);\n            this.right = new TreeNode(this);\n\n            var lesserX = new Matrix(splittedMatrix.lesserX);\n            var greaterX = new Matrix(splittedMatrix.greaterX);\n\n            this.left.train(lesserX, splittedMatrix.lesserY, currentDepth + 1, this.gain);\n            this.right.train(greaterX, splittedMatrix.greaterY, currentDepth + 1, this.gain);\n        } else {\n            this.calculatePrediction(y);\n        }\n    }\n\n    /**\n     * @private\n     * Calculates the prediction of a given element.\n     * @param {Array} row\n     * @return {number|Array} prediction\n     *          * if a node is a classifier returns an array of probabilities of each class.\n     *          * if a node is for regression returns a number with the prediction.\n     */\n    classify(row) {\n        if (this.right && this.left) {\n            if (row[this.splitColumn] < this.splitValue) {\n                return this.left.classify(row);\n            } else {\n                return this.right.classify(row);\n            }\n        }\n\n        return this.distribution;\n    }\n\n    /**\n     * @private\n     * Set the parameter of the current node and their children.\n     * @param {object} node - parameters of the current node and the children.\n     */\n    setNodeParameters(node) {\n        if (node.distribution !== undefined) {\n            this.distribution = node.distribution.constructor === Array ? new Matrix(node.distribution) :\n                                                                          node.distribution;\n        } else {\n            this.distribution = undefined;\n            this.splitValue = node.splitValue;\n            this.splitColumn = node.splitColumn;\n            this.gain = node.gain;\n\n            this.left = new TreeNode(this);\n            this.right = new TreeNode(this);\n\n            if (node.left !== {}) {\n                this.left.setNodeParameters(node.left);\n            }\n            if (node.right !== {}) {\n                this.right.setNodeParameters(node.right);\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/TreeNode.js","/**\n * Computes the mean of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function mean(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var sum = 0;\n    for (var i = 0; i < input.length; i++) {\n        sum += input[i];\n    }\n    return sum / input.length;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-mean/src/index.js","'use strict';\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\n/**\n * Computes the sum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.sum = function sum(values) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n        sum += values[i];\n    }\n    return sum;\n};\n\n/**\n * Computes the maximum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.max = function max(values) {\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] > max) max = values[i];\n    }\n    return max;\n};\n\n/**\n * Computes the minimum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.min = function min(values) {\n    var min = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n    }\n    return min;\n};\n\n/**\n * Computes the min and max of the given values\n * @param {Array} values\n * @returns {{min: number, max: number}}\n */\nexports.minMax = function minMax(values) {\n    var min = values[0];\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n        if (values[i] > max) max = values[i];\n    }\n    return {\n        min: min,\n        max: max\n    };\n};\n\n/**\n * Computes the arithmetic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.arithmeticMean = function arithmeticMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        sum += values[i];\n    }\n    return sum / l;\n};\n\n/**\n * {@link arithmeticMean}\n */\nexports.mean = exports.arithmeticMean;\n\n/**\n * Computes the geometric mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.geometricMean = function geometricMean(values) {\n    var mul = 1;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        mul *= values[i];\n    }\n    return Math.pow(mul, 1 / l);\n};\n\n/**\n * Computes the mean of the log of the given values\n * If the return value is exponentiated, it gives the same result as the\n * geometric mean.\n * @param {Array} values\n * @returns {number}\n */\nexports.logMean = function logMean(values) {\n    var lnsum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        lnsum += Math.log(values[i]);\n    }\n    return lnsum / l;\n};\n\n/**\n * Computes the weighted grand mean for a list of means and sample sizes\n * @param {Array} means - Mean values for each set of samples\n * @param {Array} samples - Number of original values for each set of samples\n * @returns {number}\n */\nexports.grandMean = function grandMean(means, samples) {\n    var sum = 0;\n    var n = 0;\n    var l = means.length;\n    for (var i = 0; i < l; i++) {\n        sum += samples[i] * means[i];\n        n += samples[i];\n    }\n    return sum / n;\n};\n\n/**\n * Computes the truncated mean of the given values using a given percentage\n * @param {Array} values\n * @param {number} percent - The percentage of values to keep (range: [0,1])\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.truncatedMean = function truncatedMean(values, percent, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var k = Math.floor(l * percent);\n    var sum = 0;\n    for (var i = k; i < (l - k); i++) {\n        sum += values[i];\n    }\n    return sum / (l - 2 * k);\n};\n\n/**\n * Computes the harmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.harmonicMean = function harmonicMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] === 0) {\n            throw new RangeError('value at index ' + i + 'is zero');\n        }\n        sum += 1 / values[i];\n    }\n    return l / sum;\n};\n\n/**\n * Computes the contraharmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.contraHarmonicMean = function contraHarmonicMean(values) {\n    var r1 = 0;\n    var r2 = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        r1 += values[i] * values[i];\n        r2 += values[i];\n    }\n    if (r2 < 0) {\n        throw new RangeError('sum of values is negative');\n    }\n    return r1 / r2;\n};\n\n/**\n * Computes the median of the given values\n * @param {Array} values\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.median = function median(values, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return (values[half - 1] + values[half]) * 0.5;\n    } else {\n        return values[half];\n    }\n};\n\n/**\n * Computes the variance of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.variance = function variance(values, unbiased) {\n    if (unbiased === undefined) unbiased = true;\n    var theMean = exports.mean(values);\n    var theVariance = 0;\n    var l = values.length;\n\n    for (var i = 0; i < l; i++) {\n        var x = values[i] - theMean;\n        theVariance += x * x;\n    }\n\n    if (unbiased) {\n        return theVariance / (l - 1);\n    } else {\n        return theVariance / l;\n    }\n};\n\n/**\n * Computes the standard deviation of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.standardDeviation = function standardDeviation(values, unbiased) {\n    return Math.sqrt(exports.variance(values, unbiased));\n};\n\nexports.standardError = function standardError(values) {\n    return exports.standardDeviation(values) / Math.sqrt(values.length);\n};\n\n/**\n * IEEE Transactions on biomedical engineering, vol. 52, no. 1, january 2005, p. 76-\n * Calculate the standard deviation via the Median of the absolute deviation\n *  The formula for the standard deviation only holds for Gaussian random variables.\n * @returns {{mean: number, stdev: number}}\n */\nexports.robustMeanAndStdev = function robustMeanAndStdev(y) {\n    var mean = 0, stdev = 0;\n    var length = y.length, i = 0;\n    for (i = 0; i < length; i++) {\n        mean += y[i];\n    }\n    mean /= length;\n    var averageDeviations = new Array(length);\n    for (i = 0; i < length; i++)\n        averageDeviations[i] = Math.abs(y[i] - mean);\n    averageDeviations.sort(compareNumbers);\n    if (length % 2 === 1) {\n        stdev = averageDeviations[(length - 1) / 2] / 0.6745;\n    } else {\n        stdev = 0.5 * (averageDeviations[length / 2] + averageDeviations[length / 2 - 1]) / 0.6745;\n    }\n\n    return {\n        mean: mean,\n        stdev: stdev\n    };\n};\n\nexports.quartiles = function quartiles(values, alreadySorted) {\n    if (typeof (alreadySorted) === 'undefined') alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n\n    var quart = values.length / 4;\n    var q1 = values[Math.ceil(quart) - 1];\n    var q2 = exports.median(values, true);\n    var q3 = values[Math.ceil(quart * 3) - 1];\n\n    return {q1: q1, q2: q2, q3: q3};\n};\n\nexports.pooledStandardDeviation = function pooledStandardDeviation(samples, unbiased) {\n    return Math.sqrt(exports.pooledVariance(samples, unbiased));\n};\n\nexports.pooledVariance = function pooledVariance(samples, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var sum = 0;\n    var length = 0, l = samples.length;\n    for (var i = 0; i < l; i++) {\n        var values = samples[i];\n        var vari = exports.variance(values);\n\n        sum += (values.length - 1) * vari;\n\n        if (unbiased)\n            length += values.length - 1;\n        else\n            length += values.length;\n    }\n    return sum / length;\n};\n\nexports.mode = function mode(values) {\n    var l = values.length,\n        itemCount = new Array(l),\n        i;\n    for (i = 0; i < l; i++) {\n        itemCount[i] = 0;\n    }\n    var itemArray = new Array(l);\n    var count = 0;\n\n    for (i = 0; i < l; i++) {\n        var index = itemArray.indexOf(values[i]);\n        if (index >= 0)\n            itemCount[index]++;\n        else {\n            itemArray[count] = values[i];\n            itemCount[count] = 1;\n            count++;\n        }\n    }\n\n    var maxValue = 0, maxIndex = 0;\n    for (i = 0; i < count; i++) {\n        if (itemCount[i] > maxValue) {\n            maxValue = itemCount[i];\n            maxIndex = i;\n        }\n    }\n\n    return itemArray[maxIndex];\n};\n\nexports.covariance = function covariance(vector1, vector2, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var mean1 = exports.mean(vector1);\n    var mean2 = exports.mean(vector2);\n\n    if (vector1.length !== vector2.length)\n        throw 'Vectors do not have the same dimensions';\n\n    var cov = 0, l = vector1.length;\n    for (var i = 0; i < l; i++) {\n        var x = vector1[i] - mean1;\n        var y = vector2[i] - mean2;\n        cov += x * y;\n    }\n\n    if (unbiased)\n        return cov / (l - 1);\n    else\n        return cov / l;\n};\n\nexports.skewness = function skewness(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n\n    var s2 = 0, s3 = 0, l = values.length;\n    for (var i = 0; i < l; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s3 += dev * dev * dev;\n    }\n    var m2 = s2 / l;\n    var m3 = s3 / l;\n\n    var g = m3 / (Math.pow(m2, 3 / 2.0));\n    if (unbiased) {\n        var a = Math.sqrt(l * (l - 1));\n        var b = l - 2;\n        return (a / b) * g;\n    } else {\n        return g;\n    }\n};\n\nexports.kurtosis = function kurtosis(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n    var n = values.length, s2 = 0, s4 = 0;\n\n    for (var i = 0; i < n; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s4 += dev * dev * dev * dev;\n    }\n    var m2 = s2 / n;\n    var m4 = s4 / n;\n\n    if (unbiased) {\n        var v = s2 / (n - 1);\n        var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n        var b = s4 / (v * v);\n        var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n\n        return a * b - 3 * c;\n    } else {\n        return m4 / (m2 * m2) - 3;\n    }\n};\n\nexports.entropy = function entropy(values, eps) {\n    if (typeof (eps) === 'undefined') eps = 0;\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * Math.log(values[i] + eps);\n    return -sum;\n};\n\nexports.weightedMean = function weightedMean(values, weights) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * weights[i];\n    return sum;\n};\n\nexports.weightedStandardDeviation = function weightedStandardDeviation(values, weights) {\n    return Math.sqrt(exports.weightedVariance(values, weights));\n};\n\nexports.weightedVariance = function weightedVariance(values, weights) {\n    var theMean = exports.weightedMean(values, weights);\n    var vari = 0, l = values.length;\n    var a = 0, b = 0;\n\n    for (var i = 0; i < l; i++) {\n        var z = values[i] - theMean;\n        var w = weights[i];\n\n        vari += w * (z * z);\n        b += w;\n        a += w * w;\n    }\n\n    return vari * (b / (b * b - a));\n};\n\nexports.center = function center(values, inPlace) {\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n\n    var result = values;\n    if (!inPlace)\n        result = [].concat(values);\n\n    var theMean = exports.mean(result), l = result.length;\n    for (var i = 0; i < l; i++)\n        result[i] -= theMean;\n};\n\nexports.standardize = function standardize(values, standardDev, inPlace) {\n    if (typeof (standardDev) === 'undefined') standardDev = exports.standardDeviation(values);\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n    var l = values.length;\n    var result = inPlace ? values : new Array(l);\n    for (var i = 0; i < l; i++)\n        result[i] = values[i] / standardDev;\n    return result;\n};\n\nexports.cumulativeSum = function cumulativeSum(array) {\n    var l = array.length;\n    var result = new Array(l);\n    result[0] = array[0];\n    for (var i = 1; i < l; i++)\n        result[i] = result[i - 1] + array[i];\n    return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-stat/array.js","'use strict';\n\nconst Cluster = require('./Cluster');\nconst util = require('util');\n\nfunction ClusterLeaf(index) {\n    Cluster.call(this);\n    this.index = index;\n    this.distance = 0;\n    this.children = [];\n}\n\nutil.inherits(ClusterLeaf, Cluster);\n\nmodule.exports = ClusterLeaf;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/ClusterLeaf.js","'use strict';\n\n\n/**\n * Computes a distance/similarity matrix given an array of data and a distance/similarity function.\n * @param {Array} data An array of data\n * @param {function} distanceFn  A function that accepts two arguments and computes a distance/similarity between them\n * @return {Array<Array>} The similarity matrix. The similarity matrix is square and has a size equal to the length of\n * the data array\n */\nfunction distanceMatrix(data, distanceFn) {\n    const length = data.length;\n    let result = Array.from({length}).map(() => Array.from({length}));\n\n    // Compute upper distance matrix\n    for (let i = 0; i < length; i++) {\n        for (let j = 0; j <= i; j++) {\n            result[i][j] = distanceFn(data[i], data[j]);\n        }\n    }\n\n    // Copy to lower distance matrix\n    for (let i = 0; i < length; i++) {\n        for (let j = i + 1; j < length; j++) {\n            result[i][j] = result[j][i];\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = distanceMatrix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance-matrix/src/index.js","'use strict';\n\nconst nearestVector = require('ml-nearest-vector');\n\n/**\n * Calculates the distance matrix for a given array of points\n * @ignore\n * @param {Array<Array<Number>>} data - the [x,y,z,...] points to cluster\n * @param {Function} distance - Distance function to use between the points\n * @return {Array<Array<Number>>} - matrix with the distance values\n */\nfunction calculateDistanceMatrix(data, distance) {\n    var distanceMatrix = new Array(data.length);\n    for (var i = 0; i < data.length; ++i) {\n        for (var j = i; j < data.length; ++j) {\n            if (!distanceMatrix[i]) {\n                distanceMatrix[i] = new Array(data.length);\n            }\n            if (!distanceMatrix[j]) {\n                distanceMatrix[j] = new Array(data.length);\n            }\n            const dist = distance(data[i], data[j]);\n            distanceMatrix[i][j] = dist;\n            distanceMatrix[j][i] = dist;\n        }\n    }\n    return distanceMatrix;\n}\n\n/**\n * Updates the cluster identifier based in the new data\n * @ignore\n * @param {Array<Array<Number>>} data - the [x,y,z,...] points to cluster\n * @param {Array<Array<Number>>} centers - the K centers in format [x,y,z,...]\n * @param {Array <Number>} clusterID - the cluster identifier for each data dot\n * @param {Function} distance - Distance function to use between the points\n * @returns {Array} the cluster identifier for each data dot\n */\nfunction updateClusterID(data, centers, clusterID, distance) {\n    for (var i = 0; i < data.length; i++) {\n        clusterID[i] = nearestVector(centers, data[i], {distanceFunction: distance});\n    }\n    return clusterID;\n}\n\n/**\n * Update the center values based in the new configurations of the clusters\n * @ignore\n * @param {Array <Array <Number>>} data - the [x,y,z,...] points to cluster\n * @param {Array <Number>} clusterID - the cluster identifier for each data dot\n * @param {Number} K - Number of clusters\n * @returns {Array} he K centers in format [x,y,z,...]\n */\nfunction updateCenters(data, clusterID, K) {\n    const nDim = data[0].length;\n\n    // creates empty centers with 0 size\n    var centers = new Array(K);\n    var centersLen = new Array(K);\n    for (var i = 0; i < K; i++) {\n        centers[i] = new Array(nDim);\n        centersLen[i] = 0;\n        for (var j = 0; j < nDim; j++) {\n            centers[i][j] = 0;\n        }\n    }\n\n    // add the value for all dimensions of the point\n    for (var l = 0; l < data.length; l++) {\n        centersLen[clusterID[l]]++;\n        for (var dim = 0; dim < nDim; dim++) {\n            centers[clusterID[l]][dim] += data[l][dim];\n        }\n    }\n\n    // divides by length\n    for (var id = 0; id < K; id++) {\n        for (var d = 0; d < nDim; d++) {\n            centers[id][d] /= centersLen[id];\n        }\n    }\n    return centers;\n}\n\n/**\n * The centers have moved more than the tolerance value?\n * @ignore\n * @param {Array<Array<Number>>} centers - the K centers in format [x,y,z,...]\n * @param {Array<Array<Number>>} oldCenters - the K old centers in format [x,y,z,...]\n * @param {Function} distanceFunction - Distance function to use between the points\n * @param {Number} tolerance - Allowed distance for the centroids to move\n * @return {boolean}\n */\nfunction converged(centers, oldCenters, distanceFunction, tolerance) {\n    for (var i = 0; i < centers.length; i++) {\n        if (distanceFunction(centers[i], oldCenters[i]) > tolerance) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexports.updateClusterID = updateClusterID;\nexports.updateCenters = updateCenters;\nexports.calculateDistanceMatrix = calculateDistanceMatrix;\nexports.converged = converged;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/utils.js","import Matrix from 'ml-matrix';\n\n/**\n * @private\n * Function that retuns an array of matrices of the cases that belong to each class.\n * @param {Matrix} X - dataset\n * @param {Array} y - predictions\n * @return {Array}\n */\nexport function separateClasses(X, y) {\n    var features = X.columns;\n\n    var classes = 0;\n    var totalPerClasses = new Array(10000); // max upperbound of classes\n    for (var i = 0; i < y.length; i++) {\n        if (totalPerClasses[y[i]] === undefined) {\n            totalPerClasses[y[i]] = 0;\n            classes++;\n        }\n        totalPerClasses[y[i]]++;\n    }\n    var separatedClasses = new Array(classes);\n    var currentIndex = new Array(classes);\n    for (i = 0; i < classes; ++i) {\n        separatedClasses[i] = new Matrix(totalPerClasses[i], features);\n        currentIndex[i] = 0;\n    }\n    for (i = 0; i < X.rows; ++i) {\n        separatedClasses[y[i]].setRow(currentIndex[y[i]], X.getRow(i));\n        currentIndex[y[i]]++;\n    }\n    return separatedClasses;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/utils.js","import Matrix from 'ml-matrix';\nimport Stat from 'ml-stat/matrix';\n\n/**\n * @private\n * Function that given vector, returns his norm\n * @param {Vector} X\n * @return {number} Norm of the vector\n */\nexport function norm(X) {\n    return Math.sqrt(X.clone().apply(pow2array).sum());\n}\n\n/**\n * @private\n * Function that pow 2 each element of a Matrix or a Vector,\n * used in the apply method of the Matrix object\n * @param {number} i - index i.\n * @param {number} j - index j.\n * @return {Matrix} The Matrix object modified at the index i, j.\n * */\nexport function pow2array(i, j) {\n    this[i][j] = this[i][j] * this[i][j];\n    return this;\n}\n\n/**\n * @private\n * Function that normalize the dataset and return the means and\n * standard deviation of each feature.\n * @param {Matrix} dataset\n * @return {object} dataset normalized, means and standard deviations\n */\nexport function featureNormalize(dataset) {\n    var means = Stat.mean(dataset);\n    var std = Stat.standardDeviation(dataset, means, true);\n    var result = Matrix.checkMatrix(dataset).subRowVector(means);\n    return {result: result.divRowVector(std), means: means, std: std};\n}\n\n/**\n * @private\n * Function that initialize an array of matrices.\n * @param {Array} array\n * @param {boolean} isMatrix\n * @return {Array} array with the matrices initialized.\n */\nexport function initializeMatrices(array, isMatrix) {\n    if (isMatrix) {\n        for (var i = 0; i < array.length; ++i) {\n            for (var j = 0; j < array[i].length; ++j) {\n                var elem = array[i][j];\n                array[i][j] = elem !== null ? new Matrix(array[i][j]) : undefined;\n            }\n        }\n    } else {\n        for (i = 0; i < array.length; ++i) {\n            array[i] = new Matrix(array[i]);\n        }\n    }\n\n    return array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/utils.js","/**\n *  Constructs a confusion matrix\n * @class ConfusionMatrix\n * @example\n * const CM = new ConfusionMatrix([[13, 2], [10, 5]], ['cat', 'dog'])\n * @param {Array<Array<number>>} matrix - The confusion matrix, a 2D Array. Rows represent the actual label and columns\n *     the predicted label.\n * @param {Array<any>} labels - Labels of the confusion matrix, a 1D Array\n */\nclass ConfusionMatrix {\n    constructor(matrix, labels) {\n        if (matrix.length !== matrix[0].length) {\n            throw new Error('Confusion matrix must be square');\n        }\n        if (labels.length !== matrix.length) {\n            throw new Error('Confusion matrix and labels should have the same length');\n        }\n        this.labels = labels;\n        this.matrix = matrix;\n    }\n\n\n    /**\n     * Construct confusion matrix from the predicted and actual labels (classes). Be sure to provide the arguments in\n     * the correct order!\n     * @param {Array<any>} actual  - The predicted labels of the classification\n     * @param {Array<any>} predicted     - The actual labels of the classification. Has to be of same length as\n     *     predicted.\n     * @param {object} [options] - Additional options\n     * @param {Array<any>} [options.labels] - The list of labels that should be used. If not provided the distinct set\n     *     of labels present in predicted and actual is used. Labels are compared using the strict equality operator\n     *     '==='\n     * @return {ConfusionMatrix} - Confusion matrix\n     */\n    static fromLabels(actual, predicted, options = {}) {\n        if (predicted.length !== actual.length) {\n            throw new Error('predicted and actual must have the same length');\n        }\n        let distinctLabels;\n        if (options.labels) {\n            distinctLabels = new Set(options.labels);\n        } else {\n            distinctLabels = new Set([...actual, ...predicted]);\n        }\n        distinctLabels = Array.from(distinctLabels);\n        if (options.sort) {\n            distinctLabels.sort(options.sort);\n        }\n\n        // Create confusion matrix and fill with 0's\n        const matrix = Array.from({length: distinctLabels.length});\n        for (let i = 0; i < matrix.length; i++) {\n            matrix[i] = new Array(matrix.length);\n            matrix[i].fill(0);\n        }\n\n        for (let i = 0; i < predicted.length; i++) {\n            const actualIdx = distinctLabels.indexOf(actual[i]);\n            const predictedIdx = distinctLabels.indexOf(predicted[i]);\n            if (actualIdx >= 0 && predictedIdx >= 0) {\n                matrix[actualIdx][predictedIdx]++;\n            }\n        }\n\n        return new ConfusionMatrix(matrix, distinctLabels);\n    }\n\n    /**\n     * Get the confusion matrix\n     * @return {Array<Array<number> >}\n     */\n    getMatrix() {\n        return this.matrix;\n    }\n\n    getLabels() {\n        return this.labels;\n    }\n\n    /**\n     * Get the total number of samples\n     * @return {number}\n     */\n    getTotalCount() {\n        let predicted = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            for (var j = 0; j < this.matrix.length; j++) {\n                predicted += this.matrix[i][j];\n            }\n        }\n        return predicted;\n    }\n\n    /**\n     * Get the total number of true predictions\n     * @return {number}\n     */\n    getTrueCount() {\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            count += this.matrix[i][i];\n        }\n        return count;\n    }\n\n    /**\n     * Get the total number of false predictions.\n     * @return {number}\n     */\n    getFalseCount() {\n        return this.getTotalCount() - this.getTrueCount();\n    }\n\n    /**\n     * Get the number of true positive predictions.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getTruePositiveCount(label) {\n        const index = this.getIndex(label);\n        return this.matrix[index][index];\n    }\n\n    /**\n     * Get the number of true negative predictions\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getTrueNegativeCount(label) {\n        const index = this.getIndex(label);\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            for (var j = 0; j < this.matrix.length; j++) {\n                if (i !== index && j !== index) {\n                    count += this.matrix[i][j];\n                }\n            }\n        }\n        return count;\n    }\n\n    /**\n     * Get the number of false positive predictions.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalsePositiveCount(label) {\n        const index = this.getIndex(label);\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            if (i !== index) {\n                count += this.matrix[i][index];\n            }\n        }\n        return count;\n    }\n\n    /**\n     * Get the number of false negative predictions.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseNegativeCount(label) {\n        const index = this.getIndex(label);\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            if (i !== index) {\n                count += this.matrix[index][i];\n            }\n        }\n        return count;\n    }\n\n    /**\n     * Get the number of real positive samples.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getPositiveCount(label) {\n        return this.getTruePositiveCount(label) + this.getFalseNegativeCount(label);\n    }\n\n    /**\n     * Get the number of real negative samples.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getNegativeCount(label) {\n        return this.getTrueNegativeCount(label) + this.getFalsePositiveCount(label);\n    }\n\n    /**\n     * Get the index in the confusion matrix that corresponds to the given label\n     * @param {any} label - The label to search for\n     * @throws if the label is not found\n     * @return {number}\n     */\n    getIndex(label) {\n        const index = this.labels.indexOf(label);\n        if (index === -1) throw new Error('The label does not exist');\n        return index;\n    }\n\n    /**\n     * Get the true positive rate a.k.a. sensitivity. Computes the ratio between the number of true positive predictions and the total number of positive samples.\n     * {@link https://en.wikipedia.org/wiki/Sensitivity_and_specificity}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number} - The true positive rate [0-1]\n     */\n    getTruePositiveRate(label) {\n        return this.getTruePositiveCount(label) / this.getPositiveCount(label);\n    }\n\n    /**\n     * Get the true negative rate a.k.a. specificity. Computes the ration between the number of true negative predictions and the total number of negative samples.\n     * {@link https://en.wikipedia.org/wiki/Sensitivity_and_specificity}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getTrueNegativeRate(label) {\n        return this.getTrueNegativeCount(label) / this.getNegativeCount(label);\n    }\n\n    /**\n     * Get the positive predictive value a.k.a. precision. Computes TP / (TP + FP)\n     * {@link https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getPositivePredictiveValue(label) {\n        const TP = this.getTruePositiveCount(label);\n        return TP / (TP + this.getFalsePositiveCount(label));\n    }\n\n    /**\n     * Negative predictive value\n     * {@link https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getNegativePredictiveValue(label) {\n        const TN = this.getTrueNegativeCount(label);\n        return TN / (TN + this.getFalseNegativeCount(label));\n    }\n\n    /**\n     * False negative rate a.k.a. miss rate.\n     * {@link https://en.wikipedia.org/wiki/Type_I_and_type_II_errors#False_positive_and_false_negative_rates}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseNegativeRate(label) {\n        return 1 - this.getTruePositiveRate(label);\n    }\n\n    /**\n     * False positive rate a.k.a. fall-out rate.\n     * {@link https://en.wikipedia.org/wiki/Type_I_and_type_II_errors#False_positive_and_false_negative_rates}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalsePositiveRate(label) {\n        return 1 - this.getTrueNegativeRate(label);\n    }\n\n    /**\n     * False discovery rate (FDR)\n     * {@link https://en.wikipedia.org/wiki/False_discovery_rate}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseDiscoveryRate(label) {\n        const FP = this.getFalsePositiveCount(label);\n        return FP / (FP + this.getTruePositiveCount(label));\n    }\n\n    /**\n     * False omission rate (FOR)\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseOmissionRate(label) {\n        const FN = this.getFalseNegativeCount(label);\n        return FN / (FN + this.getTruePositiveCount(label));\n    }\n\n    /**\n     * F1 score\n     * {@link https://en.wikipedia.org/wiki/F1_score}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getF1Score(label) {\n        const TP = this.getTruePositiveCount(label);\n        return 2 * TP / (2 * TP + this.getFalsePositiveCount(label) + this.getFalseNegativeCount(label));\n    }\n\n    /**\n     * Matthews correlation coefficient (MCC)\n     * {@link https://en.wikipedia.org/wiki/Matthews_correlation_coefficient}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getMatthewsCorrelationCoefficient(label) {\n        const TP = this.getTruePositiveCount(label);\n        const TN = this.getTrueNegativeCount(label);\n        const FP = this.getFalsePositiveCount(label);\n        const FN = this.getFalseNegativeCount(label);\n        return (TP * TN - FP * FN) / Math.sqrt((TP + FP) * (TP + FN) * (TN + FP) * (TN + FN));\n    }\n\n    /**\n     * Informedness\n     * {@link https://en.wikipedia.org/wiki/Youden%27s_J_statistic}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getInformedness(label) {\n        return this.getTruePositiveRate(label) + this.getTrueNegativeRate(label) - 1;\n    }\n\n    /**\n     * Markedness\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getMarkedness(label) {\n        return this.getPositivePredictiveValue(label) + this.getNegativePredictiveValue(label) - 1;\n    }\n\n    /**\n     * Get the confusion table.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {Array<Array<number> >} - The 2x2 confusion table. [[TP, FN], [FP, TN]]\n     */\n    getConfusionTable(label) {\n        return [\n            [\n                this.getTruePositiveCount(label),\n                this.getFalseNegativeCount(label)\n            ],\n            [\n                this.getFalsePositiveCount(label),\n                this.getTrueNegativeCount(label)\n            ]\n        ];\n    }\n\n    /**\n     * Get total accuracy.\n     * @return {number} - The ratio between the number of true predictions and total number of classifications ([0-1])\n     */\n    getAccuracy() {\n        let correct = 0;\n        let incorrect = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            for (var j = 0; j < this.matrix.length; j++) {\n                if (i === j) correct += this.matrix[i][j];\n                else incorrect += this.matrix[i][j];\n            }\n        }\n        return correct / (correct + incorrect);\n    }\n\n\n    /**\n     * Returns the element in the confusion matrix that corresponds to the given actual and predicted labels.\n     * @param {any} actual - The true label\n     * @param {any} predicted - The predicted label\n     * @return {number} - The element in the confusion matrix\n     */\n    getCount(actual, predicted) {\n        const actualIndex = this.getIndex(actual);\n        const predictedIndex = this.getIndex(predicted);\n        return this.matrix[actualIndex][predictedIndex];\n    }\n\n    /**\n     * Compute the general prediction accuracy\n     * @deprecated Use getAccuracy\n     * @return {number} - The prediction accuracy ([0-1]\n     */\n    get accuracy() {\n        return this.getAccuracy();\n    }\n\n    /**\n     * Compute the number of predicted observations\n     * @deprecated Use getTotalCount\n     * @return {number}\n     */\n    get total() {\n        return this.getTotalCount();\n    }\n}\n\nmodule.exports = ConfusionMatrix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-confusion-matrix/src/index.js","'use strict';\n\nvar Matrix = require('ml-matrix').Matrix;\n\nvar Utils = require('./utils');\nconst ACTIVATION_FUNCTIONS = require('./activationFunctions');\n\nclass Layer {\n    /**\n     * @private\n     * Create a new layer with the given options\n     * @param {object} options\n     * @param {number} [options.inputSize] - Number of conections that enter the neurons.\n     * @param {number} [options.outputSize] - Number of conections that leave the neurons.\n     * @param {number} [options.regularization] - Regularization parameter.\n     * @param {number} [options.epsilon] - Learning rate parameter.\n     * @param {string} [options.activation] - Activation function parameter from the FeedForwardNeuralNetwork class.\n     * @param {number} [options.activationParam] - Activation parameter if needed.\n     */\n    constructor(options) {\n        this.inputSize = options.inputSize;\n        this.outputSize = options.outputSize;\n        this.regularization = options.regularization;\n        this.epsilon = options.epsilon;\n        this.activation = options.activation;\n        this.activationParam = options.activationParam;\n\n        var selectedFunction = ACTIVATION_FUNCTIONS[options.activation];\n        var params = selectedFunction.activation.length;\n\n        var actFunction = params > 1 ? val => selectedFunction.activation(val, options.activationParam) : selectedFunction.activation;\n        var derFunction = params > 1 ? val => selectedFunction.derivate(val, options.activationParam) : selectedFunction.derivate;\n\n        this.activationFunction = function (i, j) {\n            this[i][j] = actFunction(this[i][j]);\n        };\n        this.derivate = function (i, j) {\n            this[i][j] = derFunction(this[i][j]);\n        };\n\n        if (options.model) {\n            // load model\n            this.W = Matrix.checkMatrix(options.W);\n            this.b = Matrix.checkMatrix(options.b);\n\n        } else {\n            // default constructor\n\n            this.W = Matrix.rand(this.inputSize, this.outputSize);\n            this.b = Matrix.zeros(1, this.outputSize);\n\n            this.W.apply(function (i, j) {\n                this[i][j] /= Math.sqrt(options.inputSize);\n            });\n        }\n    }\n\n    /**\n     * @private\n     * propagate the given input through the current layer.\n     * @param {Matrix} X - input.\n     * @return {Matrix} output at the current layer.\n     */\n    forward(X) {\n        var z = X.mmul(this.W).addRowVector(this.b);\n        z.apply(this.activationFunction);\n        this.a = z.clone();\n        return z;\n    }\n\n    /**\n     * @private\n     * apply backpropagation algorithm at the current layer\n     * @param {Matrix} delta - delta values estimated at the following layer.\n     * @param {Matrix} a - 'a' values from the following layer.\n     * @return {Matrix} the new delta values for the next layer.\n     */\n    backpropagation(delta, a) {\n        this.dW = a.transposeView().mmul(delta);\n        this.db = Utils.sumCol(delta);\n\n        var aCopy = a.clone();\n        return delta.mmul(this.W.transposeView()).mul(aCopy.apply(this.derivate));\n    }\n\n    /**\n     * @private\n     * Function that updates the weights at the current layer with the derivatives.\n     */\n    update() {\n        this.dW.add(this.W.clone().mul(this.regularization));\n        this.W.add(this.dW.mul(-this.epsilon));\n        this.b.add(this.db.mul(-this.epsilon));\n    }\n\n    /**\n     * @private\n     * Export the current layer to JSON.\n     * @return {object} model\n     */\n    toJSON() {\n        return {\n            model: 'Layer',\n            inputSize: this.inputSize,\n            outputSize: this.outputSize,\n            regularization: this.regularization,\n            epsilon: this.epsilon,\n            activation: this.activation,\n            W: this.W,\n            b: this.b\n        };\n    }\n\n    /**\n     * @private\n     * Creates a new Layer with the given model.\n     * @param {object} model\n     * @return {Layer}\n     */\n    static load(model) {\n        if (model.model !== 'Layer') {\n            throw new RangeError('the current model is not a Layer model');\n        }\n        return new Layer(model);\n    }\n\n}\n\nmodule.exports = Layer;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/Layer.js","'use strict';\n\nvar Matrix = require('ml-matrix').Matrix;\n\n/**\n * @private\n * Retrieves the sum at each row of the given matrix.\n * @param {Matrix} matrix\n * @return {Matrix}\n */\nfunction sumRow(matrix) {\n    var sum = Matrix.zeros(matrix.rows, 1);\n    for (var i = 0; i < matrix.rows; ++i) {\n        for (var j = 0; j < matrix.columns; ++j) {\n            sum[i][0] += matrix[i][j];\n        }\n    }\n    return sum;\n}\n\n/**\n * @private\n * Retrieves the sum at each column of the given matrix.\n * @param {Matrix} matrix\n * @return {Matrix}\n */\nfunction sumCol(matrix) {\n    var sum = Matrix.zeros(1, matrix.columns);\n    for (var i = 0; i < matrix.rows; ++i) {\n        for (var j = 0; j < matrix.columns; ++j) {\n            sum[0][j] += matrix[i][j];\n        }\n    }\n    return sum;\n}\n\n/**\n * @private\n * Method that given an array of labels(predictions), returns two dictionaries, one to transform from labels to\n * numbers and other in the reverse way\n * @param {Array} array\n * @return {object}\n */\nfunction dictOutputs(array) {\n    var inputs = {};\n    var outputs = {};\n    var index = 0;\n    for (var i = 0; i < array.length; i += 1) {\n        if (inputs[array[i]] === undefined) {\n            inputs[array[i]] = index;\n            outputs[index] = array[i];\n            index++;\n        }\n    }\n\n    return {\n        inputs: inputs,\n        outputs: outputs\n    };\n}\n\nmodule.exports = {\n    dictOutputs: dictOutputs,\n    sumCol: sumCol,\n    sumRow: sumRow\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/utils.js","'use strict';\n\nfunction logistic(val) {\n    return 1 / (1 + Math.exp(-val));\n}\n\nfunction expELU(val, param) {\n    return val < 0 ? param * (Math.exp(val) - 1) : val;\n}\n\nfunction softExponential(val, param) {\n    if (param < 0) {\n        return -Math.log(1 - param * (val + param)) / param;\n    }\n    if (param > 0) {\n        return ((Math.exp(param * val) - 1) / param) + param;\n    }\n    return val;\n}\n\nfunction softExponentialPrime(val, param) {\n    if (param < 0) {\n        return 1 / (1 - param * (param + val));\n    } else {\n        return Math.exp(param * val);\n    }\n}\n\nconst ACTIVATION_FUNCTIONS = {\n    tanh: {\n        activation: Math.tanh,\n        derivate: val => 1 - (val * val)\n    },\n    identity: {\n        activation: val => val,\n        derivate: () => 1\n    },\n    logistic: {\n        activation: logistic,\n        derivate: val => logistic(val) * (1 - logistic(val))\n    },\n    arctan: {\n        activation: Math.atan,\n        derivate: val => 1 / (val * val + 1)\n    },\n    softsign: {\n        activation: val => val / (1 + Math.abs(val)),\n        derivate: val => 1 / ((1 + Math.abs(val)) * (1 + Math.abs(val)))\n    },\n    relu: {\n        activation: val => val < 0 ? 0 : val,\n        derivate: val => val < 0 ? 0 : 1\n    },\n    softplus: {\n        activation: val => Math.log(1 + Math.exp(val)),\n        derivate: val => 1 / (1 + Math.exp(-val))\n    },\n    bent: {\n        activation: val => ((Math.sqrt(val * val + 1) - 1) / 2) + val,\n        derivate: val => (val / (2 * Math.sqrt(val * val + 1))) + 1\n    },\n    sinusoid: {\n        activation: Math.sin,\n        derivate: Math.cos\n    },\n    sinc: {\n        activation: val => val === 0 ? 1 : Math.sin(val) / val,\n        derivate: val => val === 0 ? 0 : (Math.cos(val) / val) - (Math.sin(val) / (val * val))\n    },\n    gaussian: {\n        activation: val => Math.exp(-(val * val)),\n        derivate: val => -2 * val * Math.exp(-(val * val))\n    },\n    'parametric-relu': {\n        activation: (val, param) => val < 0 ? param * val : val,\n        derivate: (val, param) => val < 0 ? param : 1\n    },\n    'exponential-elu': {\n        activation: expELU,\n        derivate: (val, param) => val < 0 ? expELU(val, param) + param : 1\n    },\n    'soft-exponential': {\n        activation: softExponential,\n        derivate: softExponentialPrime\n    }\n};\n\nmodule.exports = ACTIVATION_FUNCTIONS;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/activationFunctions.js","function NodeSquare(x, y, weights, som) {\n    this.x = x;\n    this.y = y;\n    this.weights = weights;\n    this.som = som;\n    this.neighbors = {};\n}\n\nNodeSquare.prototype.adjustWeights = function adjustWeights(target, learningRate, influence) {\n    for (var i = 0, ii = this.weights.length; i < ii; i++) {\n        this.weights[i] += learningRate * influence * (target[i] - this.weights[i]);\n    }\n};\n\nNodeSquare.prototype.getDistance = function getDistance(otherNode) {\n    return Math.max(Math.abs(this.x - otherNode.x), Math.abs(this.y - otherNode.y));\n};\n\nNodeSquare.prototype.getDistanceTorus = function getDistanceTorus(otherNode) {\n    var distX = Math.abs(this.x - otherNode.x),\n        distY = Math.abs(this.y - otherNode.y);\n    return Math.max(Math.min(distX, this.som.gridDim.x - distX), Math.min(distY, this.som.gridDim.y - distY));\n};\n\nNodeSquare.prototype.getNeighbors = function getNeighbors(xy) {\n    if (!this.neighbors[xy]) {\n        this.neighbors[xy] = new Array(2);\n\n        // left or bottom neighbor\n        var v;\n        if (this[xy] > 0) {\n            v = this[xy] - 1;\n        } else if (this.som.torus) {\n            v = this.som.gridDim[xy] - 1\n        }\n        if (typeof v !== 'undefined') {\n            var x, y;\n            if (xy === 'x') {\n                x = v;\n                y = this.y;\n            } else {\n                x = this.x;\n                y = v;\n            }\n            this.neighbors[xy][0] = this.som.nodes[x][y];\n        }\n\n        // top or right neighbor\n        var w;\n        if (this[xy] < (this.som.gridDim[xy] - 1)) {\n            w = this[xy] + 1;\n        } else if (this.som.torus) {\n            w = 0;\n        }\n        if (typeof w !== 'undefined') {\n            if (xy === 'x') {\n                x = w;\n                y = this.y;\n            } else {\n                x = this.x;\n                y = w;\n            }\n            this.neighbors[xy][1] = this.som.nodes[x][y];\n        }\n    }\n    return this.neighbors[xy];\n};\n\nNodeSquare.prototype.getPos = function getPos(xy, element) {\n    var neighbors = this.getNeighbors(xy),\n        distance = this.som.distance,\n        bestNeighbor,\n        direction;\n    if(neighbors[0]) {\n        if (neighbors[1]) {\n            var dist1 = distance(element, neighbors[0].weights),\n                dist2 = distance(element, neighbors[1].weights);\n            if(dist1 < dist2) {\n                bestNeighbor = neighbors[0];\n                direction = -1;\n            } else {\n                bestNeighbor = neighbors[1];\n                direction = 1;\n            }\n        } else {\n            bestNeighbor = neighbors[0];\n            direction = -1;\n        }\n    } else {\n        bestNeighbor = neighbors[1];\n        direction = 1;\n    }\n    var simA = 1 - distance(element, this.weights),\n        simB = 1 - distance(element, bestNeighbor.weights);\n    var factor = ((simA - simB) / (2 - simA - simB));\n    return 0.5 + 0.5 * factor * direction;\n};\n\nNodeSquare.prototype.getPosition = function getPosition(element) {\n    return [\n        this.getPos('x', element),\n        this.getPos('y', element)\n    ];\n};\n\nmodule.exports = NodeSquare;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-som/src/node-square.js","export {default as SimpleLinearRegression, default as SLR} from 'ml-regression-simple-linear';\nexport {default as PolynomialRegression} from 'ml-regression-polynomial';\nexport {default as ExponentialRegression} from 'ml-regression-exponential';\nexport {default as PowerRegression} from 'ml-regression-power';\nexport {default as MultivariateLinearRegression} from 'ml-regression-multivariate-linear';\n\nimport PotentialRegression from './regression/potential-regression';\nconst NLR = {\n    PotentialRegression\n};\nexport {NLR, NLR as NonLinearRegression};\n\nexport {default as KernelRidgeRegression, default as KRR} from './regression/kernel-ridge-regression';\nexport {default as PolinomialFitting2D} from './regression/poly-fit-regression2d';\n\n// robust regressions\nexport {default as TheilSenRegression} from 'ml-regression-theil-sen';\nexport {default as RobustPolynomialRegression} from 'ml-regression-robust-polynomial';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/index.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport Matrix, {solve} from 'ml-matrix';\n\nexport default class PolynomialRegression extends BaseRegression {\n    constructor(x, y, degree) {\n        super();\n        if (x === true) {\n            this.degree = y.degree;\n            this.powers = y.powers;\n            this.coefficients = y.coefficients;\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y, degree);\n        }\n    }\n\n    _predict(x) {\n        let y = 0;\n        for (let k = 0; k < this.powers.length; k++) {\n            y += this.coefficients[k] * Math.pow(x, this.powers[k]);\n        }\n        return y;\n    }\n\n    toJSON() {\n        return {\n            name: 'polynomialRegression',\n            degree: this.degree,\n            powers: this.powers,\n            coefficients: this.coefficients\n        };\n    }\n\n    toString(precision) {\n        return this._toFormula(precision, false);\n    }\n\n    toLaTeX(precision) {\n        return this._toFormula(precision, true);\n    }\n\n    _toFormula(precision, isLaTeX) {\n        let sup = '^';\n        let closeSup = '';\n        let times = ' * ';\n        if (isLaTeX) {\n            sup = '^{';\n            closeSup = '}';\n            times = '';\n        }\n\n        let fn = '';\n        let str = '';\n        for (let k = 0; k < this.coefficients.length; k++) {\n            str = '';\n            if (this.coefficients[k] !== 0) {\n                if (this.powers[k] === 0) {\n                    str = maybeToPrecision(this.coefficients[k], precision);\n                } else {\n                    if (this.powers[k] === 1) {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x';\n                    } else {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x' + sup + this.powers[k] + closeSup;\n                    }\n                }\n\n                if (this.coefficients[k] > 0 && k !== (this.coefficients.length - 1)) {\n                    str = ' + ' + str;\n                } else if (k !== (this.coefficients.length - 1)) {\n                    str = ' ' + str;\n                }\n            }\n            fn = str + fn;\n        }\n        if (fn.charAt(0) === '+') {\n            fn = fn.slice(1);\n        }\n\n        return 'f(x) = ' + fn;\n    }\n\n    static load(json) {\n        if (json.name !== 'polynomialRegression') {\n            throw new TypeError('not a polynomial regression model');\n        }\n        return new PolynomialRegression(true, json);\n    }\n}\n\nfunction regress(pr, x, y, degree) {\n    const n = x.length;\n    let powers;\n    if (Array.isArray(degree)) {\n        powers = degree;\n        degree = powers.length;\n    } else {\n        degree++;\n        powers = new Array(degree);\n        for (let k = 0; k < degree; k++) {\n            powers[k] = k;\n        }\n    }\n    const F = new Matrix(n, degree);\n    const Y = new Matrix([y]);\n    for (let k = 0; k < degree; k++) {\n        for (let i = 0; i < n; i++) {\n            if (powers[k] === 0) {\n                F[i][k] = 1;\n            } else {\n                F[i][k] = Math.pow(x[i], powers[k]);\n            }\n        }\n    }\n\n    const FT = F.transposeView();\n    const A = FT.mmul(F);\n    const B = FT.mmul(Y.transposeView());\n\n    pr.degree = degree - 1;\n    pr.powers = powers;\n    pr.coefficients = solve(A, B).to1DArray();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-polynomial/src/index.js","'use strict';\n\nconst newArray = require('new-array');\n\nconst primeFinder = require('./primeFinder');\nconst nextPrime = primeFinder.nextPrime;\nconst largestPrime = primeFinder.largestPrime;\n\nconst FREE = 0;\nconst FULL = 1;\nconst REMOVED = 2;\n\nconst defaultInitialCapacity = 150;\nconst defaultMinLoadFactor = 1 / 6;\nconst defaultMaxLoadFactor = 2 / 3;\n\nclass HashTable {\n    constructor(options = {}) {\n        if (options instanceof HashTable) {\n            this.table = options.table.slice();\n            this.values = options.values.slice();\n            this.state = options.state.slice();\n            this.minLoadFactor = options.minLoadFactor;\n            this.maxLoadFactor = options.maxLoadFactor;\n            this.distinct = options.distinct;\n            this.freeEntries = options.freeEntries;\n            this.lowWaterMark = options.lowWaterMark;\n            this.highWaterMark = options.maxLoadFactor;\n            return;\n        }\n\n        const initialCapacity = options.initialCapacity === undefined ? defaultInitialCapacity : options.initialCapacity;\n        if (initialCapacity < 0) {\n            throw new RangeError(`initial capacity must not be less than zero: ${initialCapacity}`);\n        }\n\n        const minLoadFactor = options.minLoadFactor === undefined ? defaultMinLoadFactor : options.minLoadFactor;\n        const maxLoadFactor = options.maxLoadFactor === undefined ? defaultMaxLoadFactor : options.maxLoadFactor;\n        if (minLoadFactor < 0 || minLoadFactor >= 1) {\n            throw new RangeError(`invalid minLoadFactor: ${minLoadFactor}`);\n        }\n        if (maxLoadFactor <= 0 || maxLoadFactor >= 1) {\n            throw new RangeError(`invalid maxLoadFactor: ${maxLoadFactor}`);\n        }\n        if (minLoadFactor >= maxLoadFactor) {\n            throw new RangeError(`minLoadFactor (${minLoadFactor}) must be smaller than maxLoadFactor (${maxLoadFactor})`);\n        }\n\n        let capacity = initialCapacity;\n        // User wants to put at least capacity elements. We need to choose the size based on the maxLoadFactor to\n        // avoid the need to rehash before this capacity is reached.\n        // actualCapacity * maxLoadFactor >= capacity\n        capacity = (capacity / maxLoadFactor) | 0;\n        capacity = nextPrime(capacity);\n        if (capacity === 0) capacity = 1;\n\n        this.table = newArray(capacity, 0);\n        this.values = newArray(capacity, 0);\n        this.state = newArray(capacity, 0);\n\n        this.minLoadFactor = minLoadFactor;\n        if (capacity === largestPrime) {\n            this.maxLoadFactor = 1;\n        } else {\n            this.maxLoadFactor = maxLoadFactor;\n        }\n\n        this.distinct = 0;\n        this.freeEntries = capacity;\n\n        this.lowWaterMark = 0;\n        this.highWaterMark = chooseHighWaterMark(capacity, this.maxLoadFactor);\n    }\n\n    clone() {\n        return new HashTable(this);\n    }\n\n    get size() {\n        return this.distinct;\n    }\n\n    get(key) {\n        const i = this.indexOfKey(key);\n        if (i < 0) return 0;\n        return this.values[i];\n    }\n\n    set(key, value) {\n        let i = this.indexOfInsertion(key);\n        if (i < 0) {\n            i = -i - 1;\n            this.values[i] = value;\n            return false;\n        }\n\n        if (this.distinct > this.highWaterMark) {\n            const newCapacity = chooseGrowCapacity(this.distinct + 1, this.minLoadFactor, this.maxLoadFactor);\n            this.rehash(newCapacity);\n            return this.set(key, value);\n        }\n\n        this.table[i] = key;\n        this.values[i] = value;\n        if (this.state[i] === FREE) this.freeEntries--;\n        this.state[i] = FULL;\n        this.distinct++;\n\n        if (this.freeEntries < 1) {\n            const newCapacity = chooseGrowCapacity(this.distinct + 1, this.minLoadFactor, this.maxLoadFactor);\n            this.rehash(newCapacity);\n        }\n\n        return true;\n    }\n    \n    remove(key, noRehash) {\n        const i = this.indexOfKey(key);\n        if (i < 0) return false;\n\n        this.state[i] = REMOVED;\n        this.distinct--;\n\n        if (!noRehash) this.maybeShrinkCapacity();\n\n        return true;\n    }\n\n    delete(key, noRehash) {\n        const i = this.indexOfKey(key);\n        if (i < 0) return false;\n\n        this.state[i] = FREE;\n        this.distinct--;\n\n        if (!noRehash) this.maybeShrinkCapacity();\n\n        return true;\n    }\n\n    maybeShrinkCapacity() {\n        if (this.distinct < this.lowWaterMark) {\n            const newCapacity = chooseShrinkCapacity(this.distinct, this.minLoadFactor, this.maxLoadFactor);\n            this.rehash(newCapacity);\n        }\n    }\n\n    containsKey(key) {\n        return this.indexOfKey(key) >= 0;\n    }\n\n    indexOfKey(key) {\n        const table = this.table;\n        const state = this.state;\n        const length = this.table.length;\n\n        const hash = key & 0x7fffffff;\n        let i = hash % length;\n        let decrement = hash % (length - 2);\n        if (decrement === 0) decrement = 1;\n\n        while (state[i] !== FREE && (state[i] === REMOVED || table[i] !== key)) {\n            i -= decrement;\n            if (i < 0) i += length;\n        }\n\n        if (state[i] === FREE) return -1;\n        return i;\n    }\n\n    containsValue(value) {\n        return this.indexOfValue(value) >= 0;\n    }\n\n    indexOfValue(value) {\n        const values = this.values;\n        const state = this.state;\n\n        for (var i = 0; i < state.length; i++) {\n            if (state[i] === FULL && values[i] === value) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    indexOfInsertion(key) {\n        const table = this.table;\n        const state = this.state;\n        const length = table.length;\n\n\n        const hash = key & 0x7fffffff;\n        let i = hash % length;\n        let decrement = hash % (length - 2);\n        if (decrement === 0) decrement = 1;\n\n        while (state[i] === FULL && table[i] !== key) {\n            i -= decrement;\n            if (i < 0) i += length;\n        }\n\n        if (state[i] === REMOVED) {\n            const j = i;\n            while (state[i] !== FREE && (state[i] === REMOVED || table[i] !== key)) {\n                i -= decrement;\n                if (i < 0) i += length;\n            }\n            if (state[i] === FREE) i = j;\n        }\n\n        if (state[i] === FULL) {\n            return -i - 1;\n        }\n\n        return i;\n    }\n\n    ensureCapacity(minCapacity) {\n        if (this.table.length < minCapacity) {\n            const newCapacity = nextPrime(minCapacity);\n            this.rehash(newCapacity);\n        }\n    }\n\n    rehash(newCapacity) {\n        const oldCapacity = this.table.length;\n\n        if (newCapacity <= this.distinct) throw new Error('Unexpected');\n\n        const oldTable = this.table;\n        const oldValues = this.values;\n        const oldState = this.state;\n\n        const newTable = newArray(newCapacity, 0);\n        const newValues = newArray(newCapacity, 0);\n        const newState = newArray(newCapacity, 0);\n\n        this.lowWaterMark = chooseLowWaterMark(newCapacity, this.minLoadFactor);\n        this.highWaterMark = chooseHighWaterMark(newCapacity, this.maxLoadFactor);\n\n        this.table = newTable;\n        this.values = newValues;\n        this.state = newState;\n        this.freeEntries = newCapacity - this.distinct;\n\n        for (var i = 0; i < oldCapacity; i++) {\n            if (oldState[i] === FULL) {\n                var element = oldTable[i];\n                var index = this.indexOfInsertion(element);\n                newTable[index] = element;\n                newValues[index] = oldValues[i];\n                newState[index] = FULL;\n            }\n        }\n    }\n\n    forEachKey(callback) {\n        for (var i = 0; i < this.state.length; i++) {\n            if (this.state[i] === FULL) {\n                if (!callback(this.table[i])) return false;\n            }\n        }\n        return true;\n    }\n\n    forEachValue(callback) {\n        for (var i = 0; i < this.state.length; i++) {\n            if (this.state[i] === FULL) {\n                if (!callback(this.values[i])) return false;\n            }\n        }\n        return true;\n    }\n\n    forEachPair(callback) {\n        for (var i = 0; i < this.state.length; i++) {\n            if (this.state[i] === FULL) {\n                if (!callback(this.table[i], this.values[i])) return false;\n            }\n        }\n        return true;\n    }\n}\n\nmodule.exports = HashTable;\n\nfunction chooseLowWaterMark(capacity, minLoad) {\n    return (capacity * minLoad) | 0;\n}\n\nfunction chooseHighWaterMark(capacity, maxLoad) {\n    return Math.min(capacity - 2, (capacity * maxLoad) | 0);\n}\n\nfunction chooseGrowCapacity(size, minLoad, maxLoad) {\n    return nextPrime(Math.max(size + 1, (4 * size / (3 * minLoad + maxLoad)) | 0));\n}\n\nfunction chooseShrinkCapacity(size, minLoad, maxLoad) {\n    return nextPrime(Math.max(size + 1, (4 * size / (minLoad + 3 * maxLoad)) | 0));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hash-table/src/HashTable.js","module.exports = function(haystack, needle, comparator, low, high) {\n  var mid, cmp;\n\n  if(low === undefined)\n    low = 0;\n\n  else {\n    low = low|0;\n    if(low < 0 || low >= haystack.length)\n      throw new RangeError(\"invalid lower bound\");\n  }\n\n  if(high === undefined)\n    high = haystack.length - 1;\n\n  else {\n    high = high|0;\n    if(high < low || high >= haystack.length)\n      throw new RangeError(\"invalid upper bound\");\n  }\n\n  while(low <= high) {\n    /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n     * to double (which gives the wrong results). */\n    mid = low + (high - low >> 1);\n    cmp = +comparator(haystack[mid], needle, mid, haystack);\n\n    /* Too low. */\n    if(cmp < 0.0)\n      low  = mid + 1;\n\n    /* Too high. */\n    else if(cmp > 0.0)\n      high = mid - 1;\n\n    /* Key found. */\n    else\n      return mid;\n  }\n\n  /* Key not found. */\n  return ~low;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/binary-search/index.js","'use strict';\nvar numberIsNan = require('number-is-nan');\n\nfunction assertNum(x) {\n\tif (typeof x !== 'number' || numberIsNan(x)) {\n\t\tthrow new TypeError('Expected a number');\n\t}\n}\n\nexports.asc = function (a, b) {\n\tassertNum(a);\n\tassertNum(b);\n\treturn a - b;\n};\n\nexports.desc = function (a, b) {\n\tassertNum(a);\n\tassertNum(b);\n\treturn b - a;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/num-sort/index.js","'use strict';\n\nexports.distance = require('./distances');\nexports.similarity = require('./similarities');\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/index.js","'use strict';\n\nmodule.exports = function czekanowskiSimilarity(a, b) {\n    var up = 0;\n    var down = 0;\n    for (var i = 0; i < a.length; i++) {\n        up += Math.min(a[i], b[i]);\n        down += a[i] + b[i];\n    }\n    return 2 * up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/czekanowski.js","module.exports = function dice(a, b) {\n    var ii = a.length,\n        p = 0,\n        q1 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * a[i];\n        q1 += b[i] * b[i];\n        q2 += (a[i] - b[i]) * (a[i] - b[i]);\n    }\n    return q2 / (p + q1);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/dice.js","module.exports = function intersection(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.min(a[i], b[i]);\n    }\n    return 1 - ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/intersection.js","module.exports = function jaccard(a, b) {\n    var ii = a.length,\n        p1 = 0,\n        p2 = 0,\n        q1 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p1 += a[i] * b[i];\n        p2 += a[i] * a[i];\n        q1 += b[i] * b[i];\n        q2 += (a[i] - b[i]) * (a[i] - b[i]);\n    }\n    return q2 / (p2 + q1 - p1);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jaccard.js","module.exports = function kulczynski(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.abs(a[i] - b[i]);\n        down += Math.min(a[i],b[i]);\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kulczynski.js","module.exports = function motyka(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.min(a[i], b[i]);\n        down += a[i] + b[i];\n    }\n    return 1 - (up / down);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/motyka.js","module.exports = function squaredChord(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (Math.sqrt(a[i]) - Math.sqrt(b[i])) * (Math.sqrt(a[i]) - Math.sqrt(b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/squaredChord.js","module.exports = function tanimoto(a, b, bitvector) {\n    if (bitvector) {\n        var inter = 0,\n            union = 0;\n        for (var j = 0; j < a.length; j++) {\n            inter += a[j] && b[j];\n            union += a[j] || b[j];\n        }\n        if (union === 0)\n            return 1;\n        return inter / union;\n    }\n    else {\n        var ii = a.length,\n            p = 0,\n            q = 0,\n            m = 0;\n        for (var i = 0; i < ii ; i++) {\n            p += a[i];\n            q += b[i];\n            m += Math.min(a[i],b[i]);\n        }\n        return 1 - (p + q - 2 * m) / (p + q - m);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/tanimoto.js","module.exports = function cosine(a, b) {\n    var ii = a.length,\n        p = 0,\n        p2 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * b[i];\n        p2 += a[i] * a[i];\n        q2 += b[i] * b[i];\n    }\n    return p / (Math.sqrt(p2) * Math.sqrt(q2));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/cosine.js","'use strict';\n\nvar extend = require('extend');\n\nvar defaultOptions = {\n    size: 1,\n    value: 0\n};\n\n/**\n * Case when the entry is an array\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction arrayCase(data, options) {\n    var len = data.length;\n    if (typeof options.size === 'number')\n        options.size = [options.size, options.size];\n\n    var cond = len + options.size[0] + options.size[1];\n\n    var output;\n    if (options.output) {\n        if (options.output.length !== cond)\n            throw new RangeError('Wrong output size');\n        output = options.output;\n    }\n    else\n        output = new Array(cond);\n\n    var i;\n\n    // circular option\n    if (options.value === 'circular') {\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = data[((len - (options.size[0] % len)) + i) % len];\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = data[(i - options.size[0]) % len];\n        }\n    }\n\n    // replicate option\n    else if (options.value === 'replicate') {\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = data[0];\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = data[len - 1];\n        }\n    }\n\n    // symmetric option\n    else if (options.value === 'symmetric') {\n        if ((options.size[0] > len) || (options.size[1] > len))\n            throw new RangeError('expanded value should not be bigger than the data length');\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = data[options.size[0] - 1 - i];\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = data[2*len + options.size[0] - i - 1];\n        }\n    }\n\n    // default option\n    else {\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = options.value;\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = options.value;\n        }\n    }\n\n    return output;\n}\n\n/**\n * Case when the entry is a matrix\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction matrixCase(data, options) {\n    var row = data.length;\n    var col = data[0].length;\n    if (options.size[0] === undefined)\n        options.size = [options.size, options.size, options.size, options.size];\n    throw new Error('matrix not supported yet, sorry');\n}\n\n/**\n * Pads and array\n * @param {Array <number>} data\n * @param {object} options\n */\nfunction padArray (data, options) {\n    options = extend({}, defaultOptions, options);\n\n    if (Array.isArray(data)) {\n        if (Array.isArray(data[0]))\n            return matrixCase(data, options);\n        else\n            return arrayCase(data, options);\n    }\n    else\n        throw new TypeError('data should be an array');\n}\n\nmodule.exports = padArray;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pad-array/src/index.js","'use strict';\n\nconst mlCart = require('ml-cart');\n\nconst ML = exports;\n\n// Try to keep this list in the same structure as the README.\n\n// Unsupervised learning\nML.PCA = require('ml-pca');\nML.HClust = require('ml-hclust');\nML.KMeans = require('ml-kmeans');\n\n// Supervised learning\nML.SVM = require('ml-svm');\nML.NaiveBayes = require('ml-naivebayes');\nML.KNN = require('ml-knn');\nML.PLS = require('ml-pls');\nML.CrossValidation = require('ml-cross-validation');\nML.ConfusionMatrix = require('ml-confusion-matrix');\nML.DecisionTreeClassifier = mlCart.DecisionTreeClassifier;\n\n// Artificial neural networks\nML.FNN = require('ml-fnn');\nML.SOM = require('ml-som');\n\n// Regression\nconst Regression = require('ml-regression');\nML.SimpleLinearRegression = Regression.SimpleLinearRegression;\nML.PolynomialRegression = Regression.PolynomialRegression;\nML.MultivariateLinearRegression = Regression.MultivariateLinearRegression;\nML.PowerRegression = Regression.PowerRegression;\nML.ExponentialRegression = Regression.ExponentialRegression;\nML.TheilSenRegression = Regression.TheilSenRegression;\nML.RobustPolynomialRegression = Regression.RobustPolynomialRegression;\nML.DesisionTreeRegression = mlCart.DesisionTreeRegression;\n\n// Optimization\nML.levenbergMarquardt = require('ml-levenberg-marquardt');\n\n// Math\nconst Matrix = require('ml-matrix');\nML.Matrix = Matrix.Matrix;\nML.SVD = Matrix.SVD;\nML.EVD = Matrix.EVD;\nML.CholeskyDecomposition = Matrix.CholeskyDecomposition;\nML.LuDecomposition = Matrix.LuDecomposition;\nML.QrDecomposition = Matrix.QrDecomposition;\n\nML.SparseMatrix = require('ml-sparse-matrix');\nML.Kernel = require('ml-kernel');\nML.Distance = require('ml-distance').distance;\nML.Similarity = require('ml-distance').similarity;\nML.distanceMatrix = require('ml-distance-matrix');\nML.XSadd = require('ml-xsadd');\n\n// Statistics\nML.Performance = require('ml-performance');\n\n// Data preprocessing\nML.savitzkyGolay = require('ml-savitzky-golay');\nML.savitzkyGolayGeneralized = require('ml-savitzky-golay-generalized');\n\n// Utility\nML.BitArray = require('ml-bit-array');\nML.HashTable = require('ml-hash-table');\nML.padArray = require('ml-pad-array');\nML.binarySearch = require('binary-search');\nML.numSort = require('num-sort');\n\n// Undocumented/deprecated packages\nML.ArrayUtils = require('ml-array-utils');\nML.Regression = require('ml-regression');\nML.MatrixUtil = require('ml-matrix');\nML.ArrayStat = require('ml-stat').array;\nML.MatrixStat = require('ml-stat').matrix;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export {DecisionTreeClassifier} from './DecisionTreeClassifier';\nexport {DecisionTreeRegression} from './DecisionTreeRegression';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/index.js","import Matrix from 'ml-matrix';\nimport Tree from './TreeNode';\n\nconst defaultOptions = {\n    gainFunction: 'gini',\n    splitFunction: 'mean',\n    minNumSamples: 3,\n    maxDepth: Infinity\n};\n\nexport class DecisionTreeClassifier {\n\n    /**\n     * Create new Decision Tree Classifier with CART implementation with the given options\n     * @param {object} options\n     * @param {string} [options.gainFunction=\"gini\"] - gain function to get the best split, \"gini\" the only one supported.\n     * @param {string} [options.splitFunction=\"mean\"] - given two integers from a split feature, get the value to split, \"mean\" the only one supported.\n     * @param {number} [options.minNumSamples=3] - minimum number of samples to create a leaf node to decide a class.\n     * @param {number} [options.maxDepth=Infinity] - Max depth of the tree.\n     * @param {object} model - for load purposes.\n     * @constructor\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.options = model.options;\n            this.root = new Tree(model.options);\n            this.root.setNodeParameters(model.root);\n        } else {\n            this.options = Object.assign({}, defaultOptions, options);\n            this.options.kind = 'classifier';\n        }\n    }\n\n    /**\n     * Train the decision tree with the given training set and labels.\n     * @param {Matrix|MatrixTransposeView|Array} trainingSet\n     * @param {Array} trainingLabels\n     */\n    train(trainingSet, trainingLabels) {\n        this.root = new Tree(this.options);\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        this.root.train(trainingSet, trainingLabels, 0, null);\n    }\n\n    /**\n     * Predicts the output given the matrix to predict.\n     * @param {Matrix|MatrixTransposeView|Array} toPredict\n     * @return {Array} predictions\n     */\n    predict(toPredict) {\n        toPredict = Matrix.checkMatrix(toPredict);\n        var predictions = new Array(toPredict.rows);\n\n        for (var i = 0; i < toPredict.rows; ++i) {\n            predictions[i] = this.root.classify(toPredict.getRow(i)).maxRowIndex(0)[1];\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            options: this.options,\n            root: this.root,\n            name: 'DTClassifier'\n        };\n    }\n\n    /**\n     * Load a Decision tree classifier with the given model.\n     * @param {object} model\n     * @return {DecisionTreeClassifier}\n     */\n    static load(model) {\n        if (model.name !== 'DTClassifier') {\n            throw new RangeError('Invalid model: ' + model.name);\n        }\n\n        return new DecisionTreeClassifier(true, model);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/DecisionTreeClassifier.js","if (!Symbol.species) {\n    Symbol.species = Symbol.for('@@species');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/symbol-species.js","import max from 'ml-array-max';\nimport min from 'ml-array-min';\n\nexport default function rescale(input, options = {}) {\n    if (!Array.isArray(input)) {\n        throw new TypeError('input must be an array');\n    } else if (input.length === 0) {\n        throw new TypeError('input must not be empty');\n    }\n\n    let output;\n    if (options.output !== undefined) {\n        if (!Array.isArray(options.output)) {\n            throw new TypeError('output option must be an array if specified');\n        }\n        output = options.output;\n    } else {\n        output = new Array(input.length);\n    }\n\n    const currentMin = min(input);\n    const currentMax = max(input);\n\n    if (currentMin === currentMax) {\n        throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n    }\n\n    const {\n        min: minValue = options.autoMinMax ? currentMin : 0,\n        max: maxValue = options.autoMinMax ? currentMax : 1\n    } = options;\n\n    if (minValue >= maxValue) {\n        throw new RangeError('min option must be smaller than max option');\n    }\n\n    const factor = (maxValue - minValue) / (currentMax - currentMin);\n    for (var i = 0; i < input.length; i++) {\n        output[i] = (input[i] - currentMin) * factor + minValue;\n    }\n\n    return output;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-rescale/src/index.js","/**\n * Computes the maximum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function max(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var max = input[0];\n    for (var i = 1; i < input.length; i++) {\n        if (input[i] > max) max = input[i];\n    }\n    return max;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-max/src/index.js","/**\n * Computes the minimum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function min(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var min = input[0];\n    for (var i = 1; i < input.length; i++) {\n        if (input[i] < min) min = input[i];\n    }\n    return min;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-min/src/index.js","import BaseView from './base';\n\nexport default class MatrixTransposeView extends BaseView {\n    constructor(matrix) {\n        super(matrix, matrix.columns, matrix.rows);\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(columnIndex, rowIndex, value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(columnIndex, rowIndex);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/transpose.js","import BaseView from './base';\n\nexport default class MatrixRowView extends BaseView {\n    constructor(matrix, row) {\n        super(matrix, 1, matrix.columns);\n        this.row = row;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(this.row, columnIndex, value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(this.row, columnIndex);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/row.js","import BaseView from './base';\nimport {checkRange} from '../util';\n\nexport default class MatrixSubView extends BaseView {\n    constructor(matrix, startRow, endRow, startColumn, endColumn) {\n        checkRange(matrix, startRow, endRow, startColumn, endColumn);\n        super(matrix, endRow - startRow + 1, endColumn - startColumn + 1);\n        this.startRow = startRow;\n        this.startColumn = startColumn;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(this.startRow + rowIndex, this.startColumn + columnIndex, value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(this.startRow + rowIndex, this.startColumn + columnIndex);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/sub.js","import BaseView from './base';\nimport {checkIndices} from '../util';\n\nexport default class MatrixSelectionView extends BaseView {\n    constructor(matrix, rowIndices, columnIndices) {\n        var indices = checkIndices(matrix, rowIndices, columnIndices);\n        super(matrix, indices.row.length, indices.column.length);\n        this.rowIndices = indices.row;\n        this.columnIndices = indices.column;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(this.rowIndices[rowIndex], this.columnIndices[columnIndex], value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(this.rowIndices[rowIndex], this.columnIndices[columnIndex]);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/selection.js","import BaseView from './base';\nimport {checkRowIndices} from '../util';\n\nexport default class MatrixRowSelectionView extends BaseView {\n    constructor(matrix, rowIndices) {\n        rowIndices = checkRowIndices(matrix, rowIndices);\n        super(matrix, rowIndices.length, matrix.columns);\n        this.rowIndices = rowIndices;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(this.rowIndices[rowIndex], columnIndex, value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(this.rowIndices[rowIndex], columnIndex);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/rowSelection.js","import BaseView from './base';\nimport {checkColumnIndices} from '../util';\n\nexport default class MatrixColumnSelectionView extends BaseView {\n    constructor(matrix, columnIndices) {\n        columnIndices = checkColumnIndices(matrix, columnIndices);\n        super(matrix, matrix.rows, columnIndices.length);\n        this.columnIndices = columnIndices;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(rowIndex, this.columnIndices[columnIndex], value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(rowIndex, this.columnIndices[columnIndex]);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/columnSelection.js","import BaseView from './base';\n\nexport default class MatrixColumnView extends BaseView {\n    constructor(matrix, column) {\n        super(matrix, matrix.rows, 1);\n        this.column = column;\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(rowIndex, this.column, value);\n        return this;\n    }\n\n    get(rowIndex) {\n        return this.matrix.get(rowIndex, this.column);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/column.js","import BaseView from './base';\n\nexport default class MatrixFlipRowView extends BaseView {\n    constructor(matrix) {\n        super(matrix, matrix.rows, matrix.columns);\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(this.rows - rowIndex - 1, columnIndex, value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(this.rows - rowIndex - 1, columnIndex);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/flipRow.js","import BaseView from './base';\n\nexport default class MatrixFlipColumnView extends BaseView {\n    constructor(matrix) {\n        super(matrix, matrix.rows, matrix.columns);\n    }\n\n    set(rowIndex, columnIndex, value) {\n        this.matrix.set(rowIndex, this.columns - columnIndex - 1, value);\n        return this;\n    }\n\n    get(rowIndex, columnIndex) {\n        return this.matrix.get(rowIndex, this.columns - columnIndex - 1);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/flipColumn.js","import WrapperMatrix1D from './WrapperMatrix1D';\nimport WrapperMatrix2D from './WrapperMatrix2D';\n\n/**\n * @param {Array<Array<number>>|Array<number>} array\n * @param {object} [options]\n * @param {object} [options.rows = 1]\n * @return {WrapperMatrix1D|WrapperMatrix2D}\n */\nexport function wrap(array, options) {\n    if (Array.isArray(array)) {\n        if (array[0] && Array.isArray(array[0])) {\n            return new WrapperMatrix2D(array);\n        } else {\n            return new WrapperMatrix1D(array, options);\n        }\n    } else {\n        throw new Error('the argument is not an array');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/wrap/wrap.js","import {Matrix, WrapperMatrix2D} from './index';\n\nimport LuDecomposition from './dc/lu';\nimport QrDecomposition from './dc/qr';\nimport SingularValueDecomposition from './dc/svd';\n\n/**\n * Computes the inverse of a Matrix\n * @param {Matrix} matrix\n * @param {boolean} [useSVD=false]\n * @return {Matrix}\n */\nexport function inverse(matrix, useSVD = false) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n    if (useSVD) {\n        return new SingularValueDecomposition(matrix).inverse();\n    } else {\n        return solve(matrix, Matrix.eye(matrix.rows));\n    }\n}\n\n/**\n *\n * @param {Matrix} leftHandSide\n * @param {Matrix} rightHandSide\n * @param {boolean} [useSVD = false]\n * @return {Matrix}\n */\nexport function solve(leftHandSide, rightHandSide, useSVD = false) {\n    leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n    rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n    if (useSVD) {\n        return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n    } else {\n        return leftHandSide.isSquare() ? new LuDecomposition(leftHandSide).solve(rightHandSide) : new QrDecomposition(leftHandSide).solve(rightHandSide);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/decompositions.js","import {Matrix, WrapperMatrix2D} from '../index';\nimport {hypotenuse, getFilled2DArray} from './util';\n\n/**\n * @class EigenvalueDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/EigenvalueDecomposition.cs\n * @param {Matrix} matrix\n * @param {object} [options]\n * @param {boolean} [options.assumeSymmetric=false]\n */\nexport default class EigenvalueDecomposition {\n    constructor(matrix, options = {}) {\n        const {\n            assumeSymmetric = false\n        } = options;\n\n        matrix = WrapperMatrix2D.checkMatrix(matrix);\n        if (!matrix.isSquare()) {\n            throw new Error('Matrix is not a square matrix');\n        }\n\n        var n = matrix.columns;\n        var V = getFilled2DArray(n, n, 0);\n        var d = new Array(n);\n        var e = new Array(n);\n        var value = matrix;\n        var i, j;\n\n        var isSymmetric = false;\n        if (assumeSymmetric) {\n            isSymmetric = true;\n        } else {\n            isSymmetric = matrix.isSymmetric();\n        }\n\n        if (isSymmetric) {\n            for (i = 0; i < n; i++) {\n                for (j = 0; j < n; j++) {\n                    V[i][j] = value.get(i, j);\n                }\n            }\n            tred2(n, e, d, V);\n            tql2(n, e, d, V);\n        } else {\n            var H = getFilled2DArray(n, n, 0);\n            var ort = new Array(n);\n            for (j = 0; j < n; j++) {\n                for (i = 0; i < n; i++) {\n                    H[i][j] = value.get(i, j);\n                }\n            }\n            orthes(n, H, ort, V);\n            hqr2(n, e, d, V, H);\n        }\n\n        this.n = n;\n        this.e = e;\n        this.d = d;\n        this.V = V;\n    }\n\n    /**\n     *\n     * @return {Array<number>}\n     */\n    get realEigenvalues() {\n        return this.d;\n    }\n\n    /**\n     *\n     * @return {Array<number>}\n     */\n    get imaginaryEigenvalues() {\n        return this.e;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get eigenvectorMatrix() {\n        if (!Matrix.isMatrix(this.V)) {\n            this.V = new Matrix(this.V);\n        }\n        return this.V;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get diagonalMatrix() {\n        var n = this.n;\n        var e = this.e;\n        var d = this.d;\n        var X = new Matrix(n, n);\n        var i, j;\n        for (i = 0; i < n; i++) {\n            for (j = 0; j < n; j++) {\n                X[i][j] = 0;\n            }\n            X[i][i] = d[i];\n            if (e[i] > 0) {\n                X[i][i + 1] = e[i];\n            } else if (e[i] < 0) {\n                X[i][i - 1] = e[i];\n            }\n        }\n        return X;\n    }\n}\n\nfunction tred2(n, e, d, V) {\n    var f, g, h, i, j, k,\n        hh, scale;\n\n    for (j = 0; j < n; j++) {\n        d[j] = V[n - 1][j];\n    }\n\n    for (i = n - 1; i > 0; i--) {\n        scale = 0;\n        h = 0;\n        for (k = 0; k < i; k++) {\n            scale = scale + Math.abs(d[k]);\n        }\n\n        if (scale === 0) {\n            e[i] = d[i - 1];\n            for (j = 0; j < i; j++) {\n                d[j] = V[i - 1][j];\n                V[i][j] = 0;\n                V[j][i] = 0;\n            }\n        } else {\n            for (k = 0; k < i; k++) {\n                d[k] /= scale;\n                h += d[k] * d[k];\n            }\n\n            f = d[i - 1];\n            g = Math.sqrt(h);\n            if (f > 0) {\n                g = -g;\n            }\n\n            e[i] = scale * g;\n            h = h - f * g;\n            d[i - 1] = f - g;\n            for (j = 0; j < i; j++) {\n                e[j] = 0;\n            }\n\n            for (j = 0; j < i; j++) {\n                f = d[j];\n                V[j][i] = f;\n                g = e[j] + V[j][j] * f;\n                for (k = j + 1; k <= i - 1; k++) {\n                    g += V[k][j] * d[k];\n                    e[k] += V[k][j] * f;\n                }\n                e[j] = g;\n            }\n\n            f = 0;\n            for (j = 0; j < i; j++) {\n                e[j] /= h;\n                f += e[j] * d[j];\n            }\n\n            hh = f / (h + h);\n            for (j = 0; j < i; j++) {\n                e[j] -= hh * d[j];\n            }\n\n            for (j = 0; j < i; j++) {\n                f = d[j];\n                g = e[j];\n                for (k = j; k <= i - 1; k++) {\n                    V[k][j] -= (f * e[k] + g * d[k]);\n                }\n                d[j] = V[i - 1][j];\n                V[i][j] = 0;\n            }\n        }\n        d[i] = h;\n    }\n\n    for (i = 0; i < n - 1; i++) {\n        V[n - 1][i] = V[i][i];\n        V[i][i] = 1;\n        h = d[i + 1];\n        if (h !== 0) {\n            for (k = 0; k <= i; k++) {\n                d[k] = V[k][i + 1] / h;\n            }\n\n            for (j = 0; j <= i; j++) {\n                g = 0;\n                for (k = 0; k <= i; k++) {\n                    g += V[k][i + 1] * V[k][j];\n                }\n                for (k = 0; k <= i; k++) {\n                    V[k][j] -= g * d[k];\n                }\n            }\n        }\n\n        for (k = 0; k <= i; k++) {\n            V[k][i + 1] = 0;\n        }\n    }\n\n    for (j = 0; j < n; j++) {\n        d[j] = V[n - 1][j];\n        V[n - 1][j] = 0;\n    }\n\n    V[n - 1][n - 1] = 1;\n    e[0] = 0;\n}\n\nfunction tql2(n, e, d, V) {\n\n    var g, h, i, j, k, l, m, p, r,\n        dl1, c, c2, c3, el1, s, s2,\n        iter;\n\n    for (i = 1; i < n; i++) {\n        e[i - 1] = e[i];\n    }\n\n    e[n - 1] = 0;\n\n    var f = 0;\n    var tst1 = 0;\n    var eps = Number.EPSILON;\n\n    for (l = 0; l < n; l++) {\n        tst1 = Math.max(tst1, Math.abs(d[l]) + Math.abs(e[l]));\n        m = l;\n        while (m < n) {\n            if (Math.abs(e[m]) <= eps * tst1) {\n                break;\n            }\n            m++;\n        }\n\n        if (m > l) {\n            iter = 0;\n            do {\n                iter = iter + 1;\n\n                g = d[l];\n                p = (d[l + 1] - g) / (2 * e[l]);\n                r = hypotenuse(p, 1);\n                if (p < 0) {\n                    r = -r;\n                }\n\n                d[l] = e[l] / (p + r);\n                d[l + 1] = e[l] * (p + r);\n                dl1 = d[l + 1];\n                h = g - d[l];\n                for (i = l + 2; i < n; i++) {\n                    d[i] -= h;\n                }\n\n                f = f + h;\n\n                p = d[m];\n                c = 1;\n                c2 = c;\n                c3 = c;\n                el1 = e[l + 1];\n                s = 0;\n                s2 = 0;\n                for (i = m - 1; i >= l; i--) {\n                    c3 = c2;\n                    c2 = c;\n                    s2 = s;\n                    g = c * e[i];\n                    h = c * p;\n                    r = hypotenuse(p, e[i]);\n                    e[i + 1] = s * r;\n                    s = e[i] / r;\n                    c = p / r;\n                    p = c * d[i] - s * g;\n                    d[i + 1] = h + s * (c * g + s * d[i]);\n\n                    for (k = 0; k < n; k++) {\n                        h = V[k][i + 1];\n                        V[k][i + 1] = s * V[k][i] + c * h;\n                        V[k][i] = c * V[k][i] - s * h;\n                    }\n                }\n\n                p = -s * s2 * c3 * el1 * e[l] / dl1;\n                e[l] = s * p;\n                d[l] = c * p;\n\n            }\n            while (Math.abs(e[l]) > eps * tst1);\n        }\n        d[l] = d[l] + f;\n        e[l] = 0;\n    }\n\n    for (i = 0; i < n - 1; i++) {\n        k = i;\n        p = d[i];\n        for (j = i + 1; j < n; j++) {\n            if (d[j] < p) {\n                k = j;\n                p = d[j];\n            }\n        }\n\n        if (k !== i) {\n            d[k] = d[i];\n            d[i] = p;\n            for (j = 0; j < n; j++) {\n                p = V[j][i];\n                V[j][i] = V[j][k];\n                V[j][k] = p;\n            }\n        }\n    }\n}\n\nfunction orthes(n, H, ort, V) {\n\n    var low = 0;\n    var high = n - 1;\n    var f, g, h, i, j, m;\n    var scale;\n\n    for (m = low + 1; m <= high - 1; m++) {\n        scale = 0;\n        for (i = m; i <= high; i++) {\n            scale = scale + Math.abs(H[i][m - 1]);\n        }\n\n        if (scale !== 0) {\n            h = 0;\n            for (i = high; i >= m; i--) {\n                ort[i] = H[i][m - 1] / scale;\n                h += ort[i] * ort[i];\n            }\n\n            g = Math.sqrt(h);\n            if (ort[m] > 0) {\n                g = -g;\n            }\n\n            h = h - ort[m] * g;\n            ort[m] = ort[m] - g;\n\n            for (j = m; j < n; j++) {\n                f = 0;\n                for (i = high; i >= m; i--) {\n                    f += ort[i] * H[i][j];\n                }\n\n                f = f / h;\n                for (i = m; i <= high; i++) {\n                    H[i][j] -= f * ort[i];\n                }\n            }\n\n            for (i = 0; i <= high; i++) {\n                f = 0;\n                for (j = high; j >= m; j--) {\n                    f += ort[j] * H[i][j];\n                }\n\n                f = f / h;\n                for (j = m; j <= high; j++) {\n                    H[i][j] -= f * ort[j];\n                }\n            }\n\n            ort[m] = scale * ort[m];\n            H[m][m - 1] = scale * g;\n        }\n    }\n\n    for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n            V[i][j] = (i === j ? 1 : 0);\n        }\n    }\n\n    for (m = high - 1; m >= low + 1; m--) {\n        if (H[m][m - 1] !== 0) {\n            for (i = m + 1; i <= high; i++) {\n                ort[i] = H[i][m - 1];\n            }\n\n            for (j = m; j <= high; j++) {\n                g = 0;\n                for (i = m; i <= high; i++) {\n                    g += ort[i] * V[i][j];\n                }\n\n                g = (g / ort[m]) / H[m][m - 1];\n                for (i = m; i <= high; i++) {\n                    V[i][j] += g * ort[i];\n                }\n            }\n        }\n    }\n}\n\nfunction hqr2(nn, e, d, V, H) {\n    var n = nn - 1;\n    var low = 0;\n    var high = nn - 1;\n    var eps = Number.EPSILON;\n    var exshift = 0;\n    var norm = 0;\n    var p = 0;\n    var q = 0;\n    var r = 0;\n    var s = 0;\n    var z = 0;\n    var iter = 0;\n    var i, j, k, l, m, t, w, x, y;\n    var ra, sa, vr, vi;\n    var notlast, cdivres;\n\n    for (i = 0; i < nn; i++) {\n        if (i < low || i > high) {\n            d[i] = H[i][i];\n            e[i] = 0;\n        }\n\n        for (j = Math.max(i - 1, 0); j < nn; j++) {\n            norm = norm + Math.abs(H[i][j]);\n        }\n    }\n\n    while (n >= low) {\n        l = n;\n        while (l > low) {\n            s = Math.abs(H[l - 1][l - 1]) + Math.abs(H[l][l]);\n            if (s === 0) {\n                s = norm;\n            }\n            if (Math.abs(H[l][l - 1]) < eps * s) {\n                break;\n            }\n            l--;\n        }\n\n        if (l === n) {\n            H[n][n] = H[n][n] + exshift;\n            d[n] = H[n][n];\n            e[n] = 0;\n            n--;\n            iter = 0;\n        } else if (l === n - 1) {\n            w = H[n][n - 1] * H[n - 1][n];\n            p = (H[n - 1][n - 1] - H[n][n]) / 2;\n            q = p * p + w;\n            z = Math.sqrt(Math.abs(q));\n            H[n][n] = H[n][n] + exshift;\n            H[n - 1][n - 1] = H[n - 1][n - 1] + exshift;\n            x = H[n][n];\n\n            if (q >= 0) {\n                z = (p >= 0) ? (p + z) : (p - z);\n                d[n - 1] = x + z;\n                d[n] = d[n - 1];\n                if (z !== 0) {\n                    d[n] = x - w / z;\n                }\n                e[n - 1] = 0;\n                e[n] = 0;\n                x = H[n][n - 1];\n                s = Math.abs(x) + Math.abs(z);\n                p = x / s;\n                q = z / s;\n                r = Math.sqrt(p * p + q * q);\n                p = p / r;\n                q = q / r;\n\n                for (j = n - 1; j < nn; j++) {\n                    z = H[n - 1][j];\n                    H[n - 1][j] = q * z + p * H[n][j];\n                    H[n][j] = q * H[n][j] - p * z;\n                }\n\n                for (i = 0; i <= n; i++) {\n                    z = H[i][n - 1];\n                    H[i][n - 1] = q * z + p * H[i][n];\n                    H[i][n] = q * H[i][n] - p * z;\n                }\n\n                for (i = low; i <= high; i++) {\n                    z = V[i][n - 1];\n                    V[i][n - 1] = q * z + p * V[i][n];\n                    V[i][n] = q * V[i][n] - p * z;\n                }\n            } else {\n                d[n - 1] = x + p;\n                d[n] = x + p;\n                e[n - 1] = z;\n                e[n] = -z;\n            }\n\n            n = n - 2;\n            iter = 0;\n        } else {\n            x = H[n][n];\n            y = 0;\n            w = 0;\n            if (l < n) {\n                y = H[n - 1][n - 1];\n                w = H[n][n - 1] * H[n - 1][n];\n            }\n\n            if (iter === 10) {\n                exshift += x;\n                for (i = low; i <= n; i++) {\n                    H[i][i] -= x;\n                }\n                s = Math.abs(H[n][n - 1]) + Math.abs(H[n - 1][n - 2]);\n                x = y = 0.75 * s;\n                w = -0.4375 * s * s;\n            }\n\n            if (iter === 30) {\n                s = (y - x) / 2;\n                s = s * s + w;\n                if (s > 0) {\n                    s = Math.sqrt(s);\n                    if (y < x) {\n                        s = -s;\n                    }\n                    s = x - w / ((y - x) / 2 + s);\n                    for (i = low; i <= n; i++) {\n                        H[i][i] -= s;\n                    }\n                    exshift += s;\n                    x = y = w = 0.964;\n                }\n            }\n\n            iter = iter + 1;\n\n            m = n - 2;\n            while (m >= l) {\n                z = H[m][m];\n                r = x - z;\n                s = y - z;\n                p = (r * s - w) / H[m + 1][m] + H[m][m + 1];\n                q = H[m + 1][m + 1] - z - r - s;\n                r = H[m + 2][m + 1];\n                s = Math.abs(p) + Math.abs(q) + Math.abs(r);\n                p = p / s;\n                q = q / s;\n                r = r / s;\n                if (m === l) {\n                    break;\n                }\n                if (Math.abs(H[m][m - 1]) * (Math.abs(q) + Math.abs(r)) < eps * (Math.abs(p) * (Math.abs(H[m - 1][m - 1]) + Math.abs(z) + Math.abs(H[m + 1][m + 1])))) {\n                    break;\n                }\n                m--;\n            }\n\n            for (i = m + 2; i <= n; i++) {\n                H[i][i - 2] = 0;\n                if (i > m + 2) {\n                    H[i][i - 3] = 0;\n                }\n            }\n\n            for (k = m; k <= n - 1; k++) {\n                notlast = (k !== n - 1);\n                if (k !== m) {\n                    p = H[k][k - 1];\n                    q = H[k + 1][k - 1];\n                    r = (notlast ? H[k + 2][k - 1] : 0);\n                    x = Math.abs(p) + Math.abs(q) + Math.abs(r);\n                    if (x !== 0) {\n                        p = p / x;\n                        q = q / x;\n                        r = r / x;\n                    }\n                }\n\n                if (x === 0) {\n                    break;\n                }\n\n                s = Math.sqrt(p * p + q * q + r * r);\n                if (p < 0) {\n                    s = -s;\n                }\n\n                if (s !== 0) {\n                    if (k !== m) {\n                        H[k][k - 1] = -s * x;\n                    } else if (l !== m) {\n                        H[k][k - 1] = -H[k][k - 1];\n                    }\n\n                    p = p + s;\n                    x = p / s;\n                    y = q / s;\n                    z = r / s;\n                    q = q / p;\n                    r = r / p;\n\n                    for (j = k; j < nn; j++) {\n                        p = H[k][j] + q * H[k + 1][j];\n                        if (notlast) {\n                            p = p + r * H[k + 2][j];\n                            H[k + 2][j] = H[k + 2][j] - p * z;\n                        }\n\n                        H[k][j] = H[k][j] - p * x;\n                        H[k + 1][j] = H[k + 1][j] - p * y;\n                    }\n\n                    for (i = 0; i <= Math.min(n, k + 3); i++) {\n                        p = x * H[i][k] + y * H[i][k + 1];\n                        if (notlast) {\n                            p = p + z * H[i][k + 2];\n                            H[i][k + 2] = H[i][k + 2] - p * r;\n                        }\n\n                        H[i][k] = H[i][k] - p;\n                        H[i][k + 1] = H[i][k + 1] - p * q;\n                    }\n\n                    for (i = low; i <= high; i++) {\n                        p = x * V[i][k] + y * V[i][k + 1];\n                        if (notlast) {\n                            p = p + z * V[i][k + 2];\n                            V[i][k + 2] = V[i][k + 2] - p * r;\n                        }\n\n                        V[i][k] = V[i][k] - p;\n                        V[i][k + 1] = V[i][k + 1] - p * q;\n                    }\n                }\n            }\n        }\n    }\n\n    if (norm === 0) {\n        return;\n    }\n\n    for (n = nn - 1; n >= 0; n--) {\n        p = d[n];\n        q = e[n];\n\n        if (q === 0) {\n            l = n;\n            H[n][n] = 1;\n            for (i = n - 1; i >= 0; i--) {\n                w = H[i][i] - p;\n                r = 0;\n                for (j = l; j <= n; j++) {\n                    r = r + H[i][j] * H[j][n];\n                }\n\n                if (e[i] < 0) {\n                    z = w;\n                    s = r;\n                } else {\n                    l = i;\n                    if (e[i] === 0) {\n                        H[i][n] = (w !== 0) ? (-r / w) : (-r / (eps * norm));\n                    } else {\n                        x = H[i][i + 1];\n                        y = H[i + 1][i];\n                        q = (d[i] - p) * (d[i] - p) + e[i] * e[i];\n                        t = (x * s - z * r) / q;\n                        H[i][n] = t;\n                        H[i + 1][n] = (Math.abs(x) > Math.abs(z)) ? ((-r - w * t) / x) : ((-s - y * t) / z);\n                    }\n\n                    t = Math.abs(H[i][n]);\n                    if ((eps * t) * t > 1) {\n                        for (j = i; j <= n; j++) {\n                            H[j][n] = H[j][n] / t;\n                        }\n                    }\n                }\n            }\n        } else if (q < 0) {\n            l = n - 1;\n\n            if (Math.abs(H[n][n - 1]) > Math.abs(H[n - 1][n])) {\n                H[n - 1][n - 1] = q / H[n][n - 1];\n                H[n - 1][n] = -(H[n][n] - p) / H[n][n - 1];\n            } else {\n                cdivres = cdiv(0, -H[n - 1][n], H[n - 1][n - 1] - p, q);\n                H[n - 1][n - 1] = cdivres[0];\n                H[n - 1][n] = cdivres[1];\n            }\n\n            H[n][n - 1] = 0;\n            H[n][n] = 1;\n            for (i = n - 2; i >= 0; i--) {\n                ra = 0;\n                sa = 0;\n                for (j = l; j <= n; j++) {\n                    ra = ra + H[i][j] * H[j][n - 1];\n                    sa = sa + H[i][j] * H[j][n];\n                }\n\n                w = H[i][i] - p;\n\n                if (e[i] < 0) {\n                    z = w;\n                    r = ra;\n                    s = sa;\n                } else {\n                    l = i;\n                    if (e[i] === 0) {\n                        cdivres = cdiv(-ra, -sa, w, q);\n                        H[i][n - 1] = cdivres[0];\n                        H[i][n] = cdivres[1];\n                    } else {\n                        x = H[i][i + 1];\n                        y = H[i + 1][i];\n                        vr = (d[i] - p) * (d[i] - p) + e[i] * e[i] - q * q;\n                        vi = (d[i] - p) * 2 * q;\n                        if (vr === 0 && vi === 0) {\n                            vr = eps * norm * (Math.abs(w) + Math.abs(q) + Math.abs(x) + Math.abs(y) + Math.abs(z));\n                        }\n                        cdivres = cdiv(x * r - z * ra + q * sa, x * s - z * sa - q * ra, vr, vi);\n                        H[i][n - 1] = cdivres[0];\n                        H[i][n] = cdivres[1];\n                        if (Math.abs(x) > (Math.abs(z) + Math.abs(q))) {\n                            H[i + 1][n - 1] = (-ra - w * H[i][n - 1] + q * H[i][n]) / x;\n                            H[i + 1][n] = (-sa - w * H[i][n] - q * H[i][n - 1]) / x;\n                        } else {\n                            cdivres = cdiv(-r - y * H[i][n - 1], -s - y * H[i][n], z, q);\n                            H[i + 1][n - 1] = cdivres[0];\n                            H[i + 1][n] = cdivres[1];\n                        }\n                    }\n\n                    t = Math.max(Math.abs(H[i][n - 1]), Math.abs(H[i][n]));\n                    if ((eps * t) * t > 1) {\n                        for (j = i; j <= n; j++) {\n                            H[j][n - 1] = H[j][n - 1] / t;\n                            H[j][n] = H[j][n] / t;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    for (i = 0; i < nn; i++) {\n        if (i < low || i > high) {\n            for (j = i; j < nn; j++) {\n                V[i][j] = H[i][j];\n            }\n        }\n    }\n\n    for (j = nn - 1; j >= low; j--) {\n        for (i = low; i <= high; i++) {\n            z = 0;\n            for (k = low; k <= Math.min(j, high); k++) {\n                z = z + V[i][k] * H[k][j];\n            }\n            V[i][j] = z;\n        }\n    }\n}\n\nfunction cdiv(xr, xi, yr, yi) {\n    var r, d;\n    if (Math.abs(yr) > Math.abs(yi)) {\n        r = yi / yr;\n        d = yr + r * yi;\n        return [(xr + r * xi) / d, (xi - r * xr) / d];\n    } else {\n        r = yr / yi;\n        d = yi + r * yr;\n        return [(r * xr + xi) / d, (r * xi - xr) / d];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/evd.js","import {Matrix, WrapperMatrix2D} from '../index';\n\n/**\n * @class CholeskyDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/CholeskyDecomposition.cs\n * @param {Matrix} value\n */\nexport default class CholeskyDecomposition {\n    constructor(value) {\n        value = WrapperMatrix2D.checkMatrix(value);\n        if (!value.isSymmetric()) {\n            throw new Error('Matrix is not symmetric');\n        }\n\n        var a = value;\n        var dimension = a.rows;\n        var l = new Matrix(dimension, dimension);\n        var positiveDefinite = true;\n        var i, j, k;\n\n        for (j = 0; j < dimension; j++) {\n            var Lrowj = l[j];\n            var d = 0;\n            for (k = 0; k < j; k++) {\n                var Lrowk = l[k];\n                var s = 0;\n                for (i = 0; i < k; i++) {\n                    s += Lrowk[i] * Lrowj[i];\n                }\n                Lrowj[k] = s = (a.get(j, k) - s) / l[k][k];\n                d = d + s * s;\n            }\n\n            d = a.get(j, j) - d;\n\n            positiveDefinite &= (d > 0);\n            l[j][j] = Math.sqrt(Math.max(d, 0));\n            for (k = j + 1; k < dimension; k++) {\n                l[j][k] = 0;\n            }\n        }\n\n        if (!positiveDefinite) {\n            throw new Error('Matrix is not positive definite');\n        }\n\n        this.L = l;\n    }\n\n    /**\n     *\n     * @param {Matrix} value\n     * @return {Matrix}\n     */\n    solve(value) {\n        value = WrapperMatrix2D.checkMatrix(value);\n\n        var l = this.L;\n        var dimension = l.rows;\n\n        if (value.rows !== dimension) {\n            throw new Error('Matrix dimensions do not match');\n        }\n\n        var count = value.columns;\n        var B = value.clone();\n        var i, j, k;\n\n        for (k = 0; k < dimension; k++) {\n            for (j = 0; j < count; j++) {\n                for (i = 0; i < k; i++) {\n                    B[k][j] -= B[i][j] * l[k][i];\n                }\n                B[k][j] /= l[k][k];\n            }\n        }\n\n        for (k = dimension - 1; k >= 0; k--) {\n            for (j = 0; j < count; j++) {\n                for (i = k + 1; i < dimension; i++) {\n                    B[k][j] -= B[i][j] * l[i][k];\n                }\n                B[k][j] /= l[k][k];\n            }\n        }\n\n        return B;\n    }\n\n    /**\n     *\n     * @return {Matrix}\n     */\n    get lowerTriangularMatrix() {\n        return this.L;\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/cholesky.js","import Matrix from 'ml-matrix';\nimport meanArray from 'ml-array-mean';\n\n/**\n * @private\n * return an array of probabilities of each class\n * @param {Array} array - contains the classes\n * @param {number} numberOfClasses\n * @return {Matrix} - rowVector of probabilities.\n */\nexport function toDiscreteDistribution(array, numberOfClasses) {\n    var counts = new Array(numberOfClasses).fill(0);\n    for (var i = 0; i < array.length; ++i) {\n        counts[array[i]] += 1 / array.length;\n    }\n\n    return Matrix.rowVector(counts);\n}\n\n/**\n * @private\n * Retrieves the impurity of array of predictions\n * @param {Array} array - predictions.\n * @return {number} Gini impurity\n */\nexport function giniImpurity(array) {\n    if (array.length === 0) {\n        return 0;\n    }\n\n    var probabilities = toDiscreteDistribution(array, getNumberOfClasses(array))[0];\n\n    var sum = 0.0;\n    for (var i = 0; i < probabilities.length; ++i) {\n        sum += probabilities[i] * probabilities[i];\n    }\n\n    return 1 - sum;\n}\n\n/**\n * @private\n * Return the number of classes given the array of predictions.\n * @param {Array} array - predictions.\n * @return {number} Number of classes.\n */\nexport function getNumberOfClasses(array) {\n    return array.filter(function (val, i, arr) {\n        return arr.indexOf(val) === i;\n    }).length;\n}\n\n/**\n * @private\n * Calculates the Gini Gain of an array of predictions and those predictions splitted by a feature.\n * @para {Array} array - Predictions\n * @param {object} splitted - Object with elements \"greater\" and \"lesser\" that contains an array of predictions splitted.\n * @return {number} - Gini Gain.\n */\n\nexport function giniGain(array, splitted) {\n    var splitsImpurity = 0.0;\n    var splits = ['greater', 'lesser'];\n\n    for (var i = 0; i < splits.length; ++i) {\n        var currentSplit = splitted[splits[i]];\n        splitsImpurity += giniImpurity(currentSplit) * currentSplit.length / array.length;\n    }\n\n    return giniImpurity(array) - splitsImpurity;\n}\n\n/**\n * @private\n * Calculates the squared error of a predictions values.\n * @param {Array} array - predictions values\n * @return {number} squared error.\n */\nexport function squaredError(array) {\n    var l = array.length;\n\n    var m = meanArray(array);\n    var squaredError = 0.0;\n\n    for (var i = 0; i < l; ++i) {\n        var currentElement = array[i];\n        squaredError += (currentElement - m) * (currentElement - m);\n    }\n\n    return squaredError;\n}\n\n/**\n * @private\n * Calculates the sum of squared error of the two arrays that contains the splitted values.\n * @param {Array} array - this argument is no necessary but is used to fit with the main interface.\n * @param {object} splitted - Object with elements \"greater\" and \"lesser\" that contains an array of predictions splitted.\n * @return {number} - sum of squared errors.\n */\nexport function regressionError(array, splitted) {\n    var error = 0.0;\n    var splits = ['greater', 'lesser'];\n\n    for (var i = 0; i < splits.length; ++i) {\n        var currentSplit = splitted[splits[i]];\n        error += squaredError(currentSplit);\n    }\n    return error;\n}\n\n/**\n * @private\n * Split the training set and values from a given column of the training set if is less than a value\n * @param {Matrix} X - Training set.\n * @param {Array} y - Training values.\n * @param {number} column - Column to split.\n * @param {number} value - value to split the Training set and values.\n * @return {object} - Object that contains the splitted values.\n */\nexport function matrixSplitter(X, y, column, value) {\n    var lesserX = [];\n    var greaterX = [];\n    var lesserY = [];\n    var greaterY = [];\n\n    for (var i = 0; i < X.rows; ++i) {\n        if (X[i][column] < value) {\n            lesserX.push(X[i]);\n            lesserY.push(y[i]);\n        } else {\n            greaterX.push(X[i]);\n            greaterY.push(y[i]);\n        }\n    }\n\n    return {\n        greaterX: greaterX,\n        greaterY: greaterY,\n        lesserX: lesserX,\n        lesserY: lesserY\n    };\n}\n\n/**\n * @private\n * Calculates the mean between two values\n * @param {number} a\n * @param {number} b\n * @return {number}\n */\nexport function mean(a, b) {\n    return (a + b) / 2;\n}\n\n/**\n * @private\n * Returns a list of tuples that contains the i-th element of each array.\n * @param {Array} a\n * @param {Array} b\n * @return {Array} list of tuples.\n */\nexport function zip(a, b) {\n    if (a.length !== b.length) {\n        throw new TypeError('Error on zip: the size of a: ' + a.length + ' is different from b: ' + b.length);\n    }\n\n    var ret = new Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = [a[i], b[i]];\n    }\n\n    return ret;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/utils.js","import Matrix from 'ml-matrix';\nimport Tree from './TreeNode';\n\nconst defaultOptions = {\n    gainFunction: 'regression',\n    splitFunction: 'mean',\n    minNumSamples: 3,\n    maxDepth: Infinity\n};\n\nexport class DecisionTreeRegression {\n\n    /**\n     * Create new Decision Tree Regression with CART implementation with the given options.\n     * @param {object} options\n     * @param {string} [options.gainFunction=\"regression\"] - gain function to get the best split, \"regression\" the only one supported.\n     * @param {string} [options.splitFunction=\"mean\"] - given two integers from a split feature, get the value to split, \"mean\" the only one supported.\n     * @param {number} [options.minNumSamples=3] - minimum number of samples to create a leaf node to decide a class.\n     * @param {number} [options.maxDepth=Infinity] - Max depth of the tree.\n     * @param {object} model - for load purposes.\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.options = model.options;\n            this.root = new Tree(model.options);\n            this.root.setNodeParameters(model.root);\n        } else {\n            this.options = Object.assign({}, defaultOptions, options);\n            this.options.kind = 'regression';\n        }\n    }\n\n    /**\n     * Train the decision tree with the given training set and values.\n     * @param {Matrix|MatrixTransposeView|Array} trainingSet\n     * @param {Array} trainingValues\n     */\n    train(trainingSet, trainingValues) {\n        this.root = new Tree(this.options);\n\n        if (trainingSet[0].length === undefined) trainingSet = Matrix.columnVector(trainingSet);\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        this.root.train(trainingSet, trainingValues, 0);\n    }\n\n    /**\n     * Predicts the values given the matrix to predict.\n     * @param {Matrix|MatrixTransposeView|Array} toPredict\n     * @return {Array} predictions\n     */\n    predict(toPredict) {\n        if (toPredict[0] !== undefined && toPredict[0].length === undefined) toPredict = Matrix.columnVector(toPredict);\n        toPredict = Matrix.checkMatrix(toPredict);\n\n        var predictions = new Array(toPredict.rows);\n        for (var i = 0; i < toPredict.rows; ++i) {\n            predictions[i] = this.root.classify(toPredict.getRow(i));\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            options: this.options,\n            root: this.root,\n            name: 'DTRegression'\n        };\n    }\n\n    /**\n     * Load a Decision tree regression with the given model.\n     * @param {object} model\n     * @return {DecisionTreeRegression}\n     */\n    static load(model) {\n        if (model.name !== 'DTRegression') {\n            throw new RangeError('Invalid model:' + model.name);\n        }\n\n        return new DecisionTreeRegression(true, model);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/DecisionTreeRegression.js","'use strict';\n\nconst matrixLib = require('ml-matrix');\nconst Matrix = matrixLib.Matrix;\nconst EVD = matrixLib.EVD;\nconst SVD = matrixLib.SVD;\nconst Stat = require('ml-stat/matrix');\nconst mean = Stat.mean;\nconst stdev = Stat.standardDeviation;\n\nconst defaultOptions = {\n    isCovarianceMatrix: false,\n    center: true,\n    scale: false\n};\n\n/**\n * Creates new PCA (Principal Component Analysis) from the dataset\n * @param {Matrix} dataset - dataset or covariance matrix\n * @param {Object} options\n * @param {boolean} [options.isCovarianceMatrix=false] - true if the dataset is a covariance matrix\n * @param {boolean} [options.center=true] - should the data be centered (subtract the mean)\n * @param {boolean} [options.scale=false] - should the data be scaled (divide by the standard deviation)\n * */\nclass PCA {\n    constructor(dataset, options) {\n        if (dataset === true) {\n            const model = options;\n            this.center = model.center;\n            this.scale = model.scale;\n            this.means = model.means;\n            this.stdevs = model.stdevs;\n            this.U = Matrix.checkMatrix(model.U);\n            this.S = model.S;\n            return;\n        }\n\n        options = Object.assign({}, defaultOptions, options);\n\n        this.center = false;\n        this.scale = false;\n        this.means = null;\n        this.stdevs = null;\n\n        if (options.isCovarianceMatrix) { // user provided a covariance matrix instead of dataset\n            this._computeFromCovarianceMatrix(dataset);\n            return;\n        }\n\n        var useCovarianceMatrix;\n        if (typeof options.useCovarianceMatrix === 'boolean') {\n            useCovarianceMatrix = options.useCovarianceMatrix;\n        } else {\n            useCovarianceMatrix = dataset.length > dataset[0].length;\n        }\n\n        if (useCovarianceMatrix) { // user provided a dataset but wants us to compute and use the covariance matrix\n            dataset = this._adjust(dataset, options);\n            const covarianceMatrix = dataset.transposeView().mmul(dataset).div(dataset.rows - 1);\n            this._computeFromCovarianceMatrix(covarianceMatrix);\n        } else {\n            dataset = this._adjust(dataset, options);\n            var svd = new SVD(dataset, {\n                computeLeftSingularVectors: false,\n                computeRightSingularVectors: true,\n                autoTranspose: true\n            });\n\n            this.U = svd.rightSingularVectors;\n\n            const singularValues = svd.diagonal;\n            const eigenvalues = new Array(singularValues.length);\n            for (var i = 0; i < singularValues.length; i++) {\n                eigenvalues[i] = singularValues[i] * singularValues[i] / (dataset.length - 1);\n            }\n            this.S = eigenvalues;\n        }\n    }\n\n    /**\n     * Load a PCA model from JSON\n     * @param {Object} model\n     * @return {PCA}\n     */\n    static load(model) {\n        if (model.name !== 'PCA')\n            throw new RangeError('Invalid model: ' + model.name);\n        return new PCA(true, model);\n    }\n\n\n    /**\n     * Project the dataset into the PCA space\n     * @param {Matrix} dataset\n     * @param {Object} options\n     * @return {Matrix} dataset projected in the PCA space\n     */\n    predict(dataset, options = {}) {\n        const {\n           nComponents = this.U.columns\n        } = options;\n\n        dataset = new Matrix(dataset);\n        if (this.center) {\n            dataset.subRowVector(this.means);\n            if (this.scale) {\n                dataset.divRowVector(this.stdevs);\n            }\n        }\n\n        var predictions = dataset.mmul(this.U);\n        return predictions.subMatrix(0, predictions.rows - 1, 0, nComponents - 1);\n    }\n\n    /**\n     * Returns the proportion of variance for each component\n     * @return {[number]}\n     */\n    getExplainedVariance() {\n        var sum = 0;\n        for (var i = 0; i < this.S.length; i++) {\n            sum += this.S[i];\n        }\n        return this.S.map(value => value / sum);\n    }\n\n    /**\n     * Returns the cumulative proportion of variance\n     * @return {[number]}\n     */\n    getCumulativeVariance() {\n        var explained = this.getExplainedVariance();\n        for (var i = 1; i < explained.length; i++) {\n            explained[i] += explained[i - 1];\n        }\n        return explained;\n    }\n\n    /**\n     * Returns the Eigenvectors of the covariance matrix\n     * @returns {Matrix}\n     */\n    getEigenvectors() {\n        return this.U;\n    }\n\n    /**\n     * Returns the Eigenvalues (on the diagonal)\n     * @returns {[number]}\n     */\n    getEigenvalues() {\n        return this.S;\n    }\n\n    /**\n     * Returns the standard deviations of the principal components\n     * @returns {[number]}\n     */\n    getStandardDeviations() {\n        return this.S.map(x => Math.sqrt(x));\n    }\n\n    /**\n     * Returns the loadings matrix\n     * @return {Matrix}\n     */\n    getLoadings() {\n        return this.U.transpose();\n    }\n\n    /**\n     * Export the current model to a JSON object\n     * @return {Object} model\n     */\n    toJSON() {\n        return {\n            name: 'PCA',\n            center: this.center,\n            scale: this.scale,\n            means: this.means,\n            stdevs: this.stdevs,\n            U: this.U,\n            S: this.S,\n        };\n    }\n\n    _adjust(dataset, options) {\n        this.center = !!options.center;\n        this.scale = !!options.scale;\n\n        dataset = new Matrix(dataset);\n\n        if (this.center) {\n            const means = mean(dataset);\n            const stdevs = this.scale ? stdev(dataset, means, true) : null;\n            this.means = means;\n            dataset.subRowVector(means);\n            if (this.scale) {\n                for (var i = 0; i < stdevs.length; i++) {\n                    if (stdevs[i] === 0) {\n                        throw new RangeError('Cannot scale the dataset (standard deviation is zero at index ' + i);\n                    }\n                }\n                this.stdevs = stdevs;\n                dataset.divRowVector(stdevs);\n            }\n        }\n\n        return dataset;\n    }\n\n    _computeFromCovarianceMatrix(dataset) {\n        const evd = new EVD(dataset, {assumeSymmetric: true});\n        this.U = evd.eigenvectorMatrix;\n        for (var i = 0; i < this.U.length; i++) {\n            this.U[i].reverse();\n        }\n        this.S = evd.realEigenvalues.reverse();\n    }\n}\n\nmodule.exports = PCA;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pca/src/pca.js","'use strict';\n\nexports.agnes = require('./agnes');\nexports.diana = require('./diana');\n//exports.birch = require('./birch');\n//exports.cure = require('./cure');\n//exports.chameleon = require('./chameleon');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/index.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\nconst ClusterLeaf = require('./ClusterLeaf');\nconst Cluster = require('./Cluster');\nconst distanceMatrix = require('ml-distance-matrix');\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction simpleLink(cluster1, cluster2, disFun) {\n    var m = 10e100;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            var d = disFun[cluster1[i]][ cluster2[j]];\n            m = Math.min(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction completeLink(cluster1, cluster2, disFun) {\n    var m = -1;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            var d = disFun[cluster1[i]][ cluster2[j]];\n            m = Math.max(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction averageLink(cluster1, cluster2, disFun) {\n    var m = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            m += disFun[cluster1[i]][ cluster2[j]];\n        }\n    }\n    return m / (cluster1.length * cluster2.length);\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {*}\n */\nfunction centroidLink(cluster1, cluster2, disFun) {\n    var dist = new Array(cluster1.length * cluster2.length);\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            dist[i * cluster2.length + j] = (disFun[cluster1[i]][ cluster2[j]]);\n        }\n    }\n    return median(dist);\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction wardLink(cluster1, cluster2, disFun) {\n    return centroidLink(cluster1, cluster2, disFun)\n        * cluster1.length * cluster2.length / (cluster1.length + cluster2.length);\n}\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\nfunction median(values, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return (values[half - 1] + values[half]) * 0.5;\n    } else {\n        return values[half];\n    }\n}\n\nvar defaultOptions = {\n    disFunc: euclidean,\n    kind: 'single',\n    isDistanceMatrix: false\n\n};\n\n/**\n * Continuously merge nodes that have the least dissimilarity\n * @param {Array <Array <number>>} distance - Array of points to be clustered\n * @param {json} options\n * @option isDistanceMatrix: Is the input a distance matrix?\n * @constructor\n */\nfunction agnes(data, options) {\n    options = Object.assign({}, defaultOptions, options);\n    var len = data.length;\n    var distance = data;//If source\n    if (!options.isDistanceMatrix) {\n        distance = distanceMatrix(data, options.disFunc);\n    }\n\n\n    // allows to use a string or a given function\n    if (typeof options.kind === 'string') {\n        switch (options.kind) {\n            case 'single':\n                options.kind = simpleLink;\n                break;\n            case 'complete':\n                options.kind = completeLink;\n                break;\n            case 'average':\n                options.kind = averageLink;\n                break;\n            case 'centroid':\n                options.kind = centroidLink;\n                break;\n            case 'ward':\n                options.kind = wardLink;\n                break;\n            default:\n                throw new RangeError('Unknown kind of similarity');\n        }\n    } else if (typeof options.kind !== 'function') {\n        throw new TypeError('Undefined kind of similarity');\n    }\n\n    var list = new Array(len);\n    for (var i = 0; i < distance.length; i++) {\n        list[i] = new ClusterLeaf(i);\n    }\n    var min = 10e5,\n        d = {},\n        dis = 0;\n\n    while (list.length > 1) {\n        // calculates the minimum distance\n        d = {};\n        min = 10e5;\n        for (var j = 0; j < list.length; j++) {\n            for (var k = j + 1; k < list.length; k++) {\n                var fdistance, sdistance;\n                if (list[j] instanceof ClusterLeaf) {\n                    fdistance = [list[j].index];\n                } else {\n                    fdistance = new Array(list[j].index.length);\n                    for (var e = 0; e < fdistance.length; e++) {\n                        fdistance[e] = list[j].index[e].index;\n                    }\n                }\n                if (list[k] instanceof ClusterLeaf) {\n                    sdistance = [list[k].index];\n                } else {\n                    sdistance = new Array(list[k].index.length);\n                    for (var f = 0; f < sdistance.length; f++) {\n                        sdistance[f] = list[k].index[f].index;\n                    }\n                }\n                dis = options.kind(fdistance, sdistance, distance).toFixed(4);\n                if (dis in d) {\n                    d[dis].push([list[j], list[k]]);\n                } else {\n                    d[dis] = [[list[j], list[k]]];\n                }\n                min = Math.min(dis, min);\n            }\n        }\n        // cluster dots\n        var dmin = d[min.toFixed(4)];\n        var clustered = new Array(dmin.length);\n        var aux,\n            count = 0;\n        while (dmin.length > 0) {\n            aux = dmin.shift();\n            for (var q = 0; q < dmin.length; q++) {\n                var int = dmin[q].filter(function (n) {\n                    //noinspection JSReferencingMutableVariableFromClosure\n                    return aux.indexOf(n) !== -1;\n                });\n                if (int.length > 0) {\n                    var diff = dmin[q].filter(function (n) {\n                        //noinspection JSReferencingMutableVariableFromClosure\n                        return aux.indexOf(n) === -1;\n                    });\n                    aux = aux.concat(diff);\n                    dmin.splice(q--, 1);\n                }\n            }\n            clustered[count++] = aux;\n        }\n        clustered.length = count;\n\n        for (var ii = 0; ii < clustered.length; ii++) {\n            var obj = new Cluster();\n            obj.children = clustered[ii].concat();\n            obj.distance = min;\n            obj.index = new Array(len);\n            var indCount = 0;\n            for (var jj = 0; jj < clustered[ii].length; jj++) {\n                if (clustered[ii][jj] instanceof ClusterLeaf) {\n                    obj.index[indCount++] = clustered[ii][jj];\n                } else {\n                    indCount += clustered[ii][jj].index.length;\n                    obj.index = clustered[ii][jj].index.concat(obj.index);\n                }\n                list.splice((list.indexOf(clustered[ii][jj])), 1);\n            }\n            obj.index.length = indCount;\n            list.push(obj);\n        }\n    }\n    return list[0];\n}\n\nmodule.exports = agnes;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/agnes.js","module.exports = require('./lib/heap');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/heap/index.js","// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/heap/lib/heap.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/util/util.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/process/browser.js","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/util/support/isBufferBrowser.js","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/util/node_modules/inherits/inherits_browser.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\nconst ClusterLeaf = require('./ClusterLeaf');\nconst Cluster = require('./Cluster');\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction simpleLink(cluster1, cluster2, disFun) {\n    var m = 10e100;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = i; j < cluster2.length; j++) {\n            var d = disFun(cluster1[i], cluster2[j]);\n            m = Math.min(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction completeLink(cluster1, cluster2, disFun) {\n    var m = -1;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = i; j < cluster2.length; j++) {\n            var d = disFun(cluster1[i], cluster2[j]);\n            m = Math.max(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction averageLink(cluster1, cluster2, disFun) {\n    var m = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            m += disFun(cluster1[i], cluster2[j]);\n        }\n    }\n    return m / (cluster1.length * cluster2.length);\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction centroidLink(cluster1, cluster2, disFun) {\n    var x1 = 0,\n        y1 = 0,\n        x2 = 0,\n        y2 = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        x1 += cluster1[i][0];\n        y1 += cluster1[i][1];\n    }\n    for (var j = 0; j < cluster2.length; j++) {\n        x2 += cluster2[j][0];\n        y2 += cluster2[j][1];\n    }\n    x1 /= cluster1.length;\n    y1 /= cluster1.length;\n    x2 /= cluster2.length;\n    y2 /= cluster2.length;\n    return disFun([x1, y1], [x2, y2]);\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction wardLink(cluster1, cluster2, disFun) {\n    var x1 = 0,\n        y1 = 0,\n        x2 = 0,\n        y2 = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        x1 += cluster1[i][0];\n        y1 += cluster1[i][1];\n    }\n    for (var j = 0; j < cluster2.length; j++) {\n        x2 += cluster2[j][0];\n        y2 += cluster2[j][1];\n    }\n    x1 /= cluster1.length;\n    y1 /= cluster1.length;\n    x2 /= cluster2.length;\n    y2 /= cluster2.length;\n    return disFun([x1, y1], [x2, y2]) * cluster1.length * cluster2.length / (cluster1.length + cluster2.length);\n}\n\n/**\n * @private\n * Returns the most distant point and his distance\n * @param {Array <Array <number>>} splitting - Clusters to split\n * @param {Array <Array <number>>} data - Original data\n * @param {function} disFun - Distance function\n * @returns {{d: number, p: number}} - d: maximum difference between points, p: the point more distant\n */\nfunction diff(splitting, data, disFun) {\n    var ans = {\n        d: 0,\n        p: 0\n    };\n\n    var Ci = new Array(splitting[0].length);\n    for (var e = 0; e < splitting[0].length; e++) {\n        Ci[e] = data[splitting[0][e]];\n    }\n    var Cj = new Array(splitting[1].length);\n    for (var f = 0; f < splitting[1].length; f++) {\n        Cj[f] = data[splitting[1][f]];\n    }\n\n    var dist, ndist;\n    for (var i = 0; i < Ci.length; i++) {\n        dist = 0;\n        for (var j = 0; j < Ci.length; j++) {\n            if (i !== j) {\n                dist += disFun(Ci[i], Ci[j]);\n            }\n        }\n        dist /= (Ci.length - 1);\n        ndist = 0;\n        for (var k = 0; k < Cj.length; k++) {\n            ndist += disFun(Ci[i], Cj[k]);\n        }\n        ndist /= Cj.length;\n        if ((dist - ndist) > ans.d) {\n            ans.d = (dist - ndist);\n            ans.p = i;\n        }\n    }\n    return ans;\n}\n\nvar defaultOptions = {\n    dist: euclidean,\n    kind: 'single'\n};\n\n/**\n * @private\n * Intra-cluster distance\n * @param {Array} index\n * @param {Array} data\n * @param {function} disFun\n * @returns {number}\n */\nfunction intrDist(index, data, disFun) {\n    var dist = 0,\n        count = 0;\n    for (var i = 0; i < index.length; i++) {\n        for (var j = i; j < index.length; j++) {\n            dist += disFun(data[index[i].index], data[index[j].index]);\n            count++;\n        }\n    }\n    return dist / count;\n}\n\n/**\n * Splits the higher level clusters\n * @param {Array <Array <number>>} data - Array of points to be clustered\n * @param {json} options\n * @constructor\n */\nfunction diana(data, options) {\n    options = Object.assign({}, defaultOptions, options);\n    if (typeof options.kind === 'string') {\n        switch (options.kind) {\n            case 'single':\n                options.kind = simpleLink;\n                break;\n            case 'complete':\n                options.kind = completeLink;\n                break;\n            case 'average':\n                options.kind = averageLink;\n                break;\n            case 'centroid':\n                options.kind = centroidLink;\n                break;\n            case 'ward':\n                options.kind = wardLink;\n                break;\n            default:\n                throw new RangeError('Unknown kind of similarity');\n        }\n    } else if (typeof options.kind !== 'function') {\n        throw new TypeError('Undefined kind of similarity');\n    }\n    var tree = new Cluster();\n    tree.children = new Array(data.length);\n    tree.index = new Array(data.length);\n    for (var ind = 0; ind < data.length; ind++) {\n        tree.children[ind] = new ClusterLeaf(ind);\n        tree.index[ind] = new ClusterLeaf(ind);\n    }\n\n    tree.distance = intrDist(tree.index, data, options.dist);\n    var m, M, clId,\n        dist, rebel;\n    var list = [tree];\n    while (list.length > 0) {\n        M = 0;\n        clId = 0;\n        for (var i = 0; i < list.length; i++) {\n            m = 0;\n            for (var j = 0; j < list[i].length; j++) {\n                for (var l = (j + 1); l < list[i].length; l++) {\n                    m = Math.max(options.dist(data[list[i].index[j].index], data[list[i].index[l].index]), m);\n                }\n            }\n            if (m > M) {\n                M = m;\n                clId = i;\n            }\n        }\n        M = 0;\n        if (list[clId].index.length === 2) {\n            list[clId].children = [list[clId].index[0], list[clId].index[1]];\n            list[clId].distance = options.dist(data[list[clId].index[0].index], data[list[clId].index[1].index]);\n        } else if (list[clId].index.length === 3) {\n            list[clId].children = [list[clId].index[0], list[clId].index[1], list[clId].index[2]];\n            var d = [\n                options.dist(data[list[clId].index[0].index], data[list[clId].index[1].index]),\n                options.dist(data[list[clId].index[1].index], data[list[clId].index[2].index])\n            ];\n            list[clId].distance = (d[0] + d[1]) / 2;\n        } else {\n            var C = new Cluster();\n            var sG = new Cluster();\n            var splitting = [new Array(list[clId].index.length), []];\n            for (var spl = 0; spl < splitting[0].length; spl++) {\n                splitting[0][spl] = spl;\n            }\n            for (var ii = 0; ii < splitting[0].length; ii++) {\n                dist = 0;\n                for (var jj = 0; jj < splitting[0].length; jj++) {\n                    if (ii !== jj) {\n                        dist += options.dist(data[list[clId].index[splitting[0][jj]].index], data[list[clId].index[splitting[0][ii]].index]);\n                    }\n                }\n                dist /= (splitting[0].length - 1);\n                if (dist > M) {\n                    M = dist;\n                    rebel = ii;\n                }\n            }\n            splitting[1] = [rebel];\n            splitting[0].splice(rebel, 1);\n            dist = diff(splitting, data, options.dist);\n            while (dist.d > 0) {\n                splitting[1].push(splitting[0][dist.p]);\n                splitting[0].splice(dist.p, 1);\n                dist = diff(splitting, data, options.dist);\n            }\n            var fData = new Array(splitting[0].length);\n            C.index = new Array(splitting[0].length);\n            for (var e = 0; e < fData.length; e++) {\n                fData[e] = data[list[clId].index[splitting[0][e]].index];\n                C.index[e] = list[clId].index[splitting[0][e]];\n                C.children[e] = list[clId].index[splitting[0][e]];\n            }\n            var sData = new Array(splitting[1].length);\n            sG.index = new Array(splitting[1].length);\n            for (var f = 0; f < sData.length; f++) {\n                sData[f] = data[list[clId].index[splitting[1][f]].index];\n                sG.index[f] = list[clId].index[splitting[1][f]];\n                sG.children[f] = list[clId].index[splitting[1][f]];\n            }\n            C.distance = intrDist(C.index, data, options.dist);\n            sG.distance = intrDist(sG.index, data, options.dist);\n            list.push(C);\n            list.push(sG);\n            list[clId].children = [C, sG];\n        }\n        list.splice(clId, 1);\n    }\n    return tree;\n}\n\nmodule.exports = diana;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/diana.js","'use strict';\n\nconst utils = require('./utils');\nconst init = require('./initialization');\nconst KMeansResult = require('./KMeansResult');\nconst squaredDistance = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    maxIterations: 100,\n    tolerance: 1e-6,\n    withIterations: false,\n    initialization: 'mostDistant',\n    distanceFunction: squaredDistance\n};\n\n/**\n * Each step operation for kmeans\n * @ignore\n * @param {Array<Array<Number>>} centers - the K centers in format [x,y,z,...]\n * @param {Array<Array<Number>>} data - the [x,y,z,...] points to cluster\n * @param {Array<Number>} clusterID - the cluster identifier for each data dot\n * @param {Number} K - Number of clusters\n * @param {Object} [options] - Option object\n * @param {Number} iterations - Current number of iterations\n * @return {KMeansResult}\n */\nfunction step(centers, data, clusterID, K, options, iterations) {\n    clusterID = utils.updateClusterID(data, centers, clusterID, options.distanceFunction);\n    var newCenters = utils.updateCenters(data, clusterID, K);\n    var converged = utils.converged(newCenters, centers, options.distanceFunction, options.tolerance);\n    return new KMeansResult(clusterID, newCenters, converged, iterations, options.distanceFunction);\n}\n\n/**\n * Generator version for the algorithm\n * @ignore\n * @param {Array<Array<Number>>} centers - the K centers in format [x,y,z,...]\n * @param {Array<Array<Number>>} data - the [x,y,z,...] points to cluster\n * @param {Array<Number>} clusterID - the cluster identifier for each data dot\n * @param {Number} K - Number of clusters\n * @param {Object} [options] - Option object\n */\nfunction* kmeansGenerator(centers, data, clusterID, K, options) {\n    var converged = false;\n    var stepNumber = 0;\n    var stepResult;\n    while (!converged && (stepNumber < options.maxIterations)) {\n        stepResult = step(centers, data, clusterID, K, options, ++stepNumber);\n        yield stepResult.computeInformation(data);\n        converged = stepResult.converged;\n        centers = stepResult.centroids;\n    }\n}\n\n/**\n * K-means algorithm\n * @param {Array<Array<Number>>} data - Points in the format to cluster [x,y,z,...]\n * @param {Number} K - Number of clusters\n * @param {Object} [options] - Option object\n * @param {Number} [options.maxIterations = 100] - Maximum of iterations allowed\n * @param {Number} [options.tolerance = 1e-6] - Error tolerance\n * @param {Boolean} [options.withIterations = false] - Store clusters and centroids for each iteration\n * @param {Function} [options.distanceFunction = squaredDistance] - Distance function to use between the points\n * @param {String|Array<Array<Number>>} [options.initialization = 'moreDistant'] - K centers in format [x,y,z,...] or a method for initialize the data:\n *  * `'random'` will choose K random different values.\n *  * `'mostDistant'` will choose the more distant points to a first random pick\n * @returns {KMeansResult} - Cluster identifier for each data dot and centroids with the following fields:\n *  * `'clusters'`: Array of indexes for the clusters.\n *  * `'centroids'`: Array with the resulting centroids.\n *  * `'iterations'`: Number of iterations that took to converge\n */\nfunction kmeans(data, K, options) {\n    options = Object.assign({}, defaultOptions, options);\n\n    if (K <= 0 || K > data.length || !Number.isInteger(K)) {\n        throw new Error('K should be a positive integer bigger than the number of points');\n    }\n\n    var centers;\n    if (Array.isArray(options.initialization)) {\n        if (options.initialization.length !== K) {\n            throw new Error('The initial centers should have the same length as K');\n        } else {\n            centers = options.initialization;\n        }\n    } else {\n        switch (options.initialization) {\n            case 'random':\n                centers = init.random(data, K);\n                break;\n            case 'mostDistant':\n                centers = init.mostDistant(data, K, utils.calculateDistanceMatrix(data, options.distanceFunction));\n                break;\n            default:\n                throw new Error('Unknown initialization method: \"' + options.initialization + '\"');\n        }\n    }\n\n    // infinite loop until convergence\n    if (options.maxIterations === 0) {\n        options.maxIterations = Number.MAX_VALUE;\n    }\n\n    var clusterID = new Array(data.length);\n    if (options.withIterations) {\n        return kmeansGenerator(centers, data, clusterID, K, options);\n    } else {\n        var converged = false;\n        var stepNumber = 0;\n        var stepResult;\n        while (!converged && (stepNumber < options.maxIterations)) {\n            stepResult = step(centers, data, clusterID, K, options, ++stepNumber);\n            converged = stepResult.converged;\n            centers = stepResult.centroids;\n        }\n        return stepResult.computeInformation(data);\n    }\n}\n\nmodule.exports = kmeans;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/kmeans.js","'use strict';\n\nconst squaredDistance = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    distanceFunction: squaredDistance,\n    similarityFunction: false,\n    returnVector: false\n};\n\n/**\n * Find the nearest vector in a list to a sample vector\n * @param {Array<Array<number>>} listVectors - List of vectors with same dimensions\n * @param {Array<number>} vector - Reference vector to \"classify\"\n * @param {object} [options] - Options object\n * @param {function} [options.distanceFunction = squaredDistance] - Function that receives two vectors and return their distance value as number\n * @param {function} [options.similarityFunction = undefined] - Function that receives two vectors and return their similarity value as number\n * @param {boolean} [options.returnVector = false] - Return the nearest vector instead of its index\n * @return {number|Array<number>} - The index or the content of the nearest vector\n */\nfunction nearestVector(listVectors, vector, options) {\n    options = options || defaultOptions;\n    const distanceFunction = options.distanceFunction || defaultOptions.distanceFunction;\n    const similarityFunction = options.similarityFunction || defaultOptions.similarityFunction;\n    const returnVector = options.returnVector || defaultOptions.returnVector;\n\n    var vectorIndex = -1;\n    if (typeof similarityFunction === 'function') {\n\n        // maximum similarity\n        var maxSim = Number.MIN_VALUE;\n        for (var j = 0; j < listVectors.length; j++) {\n            var sim = similarityFunction(vector, listVectors[j]);\n            if (sim > maxSim) {\n                maxSim = sim;\n                vectorIndex = j;\n            }\n        }\n    } else if (typeof distanceFunction === 'function') {\n\n        // minimum distance\n        var minDist = Number.MAX_VALUE;\n        for (var i = 0; i < listVectors.length; i++) {\n            var dist = distanceFunction(vector, listVectors[i]);\n            if (dist < minDist) {\n                minDist = dist;\n                vectorIndex = i;\n            }\n        }\n    } else {\n        throw new Error('A similarity or distance function it\\'s required');\n    }\n\n    if (returnVector) {\n        return listVectors[vectorIndex];\n    } else {\n        return vectorIndex;\n    }\n}\n\nmodule.exports = nearestVector;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-nearest-vector/src/index.js","'use strict';\n\nconst Picker = require('RandomSelection').Picker;\n\n/**\n * Choose K different random points from the original data\n * @ignore\n * @param {Array<Array<Number>>} data - Points in the format to cluster [x,y,z,...]\n * @param {Number} K - Number of clusters\n * @return {Array<Array<Number>>} - Initial random points\n */\nfunction random(data, K) {\n    const rand = new Picker(data);\n    var ans = new Array(K);\n\n    for (var i = 0; i < K; ++i) {\n        ans[i] = rand.pick();\n    }\n    return ans;\n}\n\n/**\n * Chooses the most distant points to a first random pick\n * @ignore\n * @param {Array<Array<Number>>} data - Points in the format to cluster [x,y,z,...]\n * @param {Number} K - Number of clusters\n * @param {Array<Array<Number>>} distanceMatrix - matrix with the distance values\n * @return {Array<Array<Number>>} - Initial random points\n */\nfunction mostDistant(data, K, distanceMatrix) {\n    var ans = new Array(K);\n\n    // chooses a random point as initial cluster\n    ans[0] = Math.floor(Math.random() * data.length);\n\n    if (K > 1) {\n        // chooses the more distant point\n        var maxDist = {dist: -1, index: -1};\n        for (var l = 0; l < data.length; ++l) {\n            if (distanceMatrix[ans[0]][l] > maxDist.dist) {\n                maxDist.dist = distanceMatrix[ans[0]][l];\n                maxDist.index = l;\n            }\n        }\n        ans[1] = maxDist.index;\n\n        if (K > 2) {\n            // chooses the set of points that maximises the min distance\n            for (var k = 2; k < K; ++k) {\n                var center = {dist: -1, index: -1};\n                for (var m = 0; m < data.length; ++m) {\n\n                    // minimum distance to centers\n                    var minDistCent = {dist: Number.MAX_VALUE, index: -1};\n                    for (var n = 0; n < k; ++n) {\n                        if (distanceMatrix[n][m] < minDistCent.dist && ans.indexOf(m) === -1) {\n                            minDistCent = {\n                                dist: distanceMatrix[n][m],\n                                index: m\n                            };\n                        }\n                    }\n\n                    if (minDistCent.dist !== Number.MAX_VALUE && minDistCent.dist > center.dist) {\n                        center = Object.assign({}, minDistCent);\n                    }\n                }\n\n                ans[k] = center.index;\n            }\n        }\n    }\n\n    return ans.map((index) => data[index]);\n}\n\nexports.random = random;\nexports.mostDistant = mostDistant;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/initialization.js","(function(undefined) {\r\n  'use strict';\r\n\r\n  // Node.js usage:\r\n  //\r\n  // var Picker = require('RandomSelection').Picker;\r\n  // var greetingPicker = new Picker(['hello', 'hi', 'howdy']);\r\n  // var greeting = greetingPicker.pick();\r\n\r\n  // Our namespace. Exported members will be attached to this.\r\n  var ns;\r\n\r\n  // Set our namespace based on whether we are running in Node.js or the browser.\r\n  if (typeof module !== 'undefined' && module.exports) {\r\n    // We are running in Node.\r\n    ns = module.exports;\r\n  }\r\n  else {\r\n    // We are running in the browser.\r\n    // `this` is the `window`.\r\n    // Use window.RandomSelection as our namespace.\r\n    ns = this.RandomSelection = {};\r\n  }\r\n\r\n  // Gets a shallow copy of the given array.\r\n  function clone(arr) {\r\n  \tvar newArr = [];\r\n  \tfor (var i=0; i<arr.length; i++) {\r\n  \t\tnewArr.push(arr[i]);\r\n  \t}\r\n  \treturn newArr;\r\n  }\r\n\r\n  // Gets a random option until all options have been returns. Then cycles again.\r\n  function pick() {\r\n    if (this._remainingOptions.length === 0) {\r\n      this._remainingOptions = clone(this._originalOptions);\r\n    }\r\n\r\n    var index = Math.floor(Math.random() * this._remainingOptions.length);\r\n    return this._remainingOptions.splice(index, 1)[0];\r\n  }\r\n\r\n  // Export our Picker object.\r\n  ns.Picker = function(arrayOfOptions) {\r\n    this._originalOptions = arrayOfOptions;\r\n    this._remainingOptions = [];\r\n  };\r\n\r\n  ns.Picker.prototype = {\r\n    pick: pick\r\n  };\r\n\r\n}).call(this);\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/RandomSelection/lib/Picker.js","'use strict';\n\nconst utils = require('./utils');\nconst distanceSymbol = Symbol('distance');\n\n/**\n * Result of the kmeans algorithm\n * @param {Array<Number>} clusters - the cluster identifier for each data dot\n * @param {Array<Array<Object>>} centroids - the K centers in format [x,y,z,...], the error and size of the cluster\n * @param {Boolean} converged - Converge criteria satisfied\n * @param {Number} iterations - Current number of iterations\n * @param {Function} distance - (*Private*) Distance function to use between the points\n * @constructor\n */\nfunction KMeansResult(clusters, centroids, converged, iterations, distance) {\n    this.clusters = clusters;\n    this.centroids = centroids;\n    this.converged = converged;\n    this.iterations = iterations;\n    this[distanceSymbol] = distance;\n}\n\n/**\n * Allows to compute for a new array of points their cluster id\n * @param {Array<Array<Number>>} data - the [x,y,z,...] points to cluster\n * @return {Array<Number>} - cluster id for each point\n */\nKMeansResult.prototype.nearest = function (data) {\n    var clusterID = new Array(data.length);\n    var centroids = this.centroids.map(function (centroid) {\n        return centroid.centroid;\n    });\n    return utils.updateClusterID(data, centroids, clusterID, this[distanceSymbol]);\n};\n\n/**\n * Returns a KMeansResult with the error and size of the cluster\n * @ignore\n * @param {Array<Array<Number>>} data - the [x,y,z,...] points to cluster\n * @return {KMeansResult}\n */\nKMeansResult.prototype.computeInformation = function (data) {\n    var enrichedCentroids = this.centroids.map(function (centroid) {\n        return {\n            centroid: centroid,\n            error: 0,\n            size: 0\n        };\n    });\n\n    for (var i = 0; i < data.length; i++) {\n        enrichedCentroids[this.clusters[i]].error += this[distanceSymbol](data[i], this.centroids[this.clusters[i]]);\n        enrichedCentroids[this.clusters[i]].size++;\n    }\n\n    for (var j = 0; j < this.centroids.length; j++) {\n        enrichedCentroids[j].error /= enrichedCentroids[j].size;\n    }\n\n    return new KMeansResult(this.clusters, enrichedCentroids, this.converged, this.iterations, this[distanceSymbol]);\n};\n\nmodule.exports = KMeansResult;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/KMeansResult.js","'use strict';\nconst Kernel = require('ml-kernel');\nconst stat = require('ml-stat').array;\n\nvar defaultOptions = {\n    C: 1,\n    tol: 1e-4,\n    maxPasses: 10,\n    maxIterations: 10000,\n    kernel: 'linear',\n    alphaTol: 1e-6,\n    random: Math.random,\n    whitening: true\n};\n\n/**\n * Simplified version of the Sequential Minimal Optimization algorithm for training\n * support vector machines\n * @param {{Object}} options - SVM options\n * @param {Number} [options.C=1] - regularization parameter\n * @param {Number} [options.tol=1e-4] - numerical tolerance\n * @param {Number} [options.alphaTol=1e-6] - alpha tolerance, threshold to decide support vectors\n * @param {Number} [options.maxPasses=10] - max number of times to iterate over alphas without changing\n * @param {Number} [options.maxIterations=10000] - max number of iterations\n * @param {String} [options.kernel=linear] - the kind of kernel. {@link https://github.com/mljs/kernel/tree/1252de5f9012776e6e0eb06c7b434b8631fb21f0 List of kernels}\n * @param {Function} [options.random=Math.random] - custom random number generator\n * @constructor\n */\nfunction SVM(options) {\n    this.options = Object.assign({}, defaultOptions, options);\n\n    this.kernel = new Kernel(this.options.kernel, this.options.kernelOptions);\n    this.b = 0;\n}\n\n/**\n * Train the SVM model\n * @param {Array <Array <number>>} features - training data features\n * @param {Array <number>} labels - training data labels in the domain {1,-1}\n */\nSVM.prototype.train = function (features, labels) {\n    if (features.length !== labels.length) {\n        throw new Error('Features and labels should have the same length');\n    }\n    if (features.length < 2) {\n        throw new Error('Cannot train with less than 2 observations');\n    }\n    this._trained = false;\n    this._loaded = false;\n    this.N = labels.length;\n    this.D = features[0].length;\n    if (this.options.whitening) {\n        this.X = new Array(this.N);\n        for (var i = 0; i < this.N; i++) {\n            this.X[i] = new Array(this.D);\n        }\n        this.minMax = new Array(this.D);\n        // Apply normalization and keep normalization parameters\n        for (var j = 0; j < this.D; j++) {\n            var d = new Array(this.N);\n            for (i = 0; i < this.N; i++) {\n                d[i] = features[i][j];\n            }\n            this.minMax[j] = stat.minMax(d);\n            for (i = 0; i < this.N; i++) {\n                this.X[i][j] = (features[i][j] - this.minMax[j].min) / (this.minMax[j].max - this.minMax[j].min);\n            }\n        }\n    } else {\n        this.X = features;\n    }\n    this.Y = labels;\n    this.b = 0;\n    this.W = undefined;\n\n    var kernel = this.kernel.compute(this.X);\n    var m = labels.length;\n    var alpha = new Array(m).fill(0);\n    this.alphas = alpha;\n    for (var a = 0; a < m; a++)\n        alpha[a] = 0;\n\n    var b1 = 0,\n        b2 = 0,\n        iter = 0,\n        passes = 0,\n        Ei = 0,\n        Ej = 0,\n        ai = 0,\n        aj = 0,\n        L = 0,\n        H = 0,\n        eta = 0;\n\n    while (passes < this.options.maxPasses && iter < this.options.maxIterations) {\n        var numChange = 0;\n        for (i = 0; i < m; i++) {\n            Ei = this._marginOnePrecomputed(i, kernel) - labels[i];\n            if (labels[i] * Ei < -this.options.tol && alpha[i] < this.options.C || labels[i] * Ei > this.options.tol && alpha[i] > 0) {\n                j = i;\n                while (j === i) j = Math.floor(this.options.random() * m);\n                Ej = this._marginOnePrecomputed(j, kernel) - labels[j];\n                ai = alpha[i];\n                aj = alpha[j];\n                if (labels[i] === labels[j]) {\n                    L = Math.max(0, ai + aj - this.options.C);\n                    H = Math.min(this.options.C, ai + aj);\n                } else  {\n                    L = Math.max(0, aj - ai);\n                    H = Math.min(this.options.C, this.options.C + aj + ai);\n                }\n                if (Math.abs(L - H) < 1e-4) continue;\n\n                eta = 2 * kernel[i][j] - kernel[i][i] - kernel[j][j];\n                if (eta >= 0) continue;\n                var newaj = alpha[j] - labels[j] * (Ei - Ej) / eta;\n                if (newaj > H)\n                    newaj = H;\n                else if (newaj < L)\n                    newaj = L;\n                if (Math.abs(aj - newaj) < 10e-4) continue;\n                alpha[j] = newaj;\n                alpha[i] = alpha[i] + labels[i] * labels[j] * (aj - newaj);\n                b1 = this.b - Ei - labels[i] * (alpha[i] - ai) * kernel[i][i] - labels[j] * (alpha[j] - aj) * kernel[i][j];\n                b2 = this.b - Ej - labels[i] * (alpha[i] - ai) * kernel[i][j] - labels[j] * (alpha[j] - aj) * kernel[j][j];\n                this.b = (b1 + b2) / 2;\n                if (alpha[i] < this.options.C && alpha[i] > 0) this.b = b1;\n                if (alpha[j] < this.options.C && alpha[j] > 0) this.b = b2;\n                numChange += 1;\n            }\n        }\n        iter++;\n        if (numChange === 0)\n            passes += 1;\n        else\n            passes = 0;\n    }\n    if (iter === this.options.maxIterations) {\n        throw new Error('max iterations reached');\n    }\n\n    this.iterations = iter;\n\n    // Compute the weights (useful for fast decision on new test instances when linear SVM)\n    if (this.options.kernel === 'linear') {\n        this.W = new Array(this.D);\n        for (var r = 0; r < this.D; r++) {\n            this.W[r] = 0;\n            for (var w = 0; w < m; w++)\n                this.W[r] += labels[w] * alpha[w] * this.X[w][r];\n        }\n    }\n\n    // Keep only support vectors\n    // It will compute decision on new test instances faster\n    // We also keep the index of the support vectors\n    // in the original data\n    var nX = [];\n    var nY = [];\n    var nAlphas = [];\n    this._supportVectorIdx = [];\n    for (i = 0; i < this.N; i++) {\n        if (this.alphas[i] > this.options.alphaTol) {\n            nX.push(this.X[i]);\n            nY.push(labels[i]);\n            nAlphas.push(this.alphas[i]);\n            this._supportVectorIdx.push(i);\n\n        }\n    }\n    this.X = nX;\n    this.Y = nY;\n    this.N = nX.length;\n    this.alphas = nAlphas;\n\n\n    // A flag to say this SVM has been trained\n    this._trained = true;\n};\n\n/**\n * Get prediction ({-1,1}) given one observation's features.\n * @private\n * @param p The observation's features.\n * @returns {number} Classification result ({-1,1})\n */\nSVM.prototype.predictOne = function (p) {\n    var margin = this.marginOne(p);\n    return margin > 0 ? 1 : -1;\n};\n\n/**\n * Predict the classification outcome of a trained svm given one or several observations' features.\n * @param {Array} features - The observation(s)' features\n * @returns {Array<Number>|Number} An array of {-1, 1} if several observations are given or a number if one observation\n * is given\n */\nSVM.prototype.predict = function (features) {\n    if (!this._trained && !this._loaded) throw new Error('Cannot predict, you need to train the SVM first');\n    if (Array.isArray(features) && Array.isArray(features[0])) {\n        return features.map(this.predictOne.bind(this));\n    } else {\n        return this.predictOne(features);\n    }\n};\n\n/**\n * Get margin given one observation's features\n * @private\n * @param {Array<Number>} features - Features\n * @returns {Number} - The computed margin\n */\nSVM.prototype.marginOne = function (features, noWhitening) {\n    // Apply normalization\n    if (this.options.whitening && !noWhitening) {\n        features = this._applyWhitening(features);\n    }\n    var ans = this.b, i;\n    if (this.options.kernel === 'linear' && this.W) {\n        // Use weights, it's faster\n        for (i = 0; i < this.W.length; i++) {\n            ans += this.W[i] * features[i];\n        }\n    } else {\n        for (i = 0; i < this.N; i++) {\n            ans += this.alphas[i] * this.Y[i] * this.kernel.compute([features], [this.X[i]])[0][0];\n        }\n    }\n    return ans;\n};\n\n\n/**\n * Get a margin using the precomputed kernel. Much faster than normal margin computation\n * @private\n * @param {Number} index - Train data index\n * @param {Array< Array<Number> >} kernel - The precomputed kernel\n * @returns {number} Computed margin\n * @private\n */\nSVM.prototype._marginOnePrecomputed = function (index, kernel) {\n    var ans = this.b, i;\n    for (i = 0; i < this.N; i++) {\n        ans += this.alphas[i] * this.Y[i] * kernel[index][i];\n    }\n    return ans;\n};\n\n\n/**\n * Returns the margin of one or several observations given its features\n * @param {Array <Array<Number> >|Array<Number>} features - Features from on or several observations.\n * @returns {Number|Array} The computed margin. Is an Array if several observations' features given, or a Number if\n * only one observation's features given\n */\nSVM.prototype.margin = function (features) {\n    if (Array.isArray(features)) {\n        return features.map(this.marginOne.bind(this));\n    } else {\n        return this.marginOne(features);\n    }\n};\n\n/**\n * Get support vectors indexes of the trained classifier. WARINNG: this method does not work for svm instances\n * created from {@link #SVM.load load} if linear kernel\n * @returns {Array<Number>} The indices in the training vector of the support vectors\n */\nSVM.prototype.supportVectors = function () {\n    if (!this._trained && !this._loaded) throw new Error('Cannot get support vectors, you need to train the SVM first');\n    if (this._loaded && this.options.kernel === 'linear') throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');\n    return this._supportVectorIdx;\n};\n\n/**\n * Create a SVM instance from a saved model\n * @param {Object} model -  Object such as returned by a trained SVM instance with {@link #SVM#toJSON toJSON}\n * @returns {SVM} Instance of svm classifier\n */\nSVM.load = function (model) {\n    this._loaded = true;\n    this._trained = false;\n    var svm = new SVM(model.options);\n    if (model.options.kernel === 'linear') {\n        svm.W = model.W.slice();\n        svm.D = svm.W.length;\n    } else {\n        svm.X = model.X.slice();\n        svm.Y = model.Y.slice();\n        svm.alphas = model.alphas.slice();\n        svm.N = svm.X.length;\n        svm.D = svm.X[0].length;\n    }\n    svm.minMax = model.minMax;\n    svm.b = model.b;\n    svm._loaded = true;\n    svm._trained = false;\n    return svm;\n};\n\n/**\n * Export the minimal object that enables to reload the model\n * @returns {Object} Model object that can be reused with {@link #SVM.load load}\n */\nSVM.prototype.toJSON = function () {\n    if (!this._trained && !this._loaded) throw new Error('Cannot export, you need to train the SVM first');\n    var model = {};\n    model.options = Object.assign({}, this.options);\n    model.b = this.b;\n    model.minMax = this.minMax;\n    if (model.options.kernel === 'linear') {\n        model.W = this.W.slice();\n    } else {\n        // Exporting non-linear models is heavier\n        model.X = this.X.slice();\n        model.Y = this.Y.slice();\n        model.alphas = this.alphas.slice();\n    }\n    return model;\n};\n\nSVM.prototype._applyWhitening = function (features) {\n    if (!this.minMax) throw new Error('Could not apply whitening');\n    var whitened = new Array(features.length);\n    for (var j = 0; j < features.length; j++) {\n        whitened[j] = (features[j] - this.minMax[j].min) / (this.minMax[j].max - this.minMax[j].min);\n    }\n    return whitened;\n};\n\nmodule.exports = SVM;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-svm/src/svm.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass GaussianKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n        this.divisor = 2 * options.sigma * options.sigma;\n    }\n\n    compute(x, y) {\n        const distance = squaredEuclidean(x, y);\n        return Math.exp(-distance / this.divisor);\n    }\n}\n\nmodule.exports = GaussianKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel-gaussian/gaussian-kernel.js","'use strict';\n\nconst defaultOptions = {\n    degree: 1,\n    constant: 1,\n    scale: 1\n};\n\nclass PolynomialKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n\n        this.degree = options.degree;\n        this.constant = options.constant;\n        this.scale = options.scale;\n    }\n\n    compute(x, y) {\n        var sum = 0;\n        for (var i = 0; i < x.length; i++) {\n            sum += x[i] * y[i];\n        }\n        return Math.pow(this.scale * sum + this.constant, this.degree);\n    }\n}\n\nmodule.exports = PolynomialKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel-polynomial/polynomial-kernel.js","'use strict';\n\nconst defaultOptions = {\n    sigma: 1,\n    degree: 1\n};\n\nclass ANOVAKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n        this.degree = options.degree;\n    }\n\n    compute(x, y) {\n        var sum = 0;\n        var len = Math.min(x.length, y.length);\n        for (var i = 1; i <= len; ++i) {\n            sum += Math.pow(Math.exp(-this.sigma * Math.pow(Math.pow(x[i - 1], i) -\n                    Math.pow(y[i - 1], i), 2)), this.degree);\n        }\n        return sum;\n    }\n}\n\nmodule.exports = ANOVAKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/anova-kernel.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass CauchyKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n    }\n\n    compute(x, y) {\n        return 1 / (1 + squaredEuclidean(x, y) / (this.sigma * this.sigma));\n    }\n}\n\nmodule.exports = CauchyKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/cauchy-kernel.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass ExponentialKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n        this.divisor = 2 * options.sigma * options.sigma;\n    }\n\n    compute(x, y) {\n        const distance = euclidean(x, y);\n        return Math.exp(-distance / this.divisor);\n    }\n}\n\nmodule.exports = ExponentialKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/exponential-kernel.js","'use strict';\n\nclass HistogramIntersectionKernel {\n    compute(x, y) {\n        var min = Math.min(x.length, y.length);\n        var sum = 0;\n        for (var i = 0; i < min; ++i) {\n            sum += Math.min(x[i], y[i]);\n        }\n\n        return sum;\n    }\n}\n\nmodule.exports = HistogramIntersectionKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/histogram-intersection-kernel.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass LaplacianKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n    }\n\n    compute(x, y) {\n        const distance = euclidean(x, y);\n        return Math.exp(-distance / this.sigma);\n    }\n}\n\nmodule.exports = LaplacianKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/laplacian-kernel.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    constant: 1\n};\n\nclass MultiquadraticKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.constant = options.constant;\n    }\n\n    compute(x, y) {\n        return Math.sqrt(squaredEuclidean(x, y) + this.constant * this.constant);\n    }\n}\n\nmodule.exports = MultiquadraticKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/multiquadratic-kernel.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    constant: 1\n};\n\nclass RationalQuadraticKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.constant = options.constant;\n    }\n\n    compute(x, y) {\n        const distance = squaredEuclidean(x, y);\n        return 1 - (distance / (distance + this.constant));\n    }\n}\n\nmodule.exports = RationalQuadraticKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/rational-quadratic-kernel.js","'use strict';\n\nconst defaultOptions = {\n    alpha: 0.01,\n    constant: -Math.E\n};\n\nclass SigmoidKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.alpha = options.alpha;\n        this.constant = options.constant;\n    }\n\n    compute(x, y) {\n        var sum = 0;\n        for (var i = 0; i < x.length; i++) {\n            sum += x[i] * y[i];\n        }\n        return Math.tanh(this.alpha * sum + this.constant);\n    }\n}\n\nmodule.exports = SigmoidKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel-sigmoid/sigmoid-kernel.js","export {GaussianNB} from './GaussianNB';\nexport {MultinomialNB} from './MultinomialNB';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/index.js","import Matrix from 'ml-matrix';\nimport Stat from 'ml-stat';\nimport {separateClasses} from './utils';\n\n/**\n * @class GaussianNB\n */\nexport class GaussianNB {\n\n    /**\n     * @constructor\n     * Constructor for the Gaussian Naive Bayes classifier, the parameters here is just for loading purposes.\n     *\n     * @param {boolean} reload\n     * @param {object} model\n     */\n    constructor(reload, model) {\n        if (reload) {\n            this.means = model.means;\n            this.calculateProbabilities = model.calculateProbabilities;\n        }\n    }\n\n    /**\n     * Function that trains the classifier with a matrix that represents the training set and an array that\n     * represents the label of each row in the training set. the labels must be numbers between 0 to n-1 where\n     * n represents the number of classes.\n     *\n     * WARNING: in the case that one class, all the cases in one or more features have the same value, the\n     * Naive Bayes classifier will not work well.\n     * @param {Matrix|Array} trainingSet\n     * @param {Matrix|Array} trainingLabels\n     */\n    train(trainingSet, trainingLabels) {\n        var C1 = Math.sqrt(2 * Math.PI); // constant to precalculate the squared root\n        trainingSet = Matrix.checkMatrix(trainingSet);//if (!Matrix.isMatrix(trainingSet)) trainingSet = new Matrix(trainingSet);\n\n        if (trainingSet.rows !== trainingLabels.length) {\n            throw new RangeError('the size of the training set and the training labels must be the same.');\n        }\n\n        var separatedClasses = separateClasses(trainingSet, trainingLabels);\n        var calculateProbabilities = new Array(separatedClasses.length);\n        this.means = new Array(separatedClasses.length);\n        for (var i = 0; i < separatedClasses.length; ++i) {\n            var means = Stat.matrix.mean(separatedClasses[i]);\n            var std = Stat.matrix.standardDeviation(separatedClasses[i], means);\n\n            var logPriorProbability = Math.log(separatedClasses[i].rows / trainingSet.rows);\n            calculateProbabilities[i] = new Array(means.length + 1);\n\n            calculateProbabilities[i][0] = logPriorProbability;\n            for (var j = 1; j < means.length + 1; ++j) {\n                var currentStd = std[j - 1];\n                calculateProbabilities[i][j] = [(1 / (C1 * currentStd)), -2 * currentStd * currentStd];\n            }\n\n            this.means[i] = means;\n        }\n\n        this.calculateProbabilities = calculateProbabilities;\n    }\n\n    /**\n     * function that predicts each row of the dataset (must be a matrix).\n     *\n     * @param {Matrix|Array} dataset\n     * @return {Array}\n     */\n    predict(dataset) {\n        if (dataset[0].length === this.calculateProbabilities[0].length) {\n            throw new RangeError('the dataset must have the same features as the training set');\n        }\n\n        var predictions = new Array(dataset.length);\n\n        for (var i = 0; i < predictions.length; ++i) {\n            predictions[i] = getCurrentClass(dataset[i], this.means, this.calculateProbabilities);\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Function that export the NaiveBayes model.\n     * @return {object}\n     */\n    toJSON() {\n        return {\n            modelName: 'NaiveBayes',\n            means: this.means,\n            calculateProbabilities: this.calculateProbabilities\n        };\n    }\n\n    /**\n     * Function that create a GaussianNB classifier with the given model.\n     * @param {object} model\n     * @return {GaussianNB}\n     */\n    static load(model) {\n        if (model.modelName !== 'NaiveBayes') {\n            throw new RangeError('The current model is not a Multinomial Naive Bayes, current model:', model.name);\n        }\n\n        return new GaussianNB(true, model);\n    }\n}\n\n/**\n * @private\n * Function the retrieves a prediction with one case.\n *\n * @param {Array} currentCase\n * @param {Array} mean - Precalculated means of each class trained\n * @param {Array} classes - Precalculated value of each class (Prior probability and probability function of each feature)\n * @return {number}\n */\nfunction getCurrentClass(currentCase, mean, classes) {\n    var maxProbability = 0;\n    var predictedClass = -1;\n\n    // going through all precalculated values for the classes\n    for (var i = 0; i < classes.length; ++i) {\n        var currentProbability = classes[i][0]; // initialize with the prior probability\n        for (var j = 1; j < classes[0][1].length + 1; ++j) {\n            currentProbability += calculateLogProbability(currentCase[j - 1], mean[i][j - 1], classes[i][j][0], classes[i][j][1]);\n        }\n\n        currentProbability = Math.exp(currentProbability);\n        if (currentProbability > maxProbability) {\n            maxProbability = currentProbability;\n            predictedClass = i;\n        }\n    }\n\n    return predictedClass;\n}\n\n/**\n * @private\n * function that retrieves the probability of the feature given the class.\n * @param {number} value - value of the feature.\n * @param {number} mean - mean of the feature for the given class.\n * @param {number} C1 - precalculated value of (1 / (sqrt(2*pi) * std)).\n * @param {number} C2 - precalculated value of (2 * std^2) for the denominator of the exponential.\n * @return {number}\n */\nfunction calculateLogProbability(value, mean, C1, C2) {\n    value = value - mean;\n    return Math.log(C1 * Math.exp((value * value) / C2));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/GaussianNB.js","import Matrix from 'ml-matrix';\nimport {separateClasses} from './utils';\n\n/**\n * @class MultinomialNB\n */\nexport class MultinomialNB {\n\n    /**\n     * @constructor\n     * Constructor for Multinomial Naive Bayes, the model parameter is for load purposes.\n     *\n     * @param {object} model - for load purposes.\n     */\n    constructor(model) {\n        if (model) {\n            this.conditionalProbability = Matrix.checkMatrix(model.conditionalProbability);\n            this.priorProbability = Matrix.checkMatrix(model.priorProbability);\n        }\n    }\n\n    /**\n     * Train the classifier with the current training set and labels, the labels must be numbers between 0 and n.\n     * @param {Matrix|Array} trainingSet\n     * @param {Array} trainingLabels\n     */\n    train(trainingSet, trainingLabels) {\n        trainingSet = Matrix.checkMatrix(trainingSet);\n\n        if (trainingSet.rows !== trainingLabels.length) {\n            throw new RangeError('the size of the training set and the training labels must be the same.');\n        }\n\n        var separateClass = separateClasses(trainingSet, trainingLabels);\n        this.priorProbability = new Matrix(separateClass.length, 1);\n\n        for (var i = 0; i < separateClass.length; ++i) {\n            this.priorProbability[i][0] = Math.log(separateClass[i].length / trainingSet.rows);\n        }\n\n        var features = trainingSet.columns;\n        this.conditionalProbability = new Matrix(separateClass.length, features);\n        for (i = 0; i < separateClass.length; ++i) {\n            var classValues = Matrix.checkMatrix(separateClass[i]);\n            var total = classValues.sum();\n            var divisor = total + features;\n            this.conditionalProbability.setRow(i, classValues.sum('column').add(1).div(divisor).apply(matrixLog));\n        }\n    }\n\n    /**\n     * Retrieves the predictions for the dataset with the current model.\n     * @param {Matrix|Array} dataset\n     * @return {Array} - predictions from the dataset.\n     */\n    predict(dataset) {\n        dataset = Matrix.checkMatrix(dataset);\n        var predictions = new Array(dataset.rows);\n        for (var i = 0; i < dataset.rows; ++i) {\n            var currentElement = dataset.getRowVector(i);\n            predictions[i] = this.conditionalProbability.clone().mulRowVector(currentElement).sum('row')\n                .add(this.priorProbability).maxIndex()[0];\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Function that saves the current model.\n     * @return {object} - model in JSON format.\n     */\n    toJSON() {\n        return {\n            name: 'MultinomialNB',\n            priorProbability: this.priorProbability,\n            conditionalProbability: this.conditionalProbability\n        };\n    }\n\n    /**\n     * Creates a new MultinomialNB from the given model\n     * @param {object} model\n     * @return {MultinomialNB}\n     */\n    static load(model) {\n        if (model.name !== 'MultinomialNB') {\n            throw new RangeError(`${model.name} is not a Multinomial Naive Bayes`);\n        }\n\n        return new MultinomialNB(model);\n    }\n}\n\nfunction matrixLog(i, j) {\n    this[i][j] = Math.log(this[i][j]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/MultinomialNB.js","import KDTree from './KDTree';\nimport euclideanDistance from 'ml-distance-euclidean';\n\nexport default class KNN {\n\n    /**\n     * @param {Array} dataset\n     * @param {Array} labels\n     * @param {object} options\n     * @param {number} [options.k=numberOfClasses + 1] - Number of neighbors to classify.\n     * @param {function} [options.distance=euclideanDistance] - Distance function that takes two parameters.\n     */\n    constructor(dataset, labels, options = {}) {\n        if (dataset === true) {\n            const model = labels;\n            this.kdTree = new KDTree(model.kdTree, options);\n            this.k = model.k;\n            this.classes = new Set(model.classes);\n            this.isEuclidean = model.isEuclidean;\n            return;\n        }\n\n        const classes = new Set(labels);\n\n        const {\n            distance = euclideanDistance,\n            k = classes.size + 1\n        } = options;\n\n        const points = new Array(dataset.length);\n        for (var i = 0; i < points.length; ++i) {\n            points[i] = dataset[i].slice();\n        }\n\n        for (i = 0; i < labels.length; ++i) {\n            points[i].push(labels[i]);\n        }\n\n        this.kdTree = new KDTree(points, distance);\n        this.k = k;\n        this.classes = classes;\n        this.isEuclidean = distance === euclideanDistance;\n    }\n\n    /**\n     * Create a new KNN instance with the given model.\n     * @param {object} model\n     * @param {function} distance=euclideanDistance - distance function must be provided if the model wasn't trained with euclidean distance.\n     * @return {KNN}\n     */\n    static load(model, distance = euclideanDistance) {\n        if (model.name !== 'KNN') {\n            throw new Error('invalid model: ' + model.name);\n        }\n        if (!model.isEuclidean && distance === euclideanDistance) {\n            throw new Error('a custom distance function was used to create the model. Please provide it again');\n        }\n        if (model.isEuclidean && distance !== euclideanDistance) {\n            throw new Error('the model was created with the default distance function. Do not load it with another one');\n        }\n        return new KNN(true, model, distance);\n    }\n\n    /**\n     * Return a JSON containing the kd-tree model.\n     * @return {object} JSON KNN model.\n     */\n    toJSON() {\n        return {\n            name: 'KNN',\n            kdTree: this.kdTree,\n            k: this.k,\n            classes: Array.from(this.classes),\n            isEuclidean: this.isEuclidean\n        };\n    }\n\n    /**\n     * Predicts the output given the matrix to predict.\n     * @param {Array} dataset\n     * @return {Array} predictions\n     */\n    predict(dataset) {\n        if (Array.isArray(dataset)) {\n            if (typeof dataset[0] === 'number') {\n                return getSinglePrediction(this, dataset);\n            } else if (Array.isArray(dataset[0]) && typeof dataset[0][0] === 'number') {\n                const predictions = new Array(dataset.length);\n                for (var i = 0; i < dataset.length; i++) {\n                    predictions[i] = getSinglePrediction(this, dataset[i]);\n                }\n                return predictions;\n            }\n        }\n        throw new TypeError('dataset to predict must be an array or a matrix');\n    }\n}\n\nfunction getSinglePrediction(knn, currentCase) {\n    var nearestPoints = knn.kdTree.nearest(currentCase, knn.k);\n    var pointsPerClass = {};\n    var predictedClass = -1;\n    var maxPoints = -1;\n    var lastElement = nearestPoints[0][0].length - 1;\n\n    for (var element of knn.classes) {\n        pointsPerClass[element] = 0;\n    }\n\n    for (var i = 0; i < nearestPoints.length; ++i) {\n        var currentClass = nearestPoints[i][0][lastElement];\n        var currentPoints = ++pointsPerClass[currentClass];\n        if (currentPoints > maxPoints) {\n            predictedClass = currentClass;\n            maxPoints = currentPoints;\n        }\n    }\n\n    return predictedClass;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-knn/src/index.js","/*\n * Original code from:\n *\n * k-d Tree JavaScript - V 1.01\n *\n * https://github.com/ubilabs/kd-tree-javascript\n *\n * @author Mircea Pricop <pricop@ubilabs.net>, 2012\n * @author Martin Kleppe <kleppe@ubilabs.net>, 2012\n * @author Ubilabs http://ubilabs.net, 2012\n * @license MIT License <http://www.opensource.org/licenses/mit-license.php>\n */\n\nfunction Node(obj, dimension, parent) {\n    this.obj = obj;\n    this.left = null;\n    this.right = null;\n    this.parent = parent;\n    this.dimension = dimension;\n}\n\nexport default class KDTree {\n    constructor(points, metric) {\n        // If points is not an array, assume we're loading a pre-built tree\n        if (!Array.isArray(points)) {\n            this.dimensions = points.dimensions;\n            this.root = points;\n            restoreParent(this.root);\n        } else {\n            this.dimensions = new Array(points[0].length);\n            for (var i = 0; i < this.dimensions.length; i++) {\n                this.dimensions[i] = i;\n            }\n            this.root = buildTree(points, 0, null, this.dimensions);\n        }\n        this.metric = metric;\n    }\n\n    // Convert to a JSON serializable structure; this just requires removing\n    // the `parent` property\n    toJSON() {\n        const result = toJSONImpl(this.root, true);\n        result.dimensions = this.dimensions;\n        return result;\n    }\n\n    nearest(point, maxNodes, maxDistance) {\n        const metric = this.metric;\n        const dimensions = this.dimensions;\n        var i;\n\n        const bestNodes = new BinaryHeap(\n            function (e) {\n                return -e[1];\n            }\n        );\n\n        function nearestSearch(node) {\n            const dimension = dimensions[node.dimension];\n            const ownDistance = metric(point, node.obj);\n            const linearPoint = {};\n            var bestChild,\n                linearDistance,\n                otherChild,\n                i;\n\n            function saveNode(node, distance) {\n                bestNodes.push([node, distance]);\n                if (bestNodes.size() > maxNodes) {\n                    bestNodes.pop();\n                }\n            }\n\n            for (i = 0; i < dimensions.length; i += 1) {\n                if (i === node.dimension) {\n                    linearPoint[dimensions[i]] = point[dimensions[i]];\n                } else {\n                    linearPoint[dimensions[i]] = node.obj[dimensions[i]];\n                }\n            }\n\n            linearDistance = metric(linearPoint, node.obj);\n\n            if (node.right === null && node.left === null) {\n                if (bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) {\n                    saveNode(node, ownDistance);\n                }\n                return;\n            }\n\n            if (node.right === null) {\n                bestChild = node.left;\n            } else if (node.left === null) {\n                bestChild = node.right;\n            } else {\n                if (point[dimension] < node.obj[dimension]) {\n                    bestChild = node.left;\n                } else {\n                    bestChild = node.right;\n                }\n            }\n\n            nearestSearch(bestChild);\n\n            if (bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) {\n                saveNode(node, ownDistance);\n            }\n\n            if (bestNodes.size() < maxNodes || Math.abs(linearDistance) < bestNodes.peek()[1]) {\n                if (bestChild === node.left) {\n                    otherChild = node.right;\n                } else {\n                    otherChild = node.left;\n                }\n                if (otherChild !== null) {\n                    nearestSearch(otherChild);\n                }\n            }\n        }\n\n        if (maxDistance) {\n            for (i = 0; i < maxNodes; i += 1) {\n                bestNodes.push([null, maxDistance]);\n            }\n        }\n\n        if (this.root) {\n            nearestSearch(this.root);\n        }\n\n        const result = [];\n        for (i = 0; i < Math.min(maxNodes, bestNodes.content.length); i += 1) {\n            if (bestNodes.content[i][0]) {\n                result.push([bestNodes.content[i][0].obj, bestNodes.content[i][1]]);\n            }\n        }\n        return result;\n    }\n}\n\nfunction toJSONImpl(src) {\n    const dest = new Node(src.obj, src.dimension, null);\n    if (src.left) dest.left = toJSONImpl(src.left);\n    if (src.right) dest.right = toJSONImpl(src.right);\n    return dest;\n}\n\nfunction buildTree(points, depth, parent, dimensions) {\n    const dim = depth % dimensions.length;\n\n    if (points.length === 0) {\n        return null;\n    }\n    if (points.length === 1) {\n        return new Node(points[0], dim, parent);\n    }\n\n    points.sort((a, b) => a[dimensions[dim]] - b[dimensions[dim]]);\n\n    const median = Math.floor(points.length / 2);\n    const node = new Node(points[median], dim, parent);\n    node.left = buildTree(points.slice(0, median), depth + 1, node, dimensions);\n    node.right = buildTree(points.slice(median + 1), depth + 1, node, dimensions);\n\n    return node;\n}\n\nfunction restoreParent(root) {\n    if (root.left) {\n        root.left.parent = root;\n        restoreParent(root.left);\n    }\n\n    if (root.right) {\n        root.right.parent = root;\n        restoreParent(root.right);\n    }\n}\n\n// Binary heap implementation from:\n// http://eloquentjavascript.net/appendix2.html\nclass BinaryHeap {\n    constructor(scoreFunction) {\n        this.content = [];\n        this.scoreFunction = scoreFunction;\n    }\n\n    push(element) {\n        // Add the new element to the end of the array.\n        this.content.push(element);\n        // Allow it to bubble up.\n        this.bubbleUp(this.content.length - 1);\n    }\n\n    pop() {\n        // Store the first element so we can return it later.\n        var result = this.content[0];\n        // Get the element at the end of the array.\n        var end = this.content.pop();\n        // If there are any elements left, put the end element at the\n        // start, and let it sink down.\n        if (this.content.length > 0) {\n            this.content[0] = end;\n            this.sinkDown(0);\n        }\n        return result;\n    }\n\n    peek() {\n        return this.content[0];\n    }\n\n    size() {\n        return this.content.length;\n    }\n\n    bubbleUp(n) {\n        // Fetch the element that has to be moved.\n        var element = this.content[n];\n        // When at 0, an element can not go up any further.\n        while (n > 0) {\n            // Compute the parent element's index, and fetch it.\n            const parentN = Math.floor((n + 1) / 2) - 1;\n            const parent = this.content[parentN];\n            // Swap the elements if the parent is greater.\n            if (this.scoreFunction(element) < this.scoreFunction(parent)) {\n                this.content[parentN] = element;\n                this.content[n] = parent;\n                // Update 'n' to continue at the new position.\n                n = parentN;\n            } else { // Found a parent that is less, no need to move it further.\n                break;\n            }\n        }\n    }\n\n    sinkDown(n) {\n        // Look up the target element and its score.\n        var length = this.content.length;\n        var element = this.content[n];\n        var elemScore = this.scoreFunction(element);\n\n        while (true) {\n            // Compute the indices of the child elements.\n            var child2N = (n + 1) * 2;\n            var child1N = child2N - 1;\n            // This is used to store the new position of the element,\n            // if any.\n            var swap = null;\n            // If the first child exists (is inside the array)...\n            if (child1N < length) {\n                // Look it up and compute its score.\n                var child1 = this.content[child1N];\n                var child1Score = this.scoreFunction(child1);\n                // If the score is less than our element's, we need to swap.\n                if (child1Score < elemScore) {\n                    swap = child1N;\n                }\n            }\n            // Do the same checks for the other child.\n            if (child2N < length) {\n                var child2 = this.content[child2N];\n                var child2Score = this.scoreFunction(child2);\n                if (child2Score < (swap === null ? elemScore : child1Score)) {\n                    swap = child2N;\n                }\n            }\n\n            // If the element needs to be moved, swap it, and continue.\n            if (swap !== null) {\n                this.content[n] = this.content[swap];\n                this.content[swap] = element;\n                n = swap;\n            } else {\n                // Otherwise, we are done.\n                break;\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-knn/src/KDTree.js","export {PLS} from './pls';\nexport {KOPLS} from './kopls';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/index.js","import Matrix from 'ml-matrix';\nimport Stat from 'ml-stat/matrix';\nimport * as Utils from './utils';\n\n/**\n * @class PLS\n */\nexport class PLS {\n\n    /**\n     * Constructor for Partial Least Squares (PLS)\n     * @param {object} options\n     * @param {number} [options.latentVectors] - Number of latent vector to get (if the algorithm doesn't find a good model below the tolerance)\n     * @param {number} [options.tolerance=1e-5]\n     * @param {boolean} [options.scale=true] - rescale dataset using mean.\n     * @param {object} model - for load purposes.\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.meanX = model.meanX;\n            this.stdDevX = model.stdDevX;\n            this.meanY = model.meanY;\n            this.stdDevY = model.stdDevY;\n            this.PBQ = Matrix.checkMatrix(model.PBQ);\n            this.R2X = model.R2X;\n            this.scale = model.scale;\n            this.scaleMethod = model.scaleMethod;\n            this.tolerance = model.tolerance;\n        } else {\n            var {\n                tolerance = 1e-5,\n                scale = true,\n            } = options;\n            this.tolerance = tolerance;\n            this.scale = scale;\n            this.latentVectors = options.latentVectors;\n        }\n    }\n\n    /**\n     * Fits the model with the given data and predictions, in this function is calculated the\n     * following outputs:\n     *\n     * T - Score matrix of X\n     * P - Loading matrix of X\n     * U - Score matrix of Y\n     * Q - Loading matrix of Y\n     * B - Matrix of regression coefficient\n     * W - Weight matrix of X\n     *\n     * @param {Matrix|Array} trainingSet\n     * @param {Matrix|Array} trainingValues\n     */\n    train(trainingSet, trainingValues) {\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        trainingValues = Matrix.checkMatrix(trainingValues);\n\n        if (trainingSet.length !== trainingValues.length) {\n            throw new RangeError('The number of X rows must be equal to the number of Y rows');\n        }\n\n        this.meanX = Stat.mean(trainingSet);\n        this.stdDevX = Stat.standardDeviation(trainingSet, this.meanX, true);\n        this.meanY = Stat.mean(trainingValues);\n        this.stdDevY = Stat.standardDeviation(trainingValues, this.meanY, true);\n\n        if (this.scale) { // here should be the ml-preprocess project\n            trainingSet = trainingSet.clone().subRowVector(this.meanX).divRowVector(this.stdDevX);\n            trainingValues = trainingValues.clone().subRowVector(this.meanY).divRowVector(this.stdDevY);\n        }\n\n        if (this.latentVectors === undefined) {\n            this.latentVectors = Math.min(trainingSet.length - 1, trainingSet[0].length);\n        }\n\n        var rx = trainingSet.rows;\n        var cx = trainingSet.columns;\n        var ry = trainingValues.rows;\n        var cy = trainingValues.columns;\n\n        var ssqXcal = trainingSet.clone().mul(trainingSet).sum(); // for the r²\n        var sumOfSquaresY = trainingValues.clone().mul(trainingValues).sum();\n\n        var tolerance = this.tolerance;\n        var n = this.latentVectors;\n        var T = Matrix.zeros(rx, n);\n        var P = Matrix.zeros(cx, n);\n        var U = Matrix.zeros(ry, n);\n        var Q = Matrix.zeros(cy, n);\n        var B = Matrix.zeros(n, n);\n        var W = P.clone();\n        var k = 0;\n\n        while (Utils.norm(trainingValues) > tolerance && k < n) {\n            var transposeX = trainingSet.transpose();\n            var transposeY = trainingValues.transpose();\n\n            var tIndex = maxSumColIndex(trainingSet.clone().mulM(trainingSet));\n            var uIndex = maxSumColIndex(trainingValues.clone().mulM(trainingValues));\n\n            var t1 = trainingSet.getColumnVector(tIndex);\n            var u = trainingValues.getColumnVector(uIndex);\n            var t = Matrix.zeros(rx, 1);\n\n            while (Utils.norm(t1.clone().sub(t)) > tolerance) {\n                var w = transposeX.mmul(u);\n                w.div(Utils.norm(w));\n                t = t1;\n                t1 = trainingSet.mmul(w);\n                var q = transposeY.mmul(t1);\n                q.div(Utils.norm(q));\n                u = trainingValues.mmul(q);\n            }\n\n            t = t1;\n            var num = transposeX.mmul(t);\n            var den = (t.transpose().mmul(t))[0][0];\n            var p = num.div(den);\n            var pnorm = Utils.norm(p);\n            p.div(pnorm);\n            t.mul(pnorm);\n            w.mul(pnorm);\n\n            num = u.transpose().mmul(t);\n            den = (t.transpose().mmul(t))[0][0];\n            var b = (num.div(den))[0][0];\n            trainingSet.sub(t.mmul(p.transpose()));\n            trainingValues.sub(t.clone().mul(b).mmul(q.transpose()));\n\n            T.setColumn(k, t);\n            P.setColumn(k, p);\n            U.setColumn(k, u);\n            Q.setColumn(k, q);\n            W.setColumn(k, w);\n\n            B[k][k] = b;\n            k++;\n        }\n\n        k--;\n        T = T.subMatrix(0, T.rows - 1, 0, k);\n        P = P.subMatrix(0, P.rows - 1, 0, k);\n        U = U.subMatrix(0, U.rows - 1, 0, k);\n        Q = Q.subMatrix(0, Q.rows - 1, 0, k);\n        W = W.subMatrix(0, W.rows - 1, 0, k);\n        B = B.subMatrix(0, k, 0, k);\n\n        // TODO: review of R2Y\n        //this.R2Y = t.transpose().mmul(t).mul(q[k][0]*q[k][0]).divS(ssqYcal)[0][0];\n        //\n        this.ssqYcal = sumOfSquaresY;\n        this.E = trainingSet;\n        this.F = trainingValues;\n        this.T = T;\n        this.P = P;\n        this.U = U;\n        this.Q = Q;\n        this.W = W;\n        this.B = B;\n        this.PBQ = P.mmul(B).mmul(Q.transpose());\n        this.R2X = t.transpose().mmul(t).mmul(p.transpose().mmul(p)).div(ssqXcal)[0][0];\n    }\n\n    /**\n     * Predicts the behavior of the given dataset.\n     * @param {Matrix|Array} dataset - data to be predicted.\n     * @return {Matrix} - predictions of each element of the dataset.\n     */\n    predict(dataset) {\n        var X = Matrix.checkMatrix(dataset);\n        if (this.scale) {\n            X = X.subRowVector(this.meanX).divRowVector(this.stdDevX);\n        }\n        var Y = X.mmul(this.PBQ);\n        Y = Y.mulRowVector(this.stdDevY).addRowVector(this.meanY);\n        return Y;\n    }\n\n    /**\n     * Returns the explained variance on training of the PLS model\n     * @return {number}\n     */\n    getExplainedVariance() {\n        return this.R2X;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            name: 'PLS',\n            R2X: this.R2X,\n            meanX: this.meanX,\n            stdDevX: this.stdDevX,\n            meanY: this.meanY,\n            stdDevY: this.stdDevY,\n            PBQ: this.PBQ,\n            tolerance: this.tolerance,\n            scale: this.scale,\n        };\n    }\n\n    /**\n     * Load a PLS model from a JSON Object\n     * @param {object} model\n     * @return {PLS} - PLS object from the given model\n     */\n    static load(model) {\n        if (model.name !== 'PLS') {\n            throw new RangeError('Invalid model: ' + model.name);\n        }\n        return new PLS(true, model);\n    }\n}\n\n/**\n * @private\n * Function that returns the index where the sum of each\n * column vector is maximum.\n * @param {Matrix} data\n * @return {number} index of the maximum\n */\nfunction maxSumColIndex(data) {\n    return data.sum('column').maxIndex()[0];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/pls.js","import {Matrix, SingularValueDecomposition, inverse} from 'ml-matrix';\nimport {initializeMatrices} from './utils';\n\n/**\n * @class KOPLS\n */\nexport class KOPLS {\n\n    /**\n     * Constructor for Kernel-based Orthogonal Projections to Latent Structures (K-OPLS)\n     * @param {object} options\n     * @param {number} [options.predictiveComponents] - Number of predictive components to use.\n     * @param {number} [options.orthogonalComponents] - Number of Y-Orthogonal components.\n     * @param {Kernel} [options.kernel] - Kernel object to apply, see [ml-kernel](https://github.com/mljs/kernel).\n     * @param {object} model - for load purposes.\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.trainingSet = new Matrix(model.trainingSet);\n            this.YLoadingMat = new Matrix(model.YLoadingMat);\n            this.SigmaPow = new Matrix(model.SigmaPow);\n            this.YScoreMat = new Matrix(model.YScoreMat);\n            this.predScoreMat = initializeMatrices(model.predScoreMat, false);\n            this.YOrthLoadingVec = initializeMatrices(model.YOrthLoadingVec, false);\n            this.YOrthEigen = model.YOrthEigen;\n            this.YOrthScoreMat = initializeMatrices(model.YOrthScoreMat, false);\n            this.toNorm = initializeMatrices(model.toNorm, false);\n            this.TURegressionCoeff = initializeMatrices(model.TURegressionCoeff, false);\n            this.kernelX = initializeMatrices(model.kernelX, true);\n            this.kernel = model.kernel;\n            this.orthogonalComp = model.orthogonalComp;\n            this.predictiveComp = model.predictiveComp;\n        } else {\n            if (options.predictiveComponents === undefined) {\n                throw new RangeError('no predictive components found!');\n            }\n            if (options.orthogonalComponents === undefined) {\n                throw new RangeError('no orthogonal components found!');\n            }\n            if (options.kernel === undefined) {\n                throw new RangeError('no kernel found!');\n            }\n\n            this.orthogonalComp = options.orthogonalComponents;\n            this.predictiveComp = options.predictiveComponents;\n            this.kernel = options.kernel;\n        }\n    }\n\n    /**\n     * Train the K-OPLS model with the given training set and labels.\n     * @param {Matrix|Array} trainingSet\n     * @param {Matrix|Array} trainingValues\n     */\n    train(trainingSet, trainingValues) {\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        trainingValues = Matrix.checkMatrix(trainingValues);\n\n        // to save and compute kernel with the prediction dataset.\n        this.trainingSet = trainingSet.clone();\n\n        var kernelX = this.kernel.compute(trainingSet);\n\n        var Identity = Matrix.eye(kernelX.rows, kernelX.rows, 1);\n        var temp = kernelX;\n        kernelX = new Matrix(this.orthogonalComp + 1, this.orthogonalComp + 1);\n        kernelX[0][0] = temp;\n\n        var result = new SingularValueDecomposition(trainingValues.transpose().mmul(kernelX[0][0]).mmul(trainingValues), {\n            computeLeftSingularVectors: true,\n            computeRightSingularVectors: false\n        });\n        var YLoadingMat = result.leftSingularVectors;\n        var Sigma = result.diagonalMatrix;\n\n        YLoadingMat = YLoadingMat.subMatrix(0, YLoadingMat.rows - 1, 0, this.predictiveComp - 1);\n        Sigma = Sigma.subMatrix(0, this.predictiveComp - 1, 0, this.predictiveComp - 1);\n\n        var YScoreMat = trainingValues.mmul(YLoadingMat);\n\n        var predScoreMat = new Array(this.orthogonalComp + 1);\n        var TURegressionCoeff = new Array(this.orthogonalComp + 1);\n        var YOrthScoreMat = new Array(this.orthogonalComp);\n        var YOrthLoadingVec = new Array(this.orthogonalComp);\n        var YOrthEigen = new Array(this.orthogonalComp);\n        var YOrthScoreNorm = new Array(this.orthogonalComp);\n\n        var SigmaPow = Matrix.pow(Sigma, -0.5);\n        // to avoid errors, check infinity\n        SigmaPow.apply(function (i, j) {\n            if (this[i][j] === Infinity) {\n                this[i][j] = 0.0;\n            }\n        });\n\n        for (var i = 0; i < this.orthogonalComp; ++i) {\n            predScoreMat[i] = kernelX[0][i].transpose().mmul(YScoreMat).mmul(SigmaPow);\n\n            var TpiPrime = predScoreMat[i].transpose();\n            TURegressionCoeff[i] = inverse(TpiPrime.mmul(predScoreMat[i])).mmul(TpiPrime).mmul(YScoreMat);\n\n            result = new SingularValueDecomposition(TpiPrime.mmul(Matrix.sub(kernelX[i][i], predScoreMat[i].mmul(TpiPrime))).mmul(predScoreMat[i]), {\n                computeLeftSingularVectors: true,\n                computeRightSingularVectors: false\n            });\n            var CoTemp = result.leftSingularVectors;\n            var SoTemp = result.diagonalMatrix;\n\n            YOrthLoadingVec[i] = CoTemp.subMatrix(0, CoTemp.rows - 1, 0, 0);\n            YOrthEigen[i] = SoTemp[0][0];\n\n            YOrthScoreMat[i] = Matrix.sub(kernelX[i][i], predScoreMat[i].mmul(TpiPrime)).mmul(predScoreMat[i]).mmul(YOrthLoadingVec[i]).mul(Math.pow(YOrthEigen[i], -0.5));\n\n            var toiPrime = YOrthScoreMat[i].transpose();\n            YOrthScoreNorm[i] = Matrix.sqrt(toiPrime.mmul(YOrthScoreMat[i]));\n\n            YOrthScoreMat[i] = YOrthScoreMat[i].divRowVector(YOrthScoreNorm[i]);\n\n            var ITo = Matrix.sub(Identity, YOrthScoreMat[i].mmul(YOrthScoreMat[i].transpose()));\n\n            kernelX[0][i + 1] = kernelX[0][i].mmul(ITo);\n            kernelX[i + 1][i + 1] = ITo.mmul(kernelX[i][i]).mmul(ITo);\n        }\n\n        var lastScoreMat = predScoreMat[this.orthogonalComp] = kernelX[0][this.orthogonalComp].transpose().mmul(YScoreMat).mmul(SigmaPow);\n\n        var lastTpPrime = lastScoreMat.transpose();\n        TURegressionCoeff[this.orthogonalComp] = inverse(lastTpPrime.mmul(lastScoreMat)).mmul(lastTpPrime).mmul(YScoreMat);\n\n        this.YLoadingMat = YLoadingMat;\n        this.SigmaPow = SigmaPow;\n        this.YScoreMat = YScoreMat;\n        this.predScoreMat = predScoreMat;\n        this.YOrthLoadingVec = YOrthLoadingVec;\n        this.YOrthEigen = YOrthEigen;\n        this.YOrthScoreMat = YOrthScoreMat;\n        this.toNorm = YOrthScoreNorm;\n        this.TURegressionCoeff = TURegressionCoeff;\n        this.kernelX = kernelX;\n    }\n\n    /**\n     * Predicts the output given the matrix to predict.\n     * @param {Matrix|Array} toPredict\n     * @return {{y: Matrix, predScoreMat: Array<Matrix>, predYOrthVectors: Array<Matrix>}} predictions\n     */\n    predict(toPredict) {\n\n        var KTestTrain = this.kernel.compute(toPredict, this.trainingSet);\n\n        var temp = KTestTrain;\n        KTestTrain = new Matrix(this.orthogonalComp + 1, this.orthogonalComp + 1);\n        KTestTrain[0][0] = temp;\n\n        var YOrthScoreVector = new Array(this.orthogonalComp);\n        var predScoreMat = new Array(this.orthogonalComp);\n\n        var i;\n        for (i = 0; i < this.orthogonalComp; ++i) {\n            predScoreMat[i] = KTestTrain[i][0].mmul(this.YScoreMat).mmul(this.SigmaPow);\n\n            YOrthScoreVector[i] = Matrix.sub(KTestTrain[i][i], predScoreMat[i].mmul(this.predScoreMat[i].transpose())).mmul(this.predScoreMat[i]).mmul(this.YOrthLoadingVec[i]).mul(Math.pow(this.YOrthEigen[i], -0.5));\n\n            YOrthScoreVector[i] = YOrthScoreVector[i].divRowVector(this.toNorm[i]);\n\n            var scoreMatPrime = this.YOrthScoreMat[i].transpose();\n            KTestTrain[i + 1][0] = Matrix.sub(KTestTrain[i][0], YOrthScoreVector[i].mmul(scoreMatPrime).mmul(this.kernelX[0][i].transpose()));\n\n            var p1 = Matrix.sub(KTestTrain[i][0], KTestTrain[i][i].mmul(this.YOrthScoreMat[i]).mmul(scoreMatPrime));\n            var p2 = YOrthScoreVector[i].mmul(scoreMatPrime).mmul(this.kernelX[i][i]);\n            var p3 = p2.mmul(this.YOrthScoreMat[i]).mmul(scoreMatPrime);\n\n            KTestTrain[i + 1][i + 1] = p1.sub(p2).add(p3);\n        }\n\n        predScoreMat[i] = KTestTrain[i][0].mmul(this.YScoreMat).mmul(this.SigmaPow);\n        var prediction = predScoreMat[i].mmul(this.TURegressionCoeff[i]).mmul(this.YLoadingMat.transpose());\n\n        return {\n            prediction: prediction,\n            predScoreMat: predScoreMat,\n            predYOrthVectors: YOrthScoreVector\n        };\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            name: 'K-OPLS',\n            YLoadingMat: this.YLoadingMat,\n            SigmaPow: this.SigmaPow,\n            YScoreMat: this.YScoreMat,\n            predScoreMat: this.predScoreMat,\n            YOrthLoadingVec: this.YOrthLoadingVec,\n            YOrthEigen: this.YOrthEigen,\n            YOrthScoreMat: this.YOrthScoreMat,\n            toNorm: this.toNorm,\n            TURegressionCoeff: this.TURegressionCoeff,\n            kernelX: this.kernelX,\n            trainingSet: this.trainingSet,\n            orthogonalComp: this.orthogonalComp,\n            predictiveComp: this.predictiveComp\n        };\n    }\n\n    /**\n     * Load a K-OPLS with the given model.\n     * @param {object} model\n     * @param {Kernel} kernel - kernel used on the model, see [ml-kernel](https://github.com/mljs/kernel).\n     * @return {KOPLS}\n     */\n    static load(model, kernel) {\n        if (model.name !== 'K-OPLS') {\n            throw new RangeError('Invalid model: ' + model.name);\n        }\n\n        if (!kernel) {\n            throw new RangeError('You must provide a kernel for the model!');\n        }\n\n        model.kernel = kernel;\n        return new KOPLS(true, model);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/kopls.js","'use strict';\n\nconst ConfusionMatrix = require('ml-confusion-matrix');\n\nconst CV = {};\nconst combinations = require('ml-combinations');\n\n/**\n * Performs a leave-one-out cross-validation (LOO-CV) of the given samples. In LOO-CV, 1 observation is used as the\n * validation set while the rest is used as the training set. This is repeated once for each observation. LOO-CV is a\n * special case of LPO-CV. @see leavePout\n * @param {function} Classifier - The classifier's constructor to use for the cross validation. Expect ml-classifier\n *     api.\n * @param {Array} features - The features for all samples of the data-set\n * @param {Array} labels - The classification class of all samples of the data-set\n * @param {object} classifierOptions - The classifier options with which the classifier should be instantiated.\n * @return {ConfusionMatrix} - The cross-validation confusion matrix\n */\nCV.leaveOneOut = function (Classifier, features, labels, classifierOptions) {\n    if (typeof labels === 'function') {\n        var callback = labels;\n        labels = features;\n        features = Classifier;\n        return CV.leavePOut(features, labels, 1, callback);\n    }\n    return CV.leavePOut(Classifier, features, labels, classifierOptions, 1);\n};\n\n\n/**\n * Performs a leave-p-out cross-validation (LPO-CV) of the given samples. In LPO-CV, p observations are used as the\n * validation set while the rest is used as the training set. This is repeated as many times as there are possible\n * ways to combine p observations from the set (unordered without replacement). Be aware that for relatively small\n * data-set size this can require a very large number of training and testing to do!\n * @param {function} Classifier - The classifier's constructor to use for the cross validation. Expect ml-classifier\n *     api.\n * @param {Array} features - The features for all samples of the data-set\n * @param {Array} labels - The classification class of all samples of the data-set\n * @param {object} classifierOptions - The classifier options with which the classifier should be instantiated.\n * @param {number} p - The size of the validation sub-samples' set\n * @return {ConfusionMatrix} - The cross-validation confusion matrix\n */\nCV.leavePOut = function (Classifier, features, labels, classifierOptions, p) {\n    if (typeof classifierOptions === 'function') {\n        var callback = classifierOptions;\n        p = labels;\n        labels = features;\n        features = Classifier;\n    }\n    check(features, labels);\n    const distinct = getDistinct(labels);\n    const confusionMatrix = initMatrix(distinct.length, distinct.length);\n\n    var N = features.length;\n    var gen = combinations(p, N);\n    var allIdx = new Array(N);\n    for (let i = 0; i < N; i++) {\n        allIdx[i] = i;\n    }\n    for (const testIdx of gen) {\n        var trainIdx = allIdx.slice();\n\n        for (let i = testIdx.length - 1; i >= 0; i--) {\n            trainIdx.splice(testIdx[i], 1);\n        }\n\n        if (callback) {\n            validateWithCallback(features, labels, testIdx, trainIdx, confusionMatrix, distinct, callback);\n        } else {\n            validate(Classifier, features, labels, classifierOptions, testIdx, trainIdx, confusionMatrix, distinct);\n        }\n\n    }\n\n    return new ConfusionMatrix(confusionMatrix, distinct);\n};\n\n/**\n * Performs k-fold cross-validation (KF-CV). KF-CV separates the data-set into k random equally sized partitions, and\n * uses each as a validation set, with all other partitions used in the training set. Observations left over from if k\n * does not divide the number of observations are left out of the cross-validation process.\n * @param {function} Classifier - The classifier's to use for the cross validation. Expect ml-classifier api.\n * @param {Array} features - The features for all samples of the data-set\n * @param {Array} labels - The classification class of all samples of the data-set\n * @param {object} classifierOptions - The classifier options with which the classifier should be instantiated.\n * @param {number} k - The number of partitions to create\n * @return {ConfusionMatrix} - The cross-validation confusion matrix\n */\nCV.kFold = function (Classifier, features, labels, classifierOptions, k) {\n    if (typeof classifierOptions === 'function') {\n        var callback = classifierOptions;\n        k = labels;\n        labels = features;\n        features = Classifier;\n    }\n    check(features, labels);\n    const distinct = getDistinct(labels);\n    const confusionMatrix = initMatrix(distinct.length, distinct.length);\n    var N = features.length;\n    var allIdx = new Array(N);\n    for (var i = 0; i < N; i++) {\n        allIdx[i] = i;\n    }\n\n    var l = Math.floor(N / k);\n    // create random k-folds\n    var current = [];\n    var folds = [];\n    while (allIdx.length) {\n        var randi = Math.floor(Math.random() * allIdx.length);\n        current.push(allIdx[randi]);\n        allIdx.splice(randi, 1);\n        if (current.length === l) {\n            folds.push(current);\n            current = [];\n        }\n    }\n    if (current.length) folds.push(current);\n    folds = folds.slice(0, k);\n\n\n    for (i = 0; i < folds.length; i++) {\n        var testIdx = folds[i];\n        var trainIdx = [];\n        for (var j = 0; j < folds.length; j++) {\n            if (j !== i) trainIdx = trainIdx.concat(folds[j]);\n        }\n\n        if (callback) {\n            validateWithCallback(features, labels, testIdx, trainIdx, confusionMatrix, distinct, callback);\n        } else {\n            validate(Classifier, features, labels, classifierOptions, testIdx, trainIdx, confusionMatrix, distinct);\n        }\n    }\n\n    return new ConfusionMatrix(confusionMatrix, distinct);\n};\n\nfunction check(features, labels) {\n    if (features.length !== labels.length) {\n        throw new Error('features and labels should have the same length');\n    }\n}\n\nfunction initMatrix(rows, columns) {\n    return new Array(rows).fill(0).map(() => new Array(columns).fill(0));\n}\n\nfunction getDistinct(arr) {\n    var s = new Set();\n    for (let i = 0; i < arr.length; i++) {\n        s.add(arr[i]);\n    }\n    return Array.from(s);\n}\n\nfunction validate(Classifier, features, labels, classifierOptions, testIdx, trainIdx, confusionMatrix, distinct) {\n    const {testFeatures, trainFeatures, testLabels, trainLabels} = getTrainTest(features, labels, testIdx, trainIdx);\n\n    var classifier;\n    if (Classifier.prototype.train) {\n        classifier = new Classifier(classifierOptions);\n        classifier.train(trainFeatures, trainLabels);\n    } else {\n        classifier = new Classifier(trainFeatures, trainLabels, classifierOptions);\n    }\n\n    var predictedLabels = classifier.predict(testFeatures);\n    updateConfusionMatrix(confusionMatrix, testLabels, predictedLabels, distinct);\n}\n\nfunction validateWithCallback(features, labels, testIdx, trainIdx, confusionMatrix, distinct, callback) {\n    const {testFeatures, trainFeatures, testLabels, trainLabels} = getTrainTest(features, labels, testIdx, trainIdx);\n    const predictedLabels = callback(trainFeatures, trainLabels, testFeatures);\n    updateConfusionMatrix(confusionMatrix, testLabels, predictedLabels, distinct);\n}\n\nfunction updateConfusionMatrix(confusionMatrix, testLabels, predictedLabels, distinct) {\n\n    for (var i = 0; i < predictedLabels.length; i++) {\n        const actualIdx = distinct.indexOf(testLabels[i]);\n        const predictedIdx = distinct.indexOf(predictedLabels[i]);\n        if (actualIdx < 0 || predictedIdx < 0) {\n            // eslint-disable-next-line no-console\n            console.warn(`ignore unknown predicted label ${predictedLabels[i]}`);\n        }\n        confusionMatrix[actualIdx][predictedIdx]++;\n    }\n}\n\n\nfunction getTrainTest(features, labels, testIdx, trainIdx) {\n    return {\n        testFeatures: testIdx.map(function (index) {\n            return features[index];\n        }),\n        trainFeatures: trainIdx.map(function (index) {\n            return features[index];\n        }),\n        testLabels: testIdx.map(function (index) {\n            return labels[index];\n        }),\n        trainLabels: trainIdx.map(function (index) {\n            return labels[index];\n        })\n    };\n}\n\nmodule.exports = CV;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cross-validation/src/index.js","'use strict';\nconst defaultOptions = {\n    mode: 'index'\n};\n\nmodule.exports = function *(M, N, options) {\n    options = Object.assign({}, defaultOptions, options);\n    var a = new Array(N);\n    var c = new Array(M);\n    var b = new Array(N);\n    var p = new Array(N + 2);\n    var x, y, z;\n\n    // init a and b\n    for (var i = 0; i < N; i++) {\n        a[i] = i;\n        if (i < N - M) b[i] = 0;\n        else b[i] = 1;\n    }\n\n    // init c\n    for (i = 0; i < M; i++) {\n        c[i] = N - M + i;\n    }\n\n    // init p\n    for (i = 0; i < p.length; i++) {\n        if (i === 0) p[i] = N + 1;\n        else if (i <= N - M) p[i] = 0;\n        else if (i <= N) p[i] = i - N + M;\n        else p[i] = -2;\n    }\n\n    function twiddle() {\n        var i, j, k;\n        j = 1;\n        while (p[j] <= 0)\n            j++;\n        if (p[j - 1] === 0) {\n            for (i = j - 1; i !== 1; i--)\n                p[i] = -1;\n            p[j] = 0;\n            x = z = 0;\n            p[1] = 1;\n            y = j - 1;\n        } else {\n            if (j > 1)\n                p[j - 1] = 0;\n            do\n                j++;\n            while (p[j] > 0);\n            k = j - 1;\n            i = j;\n            while (p[i] === 0)\n                p[i++] = -1;\n            if (p[i] === -1) {\n                p[i] = p[k];\n                z = p[k] - 1;\n                x = i - 1;\n                y = k - 1;\n                p[k] = -1;\n            } else {\n                if (i === p[0]) {\n                    return 0;\n                } else {\n                    p[j] = p[i];\n                    z = p[i] - 1;\n                    p[i] = 0;\n                    x = j - 1;\n                    y = i - 1;\n                }\n            }\n        }\n        return 1;\n    }\n\n    if (options.mode === 'index') {\n        yield c.slice();\n        while (twiddle()) {\n            c[z] = a[x];\n            yield c.slice();\n        }\n    } else if (options.mode === 'mask') {\n        yield b.slice();\n        while (twiddle()) {\n            b[x] = 1;\n            b[y] = 0;\n            yield b.slice();\n        }\n    } else {\n        throw new Error('Invalid mode');\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-combinations/src/index.js","'use strict';\n\nconst Matrix = require('ml-matrix').Matrix;\n\nconst Layer = require('./Layer');\nconst OutputLayer = require('./OutputLayer');\nconst Utils = require('./utils');\nconst ACTIVATION_FUNCTIONS = require('./activationFunctions');\n\nclass FeedForwardNeuralNetworks {\n\n    /**\n     * Create a new Feedforword neural network model.\n     * @class FeedForwardNeuralNetworks\n     * @param {object} [options]\n     * @param {Array} [options.hiddenLayers=[10]] - Array that contains the sizes of the hidden layers.\n     * @param {number} [options.iterations=50] - Number of iterations at the training step.\n     * @param {number} [options.learningRate=0.01] - Learning rate of the neural net (also known as epsilon).\n     * @param {number} [options.regularization=0.01] - Regularization parameter af the neural net.\n     * @param {string} [options.activation='tanh'] - activation function to be used. (options: 'tanh'(default),\n     * 'identity', 'logistic', 'arctan', 'softsign', 'relu', 'softplus', 'bent', 'sinusoid', 'sinc', 'gaussian').\n     * (single-parametric options: 'parametric-relu', 'exponential-relu', 'soft-exponential').\n     * @param {number} [options.activationParam=1] - if the selected activation function needs a parameter.\n     */\n    constructor(options) {\n        options = options || {};\n        if (options.model) {\n            // load network\n            this.hiddenLayers = options.hiddenLayers;\n            this.iterations = options.iterations;\n            this.learningRate = options.learningRate;\n            this.regularization = options.regularization;\n            this.dicts = options.dicts;\n            this.activation = options.activation;\n            this.activationParam = options.activationParam;\n            this.model = new Array(options.layers.length);\n\n            for (var i = 0; i < this.model.length - 1; ++i) {\n                this.model[i] = Layer.load(options.layers[i]);\n            }\n            this.model[this.model.length - 1] = OutputLayer.load(options.layers[this.model.length - 1]);\n        } else {\n            // default constructor\n            this.hiddenLayers = options.hiddenLayers || [10];\n            this.iterations = options.iterations || 50;\n\n            this.learningRate = options.learningRate || 0.01;\n            this.regularization = options.regularization || 0.01;\n\n            this.activation = options.activation || 'tanh';\n            this.activationParam = options.activationParam || 1;\n            if (!(this.activation in Object.keys(ACTIVATION_FUNCTIONS))) {\n                this.activation = 'tanh';\n            }\n        }\n    }\n\n    /**\n     * @private\n     * Function that build and initialize the neural net.\n     * @param {number} inputSize - total of features to fit.\n     * @param {number} outputSize - total of labels of the prediction set.\n     */\n    buildNetwork(inputSize, outputSize) {\n        var size = 2 + (this.hiddenLayers.length - 1);\n        this.model = new Array(size);\n\n        // input layer\n        this.model[0] = new Layer({\n            inputSize: inputSize,\n            outputSize: this.hiddenLayers[0],\n            activation: this.activation,\n            activationParam: this.activationParam,\n            regularization: this.regularization,\n            epsilon: this.learningRate\n        });\n\n        // hidden layers\n        for (var i = 1; i < this.hiddenLayers.length; ++i) {\n            this.model[i] = new Layer({\n                inputSize: this.hiddenLayers[i - 1],\n                outputSize: this.hiddenLayers[i],\n                activation: this.activation,\n                activationParam: this.activationParam,\n                regularization: this.regularization,\n                epsilon: this.learningRate\n            });\n        }\n\n        // output layer\n        this.model[size - 1] = new OutputLayer({\n            inputSize: this.hiddenLayers[this.hiddenLayers.length - 1],\n            outputSize: outputSize,\n            activation: this.activation,\n            activationParam: this.activationParam,\n            regularization: this.regularization,\n            epsilon: this.learningRate\n        });\n    }\n\n    /**\n     * Train the neural net with the given features and labels.\n     * @param {Matrix|Array} features\n     * @param {Matrix|Array} labels\n     */\n    train(features, labels) {\n        features = Matrix.checkMatrix(features);\n        this.dicts = Utils.dictOutputs(labels);\n\n        var inputSize = features.columns;\n        var outputSize = Object.keys(this.dicts.inputs).length;\n\n        this.buildNetwork(inputSize, outputSize);\n\n        for (var i = 0; i < this.iterations; ++i) {\n            var probabilities = this.propagate(features);\n            this.backpropagation(features, labels, probabilities);\n        }\n    }\n\n    /**\n     * @private\n     * Propagate the input(training set) and retrives the probabilities of each class.\n     * @param {Matrix} X\n     * @return {Matrix} probabilities of each class.\n     */\n    propagate(X) {\n        var input = X;\n        for (var i = 0; i < this.model.length; ++i) {\n            //console.log(i);\n            input = this.model[i].forward(input);\n        }\n\n        // get probabilities\n        return input.divColumnVector(Utils.sumRow(input));\n    }\n\n    /**\n     * @private\n     * Function that applies the backpropagation algorithm on each layer of the network\n     * in order to fit the features and labels.\n     * @param {Matrix} features\n     * @param {Array} labels\n     * @param {Matrix} probabilities - probabilities of each class of the feature set.\n     */\n    backpropagation(features, labels, probabilities) {\n        for (var i = 0; i < probabilities.length; ++i) {\n            probabilities[i][this.dicts.inputs[labels[i]]] -= 1;\n        }\n\n        // remember, the last delta doesn't matter\n        var delta = probabilities;\n        for (i = this.model.length - 1; i >= 0; --i) {\n            var a = i > 0 ? this.model[i - 1].a : features;\n            delta = this.model[i].backpropagation(delta, a);\n        }\n\n        for (i = 0; i < this.model.length; ++i) {\n            this.model[i].update();\n        }\n    }\n\n    /**\n     * Predict the output given the feature set.\n     * @param {Array|Matrix} features\n     * @return {Array}\n     */\n    predict(features) {\n        features = Matrix.checkMatrix(features);\n        var outputs = new Array(features.rows);\n        var probabilities = this.propagate(features);\n        for (var i = 0; i < features.rows; ++i) {\n            outputs[i] = this.dicts.outputs[probabilities.maxRowIndex(i)[1]];\n        }\n\n        return outputs;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} model\n     */\n    toJSON() {\n        var model = {\n            model: 'FNN',\n            hiddenLayers: this.hiddenLayers,\n            iterations: this.iterations,\n            learningRate: this.learningRate,\n            regularization: this.regularization,\n            activation: this.activation,\n            activationParam: this.activationParam,\n            dicts: this.dicts,\n            layers: new Array(this.model.length)\n        };\n\n        for (var i = 0; i < this.model.length; ++i) {\n            model.layers[i] = this.model[i].toJSON();\n        }\n\n        return model;\n    }\n\n    /**\n     * Load a Feedforward Neural Network with the current model.\n     * @param {object} model\n     * @return {FeedForwardNeuralNetworks}\n     */\n    static load(model) {\n        if (model.model !== 'FNN') {\n            throw new RangeError('the current model is not a feed forward network');\n        }\n\n        return new FeedForwardNeuralNetworks(model);\n    }\n}\n\nmodule.exports = FeedForwardNeuralNetworks;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/FeedForwardNeuralNetwork.js","'use strict';\n\nvar Layer = require('./Layer');\n\nclass OutputLayer extends Layer {\n    constructor(options) {\n        super(options);\n\n        this.activationFunction = function (i, j) {\n            this[i][j] = Math.exp(this[i][j]);\n        };\n    }\n\n    static load(model) {\n        if (model.model !== 'Layer') {\n            throw new RangeError('the current model is not a Layer model');\n        }\n\n        return new OutputLayer(model);\n    }\n}\n\nmodule.exports = OutputLayer;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/OutputLayer.js","'use strict';\n\nvar NodeSquare = require('./node-square'),\n    NodeHexagonal = require('./node-hexagonal');\n\nvar defaultOptions = {\n    fields: 3,\n    randomizer: Math.random,\n    distance: squareEuclidean,\n    iterations: 10,\n    learningRate: 0.1,\n    gridType: 'rect',\n    torus: true,\n    method: 'random'\n};\n\nfunction SOM(x, y, options, reload) {\n\n    this.x = x;\n    this.y = y;\n\n    options = options || {};\n    this.options = {};\n    for (var i in defaultOptions) {\n        if (options.hasOwnProperty(i)) {\n            this.options[i] = options[i];\n        } else {\n            this.options[i] = defaultOptions[i];\n        }\n    }\n\n    if (typeof this.options.fields === 'number') {\n        this.numWeights = this.options.fields;\n    } else if (Array.isArray(this.options.fields)) {\n        this.numWeights = this.options.fields.length;\n        var converters = getConverters(this.options.fields);\n        this.extractor = converters.extractor;\n        this.creator = converters.creator;\n    } else {\n        throw new Error('Invalid fields definition');\n    }\n\n    if (this.options.gridType === 'rect') {\n        this.nodeType = NodeSquare;\n        this.gridDim = {\n            x: x,\n            y: y\n        };\n    } else {\n        this.nodeType = NodeHexagonal;\n        var hx = this.x - Math.floor(this.y / 2);\n        this.gridDim = {\n            x: hx,\n            y: this.y,\n            z: -(0 - hx - this.y)\n        };\n    }\n\n    this.torus = this.options.torus;\n    this.distanceMethod = this.torus ? 'getDistanceTorus' : 'getDistance';\n\n    this.distance = this.options.distance;\n\n    this.maxDistance = getMaxDistance(this.distance, this.numWeights);\n\n    if (reload === true) { // For model loading\n        this.done = true;\n        return;\n    }\n    if (!(x > 0 && y > 0)) {\n        throw new Error('x and y must be positive');\n    }\n\n    this.times = {\n        findBMU: 0,\n        adjust: 0\n    };\n\n    this.randomizer = this.options.randomizer;\n\n    this.iterationCount = 0;\n    this.iterations = this.options.iterations;\n\n    this.startLearningRate = this.learningRate = this.options.learningRate;\n\n    this.mapRadius = Math.floor(Math.max(x, y) / 2);\n\n    this.algorithmMethod = this.options.method;\n\n    this._initNodes();\n\n    this.done = false;\n}\n\nSOM.load = function loadModel(model, distance) {\n    if (model.name === 'SOM') {\n        var x = model.data.length,\n            y = model.data[0].length;\n        if (distance) {\n            model.options.distance = distance;\n        } else if (model.options.distance) {\n            model.options.distance = eval('(' + model.options.distance + ')');\n        }\n        var som = new SOM(x, y, model.options, true);\n        som.nodes = new Array(x);\n        for (var i = 0; i < x; i++) {\n            som.nodes[i] = new Array(y);\n            for (var j = 0; j < y; j++) {\n                som.nodes[i][j] = new som.nodeType(i, j, model.data[i][j], som);\n            }\n        }\n        return som;\n    } else {\n        throw new Error('expecting a SOM model');\n    }\n};\n\nSOM.prototype.export = function exportModel(includeDistance) {\n    if (!this.done) {\n        throw new Error('model is not ready yet');\n    }\n    var model = {\n        name: 'SOM'\n    };\n    model.options = {\n        fields: this.options.fields,\n        gridType: this.options.gridType,\n        torus: this.options.torus\n    };\n    model.data = new Array(this.x);\n    for (var i = 0; i < this.x; i++) {\n        model.data[i] = new Array(this.y);\n        for (var j = 0; j < this.y; j++) {\n            model.data[i][j] = this.nodes[i][j].weights;\n        }\n    }\n    if (includeDistance) {\n        model.options.distance = this.distance.toString();\n    }\n    return model;\n};\n\nSOM.prototype._initNodes = function initNodes() {\n    var now = Date.now(),\n        i, j, k;\n    this.nodes = new Array(this.x);\n    for (i = 0; i < this.x; i++) {\n        this.nodes[i] = new Array(this.y);\n        for (j = 0; j < this.y; j++) {\n            var weights = new Array(this.numWeights);\n            for (k = 0; k < this.numWeights; k++) {\n                weights[k] = this.randomizer();\n            }\n            this.nodes[i][j] = new this.nodeType(i, j, weights, this);\n        }\n    }\n    this.times.initNodes = Date.now() - now;\n};\n\nSOM.prototype.setTraining = function setTraining(trainingSet) {\n    if (this.trainingSet) {\n        throw new Error('training set has already been set');\n    }\n    var now = Date.now();\n    var convertedSet = trainingSet;\n    var i, l = trainingSet.length;\n    if (this.extractor) {\n        convertedSet = new Array(l);\n        for (i = 0; i < l; i++) {\n            convertedSet[i] = this.extractor(trainingSet[i]);\n        }\n    }\n    this.numIterations = this.iterations * l;\n\n    if (this.algorithmMethod === 'random') {\n        this.timeConstant = this.numIterations / Math.log(this.mapRadius);\n    } else {\n        this.timeConstant = l / Math.log(this.mapRadius);\n    }\n    this.trainingSet = convertedSet;\n    this.times.setTraining = Date.now() - now;\n};\n\nSOM.prototype.trainOne = function trainOne() {\n    if (this.done) {\n\n        return false;\n\n    } else if (this.numIterations-- > 0) {\n\n        var neighbourhoodRadius,\n            trainingValue,\n            trainingSetFactor;\n\n        if (this.algorithmMethod === 'random') { // Pick a random value of the training set at each step\n            neighbourhoodRadius = this.mapRadius * Math.exp(-this.iterationCount / this.timeConstant);\n            trainingValue = getRandomValue(this.trainingSet, this.randomizer);\n            this._adjust(trainingValue, neighbourhoodRadius);\n            this.learningRate = this.startLearningRate * Math.exp(-this.iterationCount / this.numIterations);\n        } else { // Get next input vector\n            trainingSetFactor = -Math.floor(this.iterationCount / this.trainingSet.length);\n            neighbourhoodRadius = this.mapRadius * Math.exp(trainingSetFactor / this.timeConstant);\n            trainingValue = this.trainingSet[this.iterationCount % this.trainingSet.length];\n            this._adjust(trainingValue, neighbourhoodRadius);\n            if (((this.iterationCount + 1) % this.trainingSet.length) === 0) {\n                this.learningRate = this.startLearningRate * Math.exp(trainingSetFactor / Math.floor(this.numIterations / this.trainingSet.length));\n            }\n        }\n\n        this.iterationCount++;\n\n        return true;\n\n    } else {\n\n        this.done = true;\n        return false;\n\n    }\n};\n\nSOM.prototype._adjust = function adjust(trainingValue, neighbourhoodRadius) {\n    var now = Date.now(),\n        x, y, dist, influence;\n\n    var bmu = this._findBestMatchingUnit(trainingValue);\n\n    var now2 = Date.now();\n    this.times.findBMU += now2 - now;\n\n    var radiusLimit = Math.floor(neighbourhoodRadius);\n    var xMin = bmu.x - radiusLimit,\n        xMax = bmu.x + radiusLimit,\n        yMin = bmu.y - radiusLimit,\n        yMax = bmu.y + radiusLimit;\n\n    for (x = xMin; x <= xMax; x++) {\n        var theX = x;\n        if (x < 0) {\n            theX += this.x;\n        } else if (x >= this.x) {\n            theX -= this.x;\n        }\n        for (y = yMin; y <= yMax; y++) {\n            var theY = y;\n            if (y < 0) {\n                theY += this.y;\n            } else if (y >= this.y) {\n                theY -= this.y;\n            }\n\n            dist = bmu[this.distanceMethod](this.nodes[theX][theY]);\n\n            if (dist < neighbourhoodRadius) {\n                influence = Math.exp(-dist / (2 * neighbourhoodRadius));\n                this.nodes[theX][theY].adjustWeights(trainingValue, this.learningRate, influence);\n            }\n\n        }\n    }\n\n    this.times.adjust += (Date.now() - now2);\n\n};\n\nSOM.prototype.train = function train(trainingSet) {\n    if (!this.done) {\n        this.setTraining(trainingSet);\n        while (this.trainOne()) {\n        }\n    }\n};\n\nSOM.prototype.getConvertedNodes = function getConvertedNodes() {\n    var result = new Array(this.x);\n    for (var i = 0; i < this.x; i++) {\n        result[i] = new Array(this.y);\n        for (var j = 0; j < this.y; j++) {\n            var node = this.nodes[i][j];\n            result[i][j] = this.creator ? this.creator(node.weights) : node.weights;\n        }\n    }\n    return result;\n};\n\nSOM.prototype._findBestMatchingUnit = function findBestMatchingUnit(candidate) {\n\n    var bmu,\n        lowest = Infinity,\n        dist;\n\n    for (var i = 0; i < this.x; i++) {\n        for (var j = 0; j < this.y; j++) {\n            dist = this.distance(this.nodes[i][j].weights, candidate);\n            if (dist < lowest) {\n                lowest = dist;\n                bmu = this.nodes[i][j];\n            }\n        }\n    }\n\n    return bmu;\n\n};\n\nSOM.prototype.predict = function predict(data, computePosition) {\n    if (typeof data === 'boolean') {\n        computePosition = data;\n        data = null;\n    }\n    if (!data) {\n        data = this.trainingSet;\n    }\n    if (Array.isArray(data) && (Array.isArray(data[0]) || (typeof data[0] === 'object'))) { // predict a dataset\n        var self = this;\n        return data.map(function (element) {\n            return self._predict(element, computePosition);\n        });\n    } else { // predict a single element\n        return this._predict(data, computePosition);\n    }\n};\n\nSOM.prototype._predict = function _predict(element, computePosition) {\n    if (!Array.isArray(element)) {\n        element = this.extractor(element);\n    }\n    var bmu = this._findBestMatchingUnit(element);\n    var result = [bmu.x, bmu.y];\n    if (computePosition) {\n        result[2] = bmu.getPosition(element);\n    }\n    return result;\n};\n\n// As seen in http://www.scholarpedia.org/article/Kohonen_network\nSOM.prototype.getQuantizationError = function getQuantizationError() {\n    var fit = this.getFit(),\n        l = fit.length,\n        sum = 0;\n    for (var i = 0; i < l; i++) {\n        sum += fit[i];\n    }\n    return sum / l;\n};\n\nSOM.prototype.getFit = function getFit(dataset) {\n    if (!dataset) {\n        dataset = this.trainingSet;\n    }\n    var l = dataset.length,\n        bmu,\n        result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        bmu = this._findBestMatchingUnit(dataset[i]);\n        result[i] = Math.sqrt(this.distance(dataset[i], bmu.weights));\n    }\n    return result;\n};\n\nfunction getConverters(fields) {\n    var l = fields.length,\n        normalizers = new Array(l),\n        denormalizers = new Array(l);\n    for (var i = 0; i < l; i++) {\n        normalizers[i] = getNormalizer(fields[i].range);\n        denormalizers[i] = getDenormalizer(fields[i].range);\n    }\n    return {\n        extractor: function extractor(value) {\n            var result = new Array(l);\n            for (var i = 0; i < l; i++) {\n                result[i] = normalizers[i](value[fields[i].name]);\n            }\n            return result;\n        },\n        creator: function creator(value) {\n            var result = {};\n            for (var i = 0; i < l; i++) {\n                result[fields[i].name] = denormalizers[i](value[i]);\n            }\n            return result;\n        }\n    };\n}\n\nfunction getNormalizer(minMax) {\n    return function normalizer(value) {\n        return (value - minMax[0]) / (minMax[1] - minMax[0]);\n    };\n}\n\nfunction getDenormalizer(minMax) {\n    return function denormalizer(value) {\n        return (minMax[0] + value * (minMax[1] - minMax[0]));\n    };\n}\n\nfunction squareEuclidean(a, b) {\n    var d = 0;\n    for (var i = 0, ii = a.length; i < ii; i++) {\n        d += (a[i] - b[i]) * (a[i] - b[i]);\n    }\n    return d;\n}\n\nfunction getRandomValue(arr, randomizer) {\n    return arr[Math.floor(randomizer() * arr.length)];\n}\n\nfunction getMaxDistance(distance, numWeights) {\n    var zero = new Array(numWeights),\n        one = new Array(numWeights);\n    for (var i = 0; i < numWeights; i++) {\n        zero[i] = 0;\n        one[i] = 1;\n    }\n    return distance(zero, one);\n}\n\nmodule.exports = SOM;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-som/src/index.js","var NodeSquare = require('./node-square');\n\nfunction NodeHexagonal(x, y, weights, som) {\n\n    NodeSquare.call(this, x, y, weights, som);\n\n    this.hX = x - Math.floor(y / 2);\n    this.z = 0 - this.hX - y;\n\n}\n\nNodeHexagonal.prototype = new NodeSquare;\nNodeHexagonal.prototype.constructor = NodeHexagonal;\n\nNodeHexagonal.prototype.getDistance = function getDistanceHexagonal(otherNode) {\n    return Math.max(Math.abs(this.hX - otherNode.hX), Math.abs(this.y - otherNode.y), Math.abs(this.z - otherNode.z));\n};\n\nNodeHexagonal.prototype.getDistanceTorus = function getDistanceTorus(otherNode) {\n    var distX = Math.abs(this.hX - otherNode.hX),\n        distY = Math.abs(this.y - otherNode.y),\n        distZ = Math.abs(this.z - otherNode.z);\n    return Math.max(Math.min(distX, this.som.gridDim.x - distX), Math.min(distY, this.som.gridDim.y - distY), Math.min(distZ, this.som.gridDim.z - distZ));\n};\n\nNodeHexagonal.prototype.getPosition = function getPosition() {\n    throw new Error('Unimplemented : cannot get position of the points for hexagonal grid');\n};\n\nmodule.exports = NodeHexagonal;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-som/src/node-hexagonal.js","export default function maybeToPrecision(value, digits) {\n    if (value < 0) {\n        value = 0 - value;\n        if (typeof digits === 'number') {\n            return '- ' + value.toPrecision(digits);\n        } else {\n            return '- ' + value.toString();\n        }\n    } else {\n        if (typeof digits === 'number') {\n            return value.toPrecision(digits);\n        } else {\n            return value.toString();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-base/src/maybeToPrecision.js","export default function checkArraySize(x, y) {\n    if (!Array.isArray(x) || !Array.isArray(y)) {\n        throw new TypeError('x and y must be arrays');\n    }\n    if (x.length !== y.length) {\n        throw new RangeError('x and y arrays must have the same length');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-base/src/checkArrayLength.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport SimpleLinearRegression from 'ml-regression-simple-linear';\n\nexport default class ExponentialRegression extends BaseRegression {\n    constructor(x, y) {\n        super();\n        if (x === true) {\n            this.A = y.A;\n            this.B = y.B;\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y);\n        }\n    }\n\n    _predict(input) {\n        return this.B * Math.exp(input * this.A);\n    }\n\n    toJSON() {\n        return {\n            name: 'exponentialRegression',\n            A: this.A,\n            B: this.B\n        };\n    }\n\n    toString(precision) {\n        return 'f(x) = ' + maybeToPrecision(this.B, precision) + ' * e^(' + maybeToPrecision(this.A, precision) + ' * x)';\n    }\n\n    toLaTeX(precision) {\n        if (this.A >= 0) {\n            return 'f(x) = ' + maybeToPrecision(this.B, precision) + 'e^{' + maybeToPrecision(this.A, precision) + 'x}';\n        } else {\n            return 'f(x) = \\\\frac{' + maybeToPrecision(this.B, precision) + '}{e^{' + maybeToPrecision(-this.A, precision) + 'x}}';\n        }\n\n    }\n\n    static load(json) {\n        if (json.name !== 'exponentialRegression') {\n            throw new TypeError('not a exponential regression model');\n        }\n        return new ExponentialRegression(true, json);\n    }\n}\n\nfunction regress(er, x, y) {\n    const n = x.length;\n    const yl = new Array(n);\n    for (let i = 0; i < n; i++) {\n        yl[i] = Math.log(y[i]);\n    }\n\n    const linear = new SimpleLinearRegression(x, yl);\n    er.A = linear.slope;\n    er.B = Math.exp(linear.intercept);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-exponential/src/index.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport SimpleLinearRegression from 'ml-regression-simple-linear';\n\nexport default class PowerRegression extends BaseRegression {\n    constructor(x, y) {\n        super();\n        if (x === true) { // reloading model\n            this.A = y.A;\n            this.B = y.B;\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y);\n        }\n    }\n\n    _predict(newInputs) {\n        return this.A * Math.pow(newInputs, this.B);\n    }\n\n    toJSON() {\n        return {\n            name: 'powerRegression',\n            A: this.A,\n            B: this.B\n        };\n    }\n\n    toString(precision) {\n        return 'f(x) = ' + maybeToPrecision(this.A, precision) + ' * x^' + maybeToPrecision(this.B, precision);\n    }\n\n    toLaTeX(precision) {\n        if (this.B >= 0) {\n            return 'f(x) = ' + maybeToPrecision(this.A, precision) + 'x^{' + maybeToPrecision(this.B, precision) + '}';\n        } else {\n            return 'f(x) = \\\\frac{' + maybeToPrecision(this.A, precision) + '}{x^{' + maybeToPrecision(-this.B, precision) + '}}';\n        }\n    }\n\n    static load(json) {\n        if (json.name !== 'powerRegression') {\n            throw new TypeError('not a power regression model');\n        }\n        return new PowerRegression(true, json);\n    }\n}\n\nfunction regress(pr, x, y) {\n    const n = x.length;\n    const xl = new Array(n);\n    const yl = new Array(n);\n    for (let i = 0; i < n; i++) {\n        xl[i] = Math.log(x[i]);\n        yl[i] = Math.log(y[i]);\n    }\n\n    const linear = new SimpleLinearRegression(xl, yl);\n    pr.A = Math.exp(linear.intercept);\n    pr.B = linear.slope;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-power/src/index.js","import Matrix, { SVD } from 'ml-matrix';\nimport BaseRegression from 'ml-regression-base';\n\nexport default class MultivariateLinearRegression extends BaseRegression {\n  constructor(x, y, options = {}) {\n    const { intercept = true } = options;\n    super();\n    if (x === true) {\n      this.weights = y.weights;\n      this.inputs = y.inputs;\n      this.outputs = y.outputs;\n      this.intercept = y.intercept;\n    } else {\n      x = new Matrix(x);\n      if (intercept) {\n        x.addColumn(new Array(x.length).fill(1));\n      }\n      const beta = new SVD(x, { autoTranspose: true }).solve(y);\n      this.weights = beta.to2DArray();\n      this.inputs = x[0].length;\n      this.outputs = y[0].length;\n      if (intercept) this.inputs--;\n      this.intercept = intercept;\n      /*\n       * Let's add some basic statistics about the beta's to be able to interpret them.\n       * source: http://dept.stat.lsa.umich.edu/~kshedden/Courses/Stat401/Notes/401-multreg.pdf\n       * validated against Excel Regression AddIn\n       */\n      const fittedValues = x.mmul(beta);\n      const residuals = new Matrix(y).addM(fittedValues.neg());\n      const variance =\n        residuals\n          .to2DArray()\n          .map((ri) => Math.pow(ri[0], 2))\n          .reduce((a, b) => a + b) /\n        (y.length - x.columns);\n      this.stdError = Math.sqrt(variance);\n      this.stdErrorMatrix = x\n        .transposeView()\n        .mmul(x)\n        .pseudoInverse()\n        .mul(variance);\n      this.stdErrors = this.stdErrorMatrix.diagonal().map((d) => Math.sqrt(d));\n      this.tStats = this.weights.map(\n        (d, i) => (this.stdErrors[i] === 0 ? 0 : d[0] / this.stdErrors[i])\n      );\n    }\n  }\n\n  predict(x) {\n    if (Array.isArray(x)) {\n      if (typeof x[0] === 'number') {\n        return this._predict(x);\n      } else if (Array.isArray(x[0])) {\n        const y = new Array(x.length);\n        for (let i = 0; i < x.length; i++) {\n          y[i] = this._predict(x[i]);\n        }\n        return y;\n      }\n    }\n    throw new TypeError('x must be a matrix or array of numbers');\n  }\n\n  _predict(x) {\n    const result = new Array(this.outputs);\n    if (this.intercept) {\n      for (let i = 0; i < this.outputs; i++) {\n        result[i] = this.weights[this.inputs][i];\n      }\n    } else {\n      result.fill(0);\n    }\n    for (let i = 0; i < this.inputs; i++) {\n      for (let j = 0; j < this.outputs; j++) {\n        result[j] += this.weights[i][j] * x[i];\n      }\n    }\n    return result;\n  }\n\n  score() {\n    throw new Error('score method is not implemented yet');\n  }\n\n  toJSON() {\n    return {\n      name: 'multivariateLinearRegression',\n      weights: this.weights,\n      inputs: this.inputs,\n      outputs: this.outputs,\n      intercept: this.intercept,\n      summary: {\n        regressionStatistics: {\n          standardError: this.stdError,\n          observations: this.outputs\n        },\n        variables: this.weights.map((d, i) => {\n          return {\n            label:\n              i === this.weights.length ? 'Intercept' : `X Variable ${i + 1}`,\n            coefficients: d,\n            standardError: this.stdErrors[i],\n            tStat: this.tStats[i]\n          };\n        })\n      }\n    };\n  }\n\n  static load(model) {\n    if (model.name !== 'multivariateLinearRegression') {\n      throw new Error('not a MLR model');\n    }\n    return new MultivariateLinearRegression(true, model);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-multivariate-linear/src/index.js","import {Matrix, solve} from 'ml-matrix';\nimport Kernel from 'ml-kernel';\n\nimport BaseRegression from 'ml-regression-base';\n\nconst defaultOptions = {\n    lambda: 0.1,\n    kernelType: 'gaussian',\n    kernelOptions: {},\n    computeCoefficient: false\n};\n\n// Implements the Kernel ridge regression algorithm.\n// http://www.ics.uci.edu/~welling/classnotes/papers_class/Kernel-Ridge.pdf\nexport default class KernelRidgeRegression extends BaseRegression {\n    constructor(inputs, outputs, options) {\n        super();\n        if (inputs === true) { // reloading model\n            this.alpha = outputs.alpha;\n            this.inputs = outputs.inputs;\n            this.kernelType = outputs.kernelType;\n            this.kernelOptions = outputs.kernelOptions;\n            this.kernel = new Kernel(outputs.kernelType, outputs.kernelOptions);\n        } else {\n            options = Object.assign({}, defaultOptions, options);\n\n            const kernelFunction = new Kernel(options.kernelType, options.kernelOptions);\n            const K = kernelFunction.compute(inputs);\n            const n = inputs.length;\n            K.add(Matrix.eye(n, n).mul(options.lambda));\n\n            this.alpha = solve(K, outputs);\n            this.inputs = inputs;\n            this.kernelType = options.kernelType;\n            this.kernelOptions = options.kernelOptions;\n            this.kernel = kernelFunction;\n        }\n    }\n\n    _predict(newInputs) {\n        return this.kernel.compute([newInputs], this.inputs).mmul(this.alpha)[0];\n    }\n\n    toJSON() {\n        return {\n            name: 'kernelRidgeRegression',\n            alpha: this.alpha,\n            inputs: this.inputs,\n            kernelType: this.kernelType,\n            kernelOptions: this.kernelOptions\n        };\n    }\n\n    static load(json) {\n        if (json.name !== 'kernelRidgeRegression') {\n            throw new TypeError('not a KRR model');\n        }\n        return new KernelRidgeRegression(true, json);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/regression/kernel-ridge-regression.js","import {Matrix, SVD} from 'ml-matrix';\nimport BaseRegression from 'ml-regression-base';\n\nconst defaultOptions = {\n    order: 2\n};\n// Implements the Kernel ridge regression algorithm.\n// http://www.ics.uci.edu/~welling/classnotes/papers_class/Kernel-Ridge.pdf\nexport default class PolynomialFitRegression2D extends BaseRegression {\n    /**\n     * Constructor for the 2D polynomial fitting\n     *\n     * @param inputs\n     * @param outputs\n     * @param options\n     * @constructor\n     */\n    constructor(inputs, outputs, options) {\n        super();\n        if (inputs === true) { // reloading model\n            this.coefficients = Matrix.columnVector(outputs.coefficients);\n            this.order = outputs.order;\n            if (outputs.r) {\n                this.r = outputs.r;\n                this.r2 = outputs.r2;\n            }\n            if (outputs.chi2) {\n                this.chi2 = outputs.chi2;\n            }\n        } else {\n            options = Object.assign({}, defaultOptions, options);\n            this.order = options.order;\n            this.coefficients = [];\n            this.X = inputs;\n            this.y = outputs;\n\n            this.train(this.X, this.y, options);\n        }\n    }\n\n    /**\n     * Function that fits the model given the data(X) and predictions(y).\n     * The third argument is an object with the following options:\n     * * order: order of the polynomial to fit.\n     *\n     * @param {Matrix} X - A matrix with n rows and 2 columns.\n     * @param {Matrix} y - A vector of the prediction values.\n     */\n    train(X, y) {\n        if (!Matrix.isMatrix(X)) X = new Matrix(X);\n        if (!Matrix.isMatrix(y)) y = Matrix.columnVector(y);\n\n        if (y.rows !== X.rows) {\n            y = y.transpose();\n        }\n\n        if (X.columns !== 2) {\n            throw new RangeError('You give X with ' + X.columns + ' columns and it must be 2');\n        }\n        if (X.rows !== y.rows) {\n            throw new RangeError('X and y must have the same rows');\n        }\n\n        var examples = X.rows;\n        var coefficients = ((this.order + 2) * (this.order + 1)) / 2;\n        this.coefficients = new Array(coefficients);\n\n        var x1 = X.getColumnVector(0);\n        var x2 = X.getColumnVector(1);\n\n        var scaleX1 = 1.0 / x1.clone().apply(abs).max();\n        var scaleX2 = 1.0 / x2.clone().apply(abs).max();\n        var scaleY = 1.0 / y.clone().apply(abs).max();\n\n        x1.mulColumn(0, scaleX1);\n        x2.mulColumn(0, scaleX2);\n        y.mulColumn(0, scaleY);\n\n        var A = new Matrix(examples, coefficients);\n        var col = 0;\n\n        for (var i = 0; i <= this.order; ++i) {\n            var limit = this.order - i;\n            for (var j = 0; j <= limit; ++j) {\n                var result = powColVector(x1, i).mulColumnVector(powColVector(x2, j));\n                A.setColumn(col, result);\n                col++;\n            }\n        }\n\n        var svd = new SVD(A.transpose(), {\n            computeLeftSingularVectors: true,\n            computeRightSingularVectors: true,\n            autoTranspose: false\n        });\n\n        var qqs = Matrix.rowVector(svd.diagonal);\n        qqs = qqs.apply(function (i, j) {\n            if (this[i][j] >= 1e-15) this[i][j] = 1 / this[i][j];\n            else this[i][j] = 0;\n        });\n\n        var qqs1 = Matrix.zeros(examples, coefficients);\n        for (i = 0; i < coefficients; ++i) {\n            qqs1[i][i] = qqs[0][i];\n        }\n\n        qqs = qqs1;\n\n        var U = svd.rightSingularVectors;\n        var V = svd.leftSingularVectors;\n\n        this.coefficients = V.mmul(qqs.transpose()).mmul(U.transpose()).mmul(y);\n\n        col = 0;\n\n        for (i = 0; i <= coefficients; ++i) {\n            limit = this.order - i;\n            for (j = 0; j <= limit; ++j) {\n                this.coefficients[col][0] = (this.coefficients[col][0] * Math.pow(scaleX1, i) * Math.pow(scaleX2, j)) / scaleY;\n                col++;\n            }\n        }\n    }\n\n    _predict(newInputs) {\n        var x1 = newInputs[0];\n        var x2 = newInputs[1];\n\n        var y = 0;\n        var column = 0;\n\n        for (var i = 0; i <= this.order; i++) {\n            for (var j = 0; j <= this.order - i; j++) {\n                y += Math.pow(x1, i) * (Math.pow(x2, j)) * this.coefficients[column][0];\n                column++;\n            }\n        }\n\n        return y;\n    }\n\n    toJSON() {\n        return {\n            name: 'polyfit2D',\n            order: this.order,\n            coefficients: this.coefficients\n        };\n    }\n\n    static load(json) {\n        if (json.name !== 'polyfit2D') {\n            throw new TypeError('not a polyfit2D model');\n        }\n        return new PolynomialFitRegression2D(true, json);\n    }\n}\n\n/**\n * Function that given a column vector return this: vector^power\n *\n * @param x - Column vector.\n * @param power - Pow number.\n * @return {Suite|Matrix}\n */\nfunction powColVector(x, power) {\n    var result = x.clone();\n    for (var i = 0; i < x.rows; ++i) {\n        result[i][0] = Math.pow(result[i][0], power);\n    }\n    return result;\n}\n\n/**\n * Function to use in the apply method to get the absolute value\n * of each element of the matrix\n *\n * @param i - current row.\n * @param j - current column.\n */\nfunction abs(i, j) {\n    this[i][j] = Math.abs(this[i][j]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/regression/poly-fit-regression2d.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport {array} from 'ml-stat';\nconst median = array.median;\n\nexport default class TheilSenRegression extends BaseRegression {\n\n    /**\n     * Theil–Sen estimator\n     * https://en.wikipedia.org/wiki/Theil%E2%80%93Sen_estimator\n     * @param {Array<number>|boolean} x\n     * @param {Array<number>|object} y\n     * @constructor\n     */\n    constructor(x, y) {\n        super();\n        if (x === true) {\n            // loads the model\n            this.slope = y.slope;\n            this.intercept = y.intercept;\n            this.coefficients = y.coefficients;\n        } else {\n            // creates the model\n            checkArrayLength(x, y);\n            theilSen(this, x, y);\n        }\n\n    }\n\n    toJSON() {\n        return {\n            name: 'TheilSenRegression',\n            slope: this.slope,\n            intercept: this.intercept\n        };\n    }\n\n    _predict(input) {\n        return this.slope * input + this.intercept;\n    }\n\n    computeX(input) {\n        return (input - this.intercept) / this.slope;\n    }\n\n    toString(precision) {\n        var result = 'f(x) = ';\n        if (this.slope) {\n            var xFactor = maybeToPrecision(this.slope, precision);\n            result += (Math.abs(xFactor - 1) < 1e-5 ? '' : xFactor + ' * ') + 'x';\n            if (this.intercept) {\n                var absIntercept = Math.abs(this.intercept);\n                var operator = absIntercept === this.intercept ? '+' : '-';\n                result += ' ' + operator + ' ' + maybeToPrecision(absIntercept, precision);\n            }\n        } else {\n            result += maybeToPrecision(this.intercept, precision);\n        }\n        return result;\n    }\n\n    toLaTeX(precision) {\n        return this.toString(precision);\n    }\n\n    static load(json) {\n        if (json.name !== 'TheilSenRegression') {\n            throw new TypeError('not a Theil-Sen model');\n        }\n        return new TheilSenRegression(true, json);\n    }\n}\n\nfunction theilSen(regression, x, y) {\n    let len = x.length;\n    let slopes = new Array(len * len);\n    let count = 0;\n    for (let i = 0; i < len; ++i) {\n        for (let j = i + 1; j < len; ++j) {\n            if (x[i] !== x[j]) {\n                slopes[count++] = (y[j] - y[i]) / (x[j] - x[i]);\n            }\n        }\n    }\n    slopes.length = count;\n    let medianSlope = median(slopes);\n\n    let cuts = new Array(len);\n    for (let i = 0; i < len; ++i) {\n        cuts[i] = y[i] - medianSlope * x[i];\n    }\n\n    regression.slope = medianSlope;\n    regression.intercept = median(cuts);\n    regression.coefficients = [regression.intercept, regression.slope];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-theil-sen/src/index.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport {solve} from 'ml-matrix';\n\nexport default class RobustPolynomialRegression extends BaseRegression {\n    constructor(x, y, degree) {\n        super();\n        if (x === true) {\n            this.degree = y.degree;\n            this.powers = y.powers;\n            this.coefficients = y.coefficients;\n        } else {\n            checkArrayLength(x, y);\n            robustPolynomial(this, x, y, degree);\n        }\n    }\n\n    toJSON() {\n        return {\n            name: 'robustPolynomialRegression',\n            degree: this.degree,\n            powers: this.powers,\n            coefficients: this.coefficients\n        };\n    }\n\n    _predict(x) {\n        return predict(x, this.powers, this.coefficients);\n    }\n\n    toString(precision) {\n        return this._toFormula(precision, false);\n    }\n\n    toLaTeX(precision) {\n        return this._toFormula(precision, true);\n    }\n\n    _toFormula(precision, isLaTeX) {\n        let sup = '^';\n        let closeSup = '';\n        let times = ' * ';\n        if (isLaTeX) {\n            sup = '^{';\n            closeSup = '}';\n            times = '';\n        }\n\n        let fn = '';\n        let str = '';\n        for (let k = 0; k < this.coefficients.length; k++) {\n            str = '';\n            if (this.coefficients[k] !== 0) {\n                if (this.powers[k] === 0) {\n                    str = maybeToPrecision(this.coefficients[k], precision);\n                } else {\n                    if (this.powers[k] === 1) {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x';\n                    } else {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x' + sup + this.powers[k] + closeSup;\n                    }\n                }\n\n                if (this.coefficients[k] > 0 && k !== (this.coefficients.length - 1)) {\n                    str = ' + ' + str;\n                } else if (k !== (this.coefficients.length - 1)) {\n                    str = ' ' + str;\n                }\n            }\n            fn = str + fn;\n        }\n        if (fn.charAt(0) === '+') {\n            fn = fn.slice(1);\n        }\n\n        return 'f(x) = ' + fn;\n    }\n\n    static load(json) {\n        if (json.name !== 'robustPolynomialRegression') {\n            throw new TypeError('not a RobustPolynomialRegression model');\n        }\n        return new RobustPolynomialRegression(true, json);\n    }\n}\n\nfunction robustPolynomial(regression, x, y, degree) {\n    let powers = new Array(degree);\n    for (let k = 0; k < degree; k++) {\n        powers[k] = k;\n    }\n\n    const tuples = getRandomTuples(x, y, degree);\n    var min;\n\n    for (var i = 0; i < tuples.length; i++) {\n        var tuple = tuples[i];\n        var coefficients = calcCoefficients(tuple, powers);\n\n        var residuals = x.slice();\n        for (var j = 0; j < x.length; j++) {\n            residuals[j] = y[j] - predict(x[j], powers, coefficients);\n            residuals[j] = {\n                residual: residuals[j] * residuals[j],\n                coefficients\n            };\n        }\n\n        var median = residualsMedian(residuals);\n        if (!min || median.residual < min.residual) {\n            min = median;\n        }\n    }\n\n    regression.degree = degree;\n    regression.powers = powers;\n    regression.coefficients = min.coefficients;\n}\n\n/**\n * @ignore\n * @param {Array<number>} x\n * @param {Array<number>} y\n * @param {number} degree\n * @return {Array<{x:number,y:number}>}\n */\nfunction getRandomTuples(x, y, degree) {\n    var len = Math.floor(x.length / degree);\n    var tuples = new Array(len);\n\n    for (var i = 0; i < x.length; i++) {\n        var pos = Math.floor(Math.random() * len);\n\n        var counter = 0;\n        while (counter < x.length) {\n            if (!tuples[pos]) {\n                tuples[pos] = [{\n                    x: x[i],\n                    y: y[i]\n                }];\n                break;\n            } else if (tuples[pos].length < degree) {\n                tuples[pos].push({\n                    x: x[i],\n                    y: y[i]\n                });\n                break;\n            } else {\n                counter++;\n                pos = (pos + 1) % len;\n            }\n        }\n\n        if (counter === x.length) {\n            return tuples;\n        }\n    }\n    return tuples;\n}\n\n/**\n * @ignore\n * @param {{x:number,y:number}} tuple\n * @param {Array<number>} powers\n * @return {Array<number>}\n */\nfunction calcCoefficients(tuple, powers) {\n    var X = tuple.slice();\n    var Y = tuple.slice();\n    for (var i = 0; i < X.length; i++) {\n        Y[i] = [tuple[i].y];\n        X[i] = new Array(powers.length);\n        for (var j = 0; j < powers.length; j++) {\n            X[i][j] = Math.pow(tuple[i].x, powers[j]);\n        }\n    }\n\n    return solve(X, Y).to1DArray();\n}\n\nfunction predict(x, powers, coefficients) {\n    let y = 0;\n    for (let k = 0; k < powers.length; k++) {\n        y += coefficients[k] * Math.pow(x, powers[k]);\n    }\n    return y;\n}\n\nfunction residualsMedian(residuals) {\n    residuals.sort((a, b) => a.residual - b.residual);\n\n    var l = residuals.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return residuals[half - 1];\n    } else {\n        return residuals[half];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-robust-polynomial/src/index.js","import {maybeToPrecision} from 'ml-regression-base';\nimport PolynomialRegression from 'ml-regression-polynomial';\nimport BaseRegression from 'ml-regression-base';\n\n/*\n * Function that calculate the potential fit in the form f(x) = A*x^M\n * with a given M and return de A coefficient.\n *\n * @param {Vector} X - Vector of the x positions of the points.\n * @param {Vector} Y - Vector of the x positions of the points.\n * @param {Number} M - The exponent of the potential fit.\n * @return {Number} A - The A coefficient of the potential fit.\n */\nexport default class PotentialRegression extends BaseRegression {\n    /**\n     * @constructor\n     * @param x: Independent variable\n     * @param y: Dependent variable\n     * @param M\n     */\n    constructor(x, y, M) {\n        super();\n        if (x === true) { // reloading model\n            this.A = y.A;\n            this.M = y.M;\n        } else {\n            var n = x.length;\n            if (n !== y.length) {\n                throw new RangeError('input and output array have a different length');\n            }\n\n            var linear = new PolynomialRegression(x, y, [M]);\n            this.A = linear.coefficients[0];\n            this.M = M;\n        }\n    }\n\n    _predict(x) {\n        return this.A * Math.pow(x, this.M);\n    }\n\n    toJSON() {\n        return {\n            name: 'potentialRegression',\n            A: this.A,\n            M: this.M\n        };\n    }\n\n    toString(precision) {\n        return 'f(x) = ' + maybeToPrecision(this.A, precision) + ' * x^' + this.M;\n    }\n\n    toLaTeX(precision) {\n        if (this.M >= 0) {\n            return 'f(x) = ' + maybeToPrecision(this.A, precision) + 'x^{' + this.M + '}';\n        } else {\n            return 'f(x) = \\\\frac{' + maybeToPrecision(this.A, precision) + '}{x^{' + (-this.M) + '}}';\n        }\n    }\n\n    static load(json) {\n        if (json.name !== 'potentialRegression') {\n            throw new TypeError('not a potential regression model');\n        }\n        return new PotentialRegression(true, json);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/regression/potential-regression.js","'use strict';\n\nvar mlMatrix = require('ml-matrix');\n\n/**\n * Calculate current error\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} parameters - Array of current parameter values\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {number}\n */\nfunction errorCalculation(\n  data,\n  parameters,\n  parameterizedFunction\n) {\n  var error = 0;\n  const func = parameterizedFunction(parameters);\n\n  for (var i = 0; i < data.x.length; i++) {\n    error += Math.abs(data.y[i] - func(data.x[i]));\n  }\n\n  return error;\n}\n\n/**\n * Difference of the matrix function over the parameters\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} evaluatedData - Array of previous evaluated function values\n * @param {Array<number>} params - Array of previous parameter values\n * @param {number} gradientDifference - Adjustment for decrease the damping parameter\n * @param {function} paramFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {Matrix}\n */\nfunction gradientFunction(\n  data,\n  evaluatedData,\n  params,\n  gradientDifference,\n  paramFunction\n) {\n  const n = params.length;\n  const m = data.x.length;\n\n  var ans = new Array(n);\n\n  for (var param = 0; param < n; param++) {\n    ans[param] = new Array(m);\n    var auxParams = params.concat();\n    auxParams[param] += gradientDifference;\n    var funcParam = paramFunction(auxParams);\n\n    for (var point = 0; point < m; point++) {\n      ans[param][point] = evaluatedData[point] - funcParam(data.x[point]);\n    }\n  }\n  return new mlMatrix.Matrix(ans);\n}\n\n/**\n * Matrix function over the samples\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} evaluatedData - Array of previous evaluated function values\n * @return {Matrix}\n */\nfunction matrixFunction(data, evaluatedData) {\n  const m = data.x.length;\n\n  var ans = new Array(m);\n\n  for (var point = 0; point < m; point++) {\n    ans[point] = data.y[point] - evaluatedData[point];\n  }\n\n  return new mlMatrix.Matrix([ans]);\n}\n\n/**\n * Iteration for Levenberg-Marquardt\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} params - Array of previous parameter values\n * @param {number} damping - Levenberg-Marquardt parameter\n * @param {number} gradientDifference - Adjustment for decrease the damping parameter\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {Array<number>}\n */\nfunction step(\n  data,\n  params,\n  damping,\n  gradientDifference,\n  parameterizedFunction\n) {\n  var identity = mlMatrix.Matrix.eye(params.length).mul(\n    damping * gradientDifference * gradientDifference\n  );\n\n  var l = data.x.length;\n  var evaluatedData = new Array(l);\n  const func = parameterizedFunction(params);\n  for (var i = 0; i < l; i++) {\n    evaluatedData[i] = func(data.x[i]);\n  }\n  var gradientFunc = gradientFunction(\n    data,\n    evaluatedData,\n    params,\n    gradientDifference,\n    parameterizedFunction\n  );\n  var matrixFunc = matrixFunction(data, evaluatedData).transposeView();\n  var inverseMatrix = mlMatrix.inverse(\n    identity.add(gradientFunc.mmul(gradientFunc.transposeView()))\n  );\n  params = new mlMatrix.Matrix([params]);\n  params = params.sub(\n    inverseMatrix\n      .mmul(gradientFunc)\n      .mmul(matrixFunc)\n      .mul(gradientDifference)\n      .transposeView()\n  );\n\n  return params.to1DArray();\n}\n\n/**\n * Curve fitting algorithm\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @param {object} [options] - Options object\n * @param {number} [options.damping] - Levenberg-Marquardt parameter\n * @param {number} [options.gradientDifference = 10e-2] - Adjustment for decrease the damping parameter\n * @param {Array<number>} [options.initialValues] - Array of initial parameter values\n * @param {number} [options.maxIterations = 100] - Maximum of allowed iterations\n * @param {number} [options.errorTolerance = 10e-3] - Minimum uncertainty allowed for each point\n * @return {{parameterValues: Array<number>, parameterError: number, iterations: number}}\n */\nfunction levenbergMarquardt(\n  data,\n  parameterizedFunction,\n  options = {}\n) {\n  let {\n    maxIterations = 100,\n    gradientDifference = 10e-2,\n    damping = 0,\n    errorTolerance = 10e-3,\n    initialValues\n  } = options;\n\n  if (damping <= 0) {\n    throw new Error('The damping option must be a positive number');\n  } else if (!data.x || !data.y) {\n    throw new Error('The data parameter must have x and y elements');\n  } else if (\n    !Array.isArray(data.x) ||\n    data.x.length < 2 ||\n    !Array.isArray(data.y) ||\n    data.y.length < 2\n  ) {\n    throw new Error(\n      'The data parameter elements must be an array with more than 2 points'\n    );\n  } else {\n    let dataLen = data.x.length;\n    if (dataLen !== data.y.length) {\n      throw new Error('The data parameter elements must have the same size');\n    }\n  }\n\n  var parameters =\n    initialValues || new Array(parameterizedFunction.length).fill(1);\n\n  if (!Array.isArray(parameters)) {\n    throw new Error('initialValues must be an array');\n  }\n\n  var error = errorCalculation(data, parameters, parameterizedFunction);\n\n  var converged = error <= errorTolerance;\n\n  for (\n    var iteration = 0;\n    iteration < maxIterations && !converged;\n    iteration++\n  ) {\n    parameters = step(\n      data,\n      parameters,\n      damping,\n      gradientDifference,\n      parameterizedFunction\n    );\n    error = errorCalculation(data, parameters, parameterizedFunction);\n    converged = error <= errorTolerance;\n  }\n\n  return {\n    parameterValues: parameters,\n    parameterError: error,\n    iterations: iteration\n  };\n}\n\nmodule.exports = levenbergMarquardt;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-levenberg-marquardt/lib/index.js","import HashTable from 'ml-hash-table';\n\nexport class SparseMatrix {\n    constructor(rows, columns, options = {}) {\n        if (rows instanceof SparseMatrix) { // clone\n            const other = rows;\n            this._init(other.rows, other.columns, other.elements.clone(), other.threshold);\n            return;\n        }\n\n        if (Array.isArray(rows)) {\n            const matrix = rows;\n            rows = matrix.length;\n            options = columns || {};\n            columns = matrix[0].length;\n            this._init(rows, columns, new HashTable(options), options.threshold);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    var value = matrix[i][j];\n                    if (this.threshold && Math.abs(value) < this.threshold) value = 0;\n                    if (value !== 0) {\n                        this.elements.set(i * columns + j, matrix[i][j]);\n                    }\n                }\n            }\n        } else {\n            this._init(rows, columns, new HashTable(options), options.threshold);\n        }\n    }\n\n    _init(rows, columns, elements, threshold) {\n        this.rows = rows;\n        this.columns = columns;\n        this.elements = elements;\n        this.threshold = threshold || 0;\n    }\n\n    static eye(rows = 1, columns = rows) {\n        const min = Math.min(rows, columns);\n        const matrix = new SparseMatrix(rows, columns, {initialCapacity: min});\n        for (var i = 0; i < min; i++) {\n            matrix.set(i, i, 1);\n        }\n        return matrix;\n    }\n\n    clone() {\n        return new SparseMatrix(this);\n    }\n\n    to2DArray() {\n        const copy = new Array(this.rows);\n        for (var i = 0; i < this.rows; i++) {\n            copy[i] = new Array(this.columns);\n            for (var j = 0; j < this.columns; j++) {\n                copy[i][j] = this.get(i, j);\n            }\n        }\n        return copy;\n    }\n\n    isSquare() {\n        return this.rows === this.columns;\n    }\n\n    isSymmetric() {\n        if (!this.isSquare()) return false;\n\n        var symmetric = true;\n        this.forEachNonZero((i, j, v) => {\n            if (this.get(j, i) !== v) {\n                symmetric = false;\n                return false;\n            }\n            return v;\n        });\n        return symmetric;\n    }\n\n    /**\n     * Search for the wither band in the main diagonals\n     * @return {number}\n     */\n    bandWidth() {\n        let min = this.columns;\n        let max = -1;\n        this.forEachNonZero((i, j, v) => {\n            let diff = i - j;\n            min = Math.min(min, diff);\n            max = Math.max(max, diff);\n            return v;\n        });\n        return max - min;\n    }\n\n    /**\n     * Test if a matrix is consider banded using a threshold\n     * @param {number} width\n     * @return {boolean}\n     */\n    isBanded(width) {\n        let bandWidth = this.bandWidth();\n        return bandWidth <= width;\n    }\n\n    get cardinality() {\n        return this.elements.size;\n    }\n\n    get size() {\n        return this.rows * this.columns;\n    }\n\n    get(row, column) {\n        return this.elements.get(row * this.columns + column);\n    }\n\n    set(row, column, value) {\n        if (this.threshold && Math.abs(value) < this.threshold) value = 0;\n        if (value === 0) {\n            this.elements.remove(row * this.columns + column);\n        } else {\n            this.elements.set(row * this.columns + column, value);\n        }\n        return this;\n    }\n\n    mmul(other) {\n        if (this.columns !== other.rows) {\n            // eslint-disable-next-line no-console\n            console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');\n        }\n\n        const m = this.rows;\n        const p = other.columns;\n\n        const result = new SparseMatrix(m, p);\n        this.forEachNonZero((i, j, v1) => {\n            other.forEachNonZero((k, l, v2) => {\n                if (j === k) {\n                    result.set(i, l, result.get(i, l) + v1 * v2);\n                }\n                return v2;\n            });\n            return v1;\n        });\n        return result;\n    }\n\n    kroneckerProduct(other) {\n        const m = this.rows;\n        const n = this.columns;\n        const p = other.rows;\n        const q = other.columns;\n\n        const result = new SparseMatrix(m * p, n * q, {\n            initialCapacity: this.cardinality * other.cardinality\n        });\n        this.forEachNonZero((i, j, v1) => {\n            other.forEachNonZero((k, l, v2) => {\n                result.set(p * i + k, q * j + l, v1 * v2);\n                return v2;\n            });\n            return v1;\n        });\n        return result;\n    }\n\n    forEachNonZero(callback) {\n        this.elements.forEachPair((key, value) => {\n            const i = (key / this.columns) | 0;\n            const j = key % this.columns;\n            let r = callback(i, j, value);\n            if (r === false) return false; // stop iteration\n            if (this.threshold && Math.abs(r) < this.threshold) r = 0;\n            if (r !== value) {\n                if (r === 0) {\n                    this.elements.remove(key, true);\n                } else {\n                    this.elements.set(key, r);\n                }\n            }\n            return true;\n        });\n        this.elements.maybeShrinkCapacity();\n        return this;\n    }\n\n    getNonZeros() {\n        const cardinality = this.cardinality;\n        const rows = new Array(cardinality);\n        const columns = new Array(cardinality);\n        const values = new Array(cardinality);\n        var idx = 0;\n        this.forEachNonZero((i, j, value) => {\n            rows[idx] = i;\n            columns[idx] = j;\n            values[idx] = value;\n            idx++;\n            return value;\n        });\n        return {rows, columns, values};\n    }\n\n    setThreshold(newThreshold) {\n        if (newThreshold !== 0 && newThreshold !== this.threshold) {\n            this.threshold = newThreshold;\n            this.forEachNonZero((i, j, v) => v);\n        }\n        return this;\n    }\n\n    /**\n     * @return {SparseMatrix} - New transposed sparse matrix\n     */\n    transpose() {\n        let trans = new SparseMatrix(this.columns, this.rows, {initialCapacity: this.cardinality});\n        this.forEachNonZero((i, j, value) => {\n            trans.set(j, i, value);\n            return value;\n        });\n        return trans;\n    }\n}\n\nSparseMatrix.prototype.klass = 'Matrix';\n\nSparseMatrix.identity = SparseMatrix.eye;\nSparseMatrix.prototype.tensorProduct = SparseMatrix.prototype.kroneckerProduct;\n\n/*\n Add dynamically instance and static methods for mathematical operations\n */\n\nvar inplaceOperator = `\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n`;\n\nvar inplaceOperatorScalar = `\n(function %name%S(value) {\n    this.forEachNonZero((i, j, v) => v %op% value);\n    return this;\n})\n`;\n\nvar inplaceOperatorMatrix = `\n(function %name%M(matrix) {\n    matrix.forEachNonZero((i, j, v) => {\n        this.set(i, j, this.get(i, j) %op% v);\n        return v;\n    });\n    return this;\n})\n`;\n\nvar staticOperator = `\n(function %name%(matrix, value) {\n    var newMatrix = new SparseMatrix(matrix);\n    return newMatrix.%name%(value);\n})\n`;\n\nvar inplaceMethod = `\n(function %name%() {\n    this.forEachNonZero((i, j, v) => %method%(v));\n    return this;\n})\n`;\n\nvar staticMethod = `\n(function %name%(matrix) {\n    var newMatrix = new SparseMatrix(matrix);\n    return newMatrix.%name%();\n})\n`;\n\nconst operators = [\n    // Arithmetic operators\n    ['+', 'add'],\n    ['-', 'sub', 'subtract'],\n    ['*', 'mul', 'multiply'],\n    ['/', 'div', 'divide'],\n    ['%', 'mod', 'modulus'],\n    // Bitwise operators\n    ['&', 'and'],\n    ['|', 'or'],\n    ['^', 'xor'],\n    ['<<', 'leftShift'],\n    ['>>', 'signPropagatingRightShift'],\n    ['>>>', 'rightShift', 'zeroFillRightShift']\n];\n\nfor (const operator of operators) {\n    for (let i = 1; i < operator.length; i++) {\n        SparseMatrix.prototype[operator[i]] = eval(fillTemplateFunction(inplaceOperator, {name: operator[i], op: operator[0]}));\n        SparseMatrix.prototype[operator[i] + 'S'] = eval(fillTemplateFunction(inplaceOperatorScalar, {name: operator[i] + 'S', op: operator[0]}));\n        SparseMatrix.prototype[operator[i] + 'M'] = eval(fillTemplateFunction(inplaceOperatorMatrix, {name: operator[i] + 'M', op: operator[0]}));\n\n        SparseMatrix[operator[i]] = eval(fillTemplateFunction(staticOperator, {name: operator[i]}));\n    }\n}\n\nvar methods = [\n    ['~', 'not']\n];\n\n[\n    'abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'cbrt', 'ceil',\n    'clz32', 'cos', 'cosh', 'exp', 'expm1', 'floor', 'fround', 'log', 'log1p',\n    'log10', 'log2', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc'\n].forEach(function (mathMethod) {\n    methods.push(['Math.' + mathMethod, mathMethod]);\n});\n\nfor (const method of methods) {\n    for (let i = 1; i < method.length; i++) {\n        SparseMatrix.prototype[method[i]] = eval(fillTemplateFunction(inplaceMethod, {name: method[i], method: method[0]}));\n        SparseMatrix[method[i]] = eval(fillTemplateFunction(staticMethod, {name: method[i]}));\n    }\n}\n\nfunction fillTemplateFunction(template, values) {\n    for (const i in values) {\n        template = template.replace(new RegExp('%' + i + '%', 'g'), values[i]);\n    }\n    return template;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-sparse-matrix/src/index.js","module.exports = newArray\n\nfunction newArray (n, value) {\n  n = n || 0\n  var array = new Array(n)\n  for (var i = 0; i < n; i++) {\n    array[i] = value\n  }\n  return array\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/new-array/index.js","const binarySearch = require('binary-search');\nconst sortAsc = require('num-sort').asc;\n\nconst largestPrime = 0x7fffffff;\n\nconst primeNumbers = [\n    //chunk #0\n    largestPrime, // 2^31-1\n\n    //chunk #1\n    5, 11, 23, 47, 97, 197, 397, 797, 1597, 3203, 6421, 12853, 25717, 51437, 102877, 205759,\n    411527, 823117, 1646237, 3292489, 6584983, 13169977, 26339969, 52679969, 105359939,\n    210719881, 421439783, 842879579, 1685759167,\n\n    //chunk #2\n    433, 877, 1759, 3527, 7057, 14143, 28289, 56591, 113189, 226379, 452759, 905551, 1811107,\n    3622219, 7244441, 14488931, 28977863, 57955739, 115911563, 231823147, 463646329, 927292699,\n    1854585413,\n\n    //chunk #3\n    953, 1907, 3821, 7643, 15287, 30577, 61169, 122347, 244703, 489407, 978821, 1957651, 3915341,\n    7830701, 15661423, 31322867, 62645741, 125291483, 250582987, 501165979, 1002331963,\n    2004663929,\n\n    //chunk #4\n    1039, 2081, 4177, 8363, 16729, 33461, 66923, 133853, 267713, 535481, 1070981, 2141977, 4283963,\n    8567929, 17135863, 34271747, 68543509, 137087021, 274174111, 548348231, 1096696463,\n\n    //chunk #5\n    31, 67, 137, 277, 557, 1117, 2237, 4481, 8963, 17929, 35863, 71741, 143483, 286973, 573953,\n    1147921, 2295859, 4591721, 9183457, 18366923, 36733847, 73467739, 146935499, 293871013,\n    587742049, 1175484103,\n\n    //chunk #6\n    599, 1201, 2411, 4831, 9677, 19373, 38747, 77509, 155027, 310081, 620171, 1240361, 2480729,\n    4961459, 9922933, 19845871, 39691759, 79383533, 158767069, 317534141, 635068283, 1270136683,\n\n    //chunk #7\n    311, 631, 1277, 2557, 5119, 10243, 20507, 41017, 82037, 164089, 328213, 656429, 1312867,\n    2625761, 5251529, 10503061, 21006137, 42012281, 84024581, 168049163, 336098327, 672196673,\n    1344393353,\n\n    //chunk #8\n    3, 7, 17, 37, 79, 163, 331, 673, 1361, 2729, 5471, 10949, 21911, 43853, 87719, 175447, 350899,\n    701819, 1403641, 2807303, 5614657, 11229331, 22458671, 44917381, 89834777, 179669557,\n    359339171, 718678369, 1437356741,\n\n    //chunk #9\n    43, 89, 179, 359, 719, 1439, 2879, 5779, 11579, 23159, 46327, 92657, 185323, 370661, 741337,\n    1482707, 2965421, 5930887, 11861791, 23723597, 47447201, 94894427, 189788857, 379577741,\n    759155483, 1518310967,\n\n    //chunk #10\n    379, 761, 1523, 3049, 6101, 12203, 24407, 48817, 97649, 195311, 390647, 781301, 1562611,\n    3125257, 6250537, 12501169, 25002389, 50004791, 100009607, 200019221, 400038451, 800076929,\n    1600153859,\n\n    //chunk #11\n    13, 29, 59, 127, 257, 521, 1049, 2099, 4201, 8419, 16843, 33703, 67409, 134837, 269683,\n    539389, 1078787, 2157587, 4315183, 8630387, 17260781, 34521589, 69043189, 138086407,\n    276172823, 552345671, 1104691373,\n\n    //chunk #12\n    19, 41, 83, 167, 337, 677,\n    1361, 2729, 5471, 10949, 21911, 43853, 87719, 175447, 350899,\n    701819, 1403641, 2807303, 5614657, 11229331, 22458671, 44917381, 89834777, 179669557,\n    359339171, 718678369, 1437356741,\n\n    //chunk #13\n    53, 107, 223, 449, 907, 1823, 3659, 7321, 14653, 29311, 58631, 117269,\n    234539, 469099, 938207, 1876417, 3752839, 7505681, 15011389, 30022781,\n    60045577, 120091177, 240182359, 480364727, 960729461, 1921458943\n];\n\nprimeNumbers.sort(sortAsc);\n\nfunction nextPrime(value) {\n    let index = binarySearch(primeNumbers, value, sortAsc);\n    if (index < 0) {\n        index = ~index;\n    }\n    return primeNumbers[index];\n}\n\nexports.nextPrime = nextPrime;\nexports.largestPrime = largestPrime;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hash-table/src/primeFinder.js","'use strict';\nmodule.exports = Number.isNaN || function (x) {\n\treturn x !== x;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/number-is-nan/index.js","\"use strict\";\n\nexports.additiveSymmetric = require('./distances/additiveSymmetric');\nexports.avg = require('./distances/avg');\nexports.bhattacharyya = require('./distances/bhattacharyya');\nexports.canberra = require('./distances/canberra');\nexports.chebyshev = require('./distances/chebyshev');\nexports.clark = require('./distances/clark');\nexports.czekanowski = require('./distances/czekanowski');\nexports.dice = require('./distances/dice');\nexports.divergence = require('./distances/divergence');\nexports.euclidean = require('ml-distance-euclidean');\nexports.fidelity = require('./distances/fidelity');\nexports.gower = require('./distances/gower');\nexports.harmonicMean = require('./distances/harmonicMean');\nexports.hellinger = require('./distances/hellinger');\nexports.innerProduct = require('./distances/innerProduct');\nexports.intersection = require('./distances/intersection');\nexports.jaccard = require('./distances/jaccard');\nexports.jeffreys = require('./distances/jeffreys');\nexports.jensenDifference = require('./distances/jensenDifference');\nexports.jensenShannon = require('./distances/jensenShannon');\nexports.kdivergence = require('./distances/kdivergence');\nexports.kulczynski = require('./distances/kulczynski');\nexports.kullbackLeibler = require('./distances/kullbackLeibler');\nexports.kumarHassebrook = require('./distances/kumarHassebrook');\nexports.kumarJohnson = require('./distances/kumarJohnson');\nexports.lorentzian = require('./distances/lorentzian');\nexports.manhattan = require('./distances/manhattan');\nexports.matusita = require('./distances/matusita');\nexports.minkowski = require('./distances/minkowski');\nexports.motyka = require('./distances/motyka');\nexports.neyman = require('./distances/neyman');\nexports.pearson = require('./distances/pearson');\nexports.probabilisticSymmetric = require('./distances/probabilisticSymmetric');\nexports.ruzicka = require('./distances/ruzicka');\nexports.soergel = require('./distances/soergel');\nexports.sorensen = require('./distances/sorensen');\nexports.squared = require('./distances/squared');\nexports.squaredChord = require('./distances/squaredChord');\nexports.squaredEuclidean = require('ml-distance-euclidean').squared;\nexports.taneja = require('./distances/taneja');\nexports.tanimoto = require('./distances/tanimoto');\nexports.topsoe = require('./distances/topsoe');\nexports.tree = require('ml-tree-similarity');\nexports.waveHedges = require('./distances/waveHedges');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances.js","module.exports = function additiveSymmetric(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i]) * (a[i] + b[i])) / (a[i] * b[i]);\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/additiveSymmetric.js","module.exports = function avg(a, b) {\n    var ii = a.length,\n        max = 0,\n        ans = 0,\n        aux = 0;\n    for (var i = 0; i < ii ; i++) {\n        aux = Math.abs(a[i] - b[i]);\n        ans += aux;\n        if (max < aux) {\n            max = aux;\n        }\n    }\n    return (max + ans) / 2;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/avg.js","module.exports = function bhattacharyya(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return - Math.log(ans);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/bhattacharyya.js","module.exports = function canberra(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.abs(a[i] - b[i]) / (a[i] + b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/canberra.js","module.exports = function chebyshev(a, b) {\n    var ii = a.length,\n        max = 0,\n        aux = 0;\n    for (var i = 0; i < ii ; i++) {\n        aux = Math.abs(a[i] - b[i]);\n        if (max < aux) {\n            max = aux;\n        }\n    }\n    return max;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/chebyshev.js","module.exports = function clark(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += Math.sqrt(((a[i] - b[i]) * (a[i] - b[i])) / ((a[i] + b[i]) * (a[i] + b[i])));\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/clark.js","'use strict';\n\nconst czekanowskiSimilarity = require('../similarities/czekanowski');\n\nmodule.exports = function czekanowskiDistance(a, b) {\n    return 1 - czekanowskiSimilarity(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/czekanowski.js","module.exports = function divergence(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / ((a[i] + b[i]) * (a[i] + b[i]));\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/divergence.js","module.exports = function fidelity(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/fidelity.js","module.exports = function gower(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.abs(a[i] - b[i]);\n    }\n    return ans / ii;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/gower.js","module.exports = function harmonicMean(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (a[i] * b[i]) / (a[i] + b[i]);\n    }\n    return 2 * ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/harmonicMean.js","module.exports = function hellinger(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return 2 * Math.sqrt(1 - ans);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/hellinger.js","module.exports = function innerProduct(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * b[i];\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/innerProduct.js","module.exports = function jeffreys(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (a[i] - b[i]) * Math.log(a[i] / b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jeffreys.js","module.exports = function jensenDifference(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += ((a[i] * Math.log(a[i]) + b[i] * Math.log(b[i])) / 2) - ((a[i] + b[i]) / 2) * Math.log((a[i] + b[i]) / 2);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jensenDifference.js","module.exports = function jensenShannon(a, b) {\n    var ii = a.length,\n        p = 0,\n        q = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * Math.log(2 * a[i] / (a[i] + b[i]));\n        q += b[i] * Math.log(2 * b[i] / (a[i] + b[i]));\n    }\n    return (p + q) / 2;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jensenShannon.js","module.exports = function kdivergence(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * Math.log(2 * a[i] / (a[i] + b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kdivergence.js","module.exports = function kullbackLeibler(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * Math.log(a[i] / b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kullbackLeibler.js","module.exports = function kumarHassebrook(a, b) {\n    var ii = a.length,\n        p = 0,\n        p2 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * b[i];\n        p2 += a[i] * a[i];\n        q2 += b[i] * b[i];\n    }\n    return p / (p2 + q2 - p);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kumarHassebrook.js","module.exports = function kumarJohnson(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.pow(a[i] * a[i] - b[i] * b[i],2) / (2 * Math.pow(a[i] * b[i],1.5));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kumarJohnson.js","module.exports = function lorentzian(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.log(Math.abs(a[i] - b[i]) + 1);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/lorentzian.js","module.exports = function manhattan(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += Math.abs(a[i] - b[i]);\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/manhattan.js","module.exports = function matusita(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return Math.sqrt(2 - 2 * ans);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/matusita.js","module.exports = function minkowski(a, b, p) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += Math.pow(Math.abs(a[i] - b[i]),p);\n    }\n    return Math.pow(d,(1/p));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/minkowski.js","module.exports = function neyman(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / a[i];\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/neyman.js","module.exports = function pearson(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / b[i];\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/pearson.js","module.exports = function probabilisticSymmetric(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / (a[i] + b[i]);\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/probabilisticSymmetric.js","module.exports = function ruzicka(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.min(a[i],b[i]);\n        down += Math.max(a[i],b[i]);\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/ruzicka.js","module.exports = function soergel(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.abs(a[i] - b[i]);\n        down += Math.max(a[i],b[i]);\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/soergel.js","module.exports = function sorensen(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.abs(a[i] - b[i]);\n        down += a[i] + b[i];\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/sorensen.js","module.exports = function squared(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / (a[i] + b[i]);\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/squared.js","module.exports = function taneja(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (a[i] + b[i]) / 2 * Math.log((a[i] + b[i]) / (2 * Math.sqrt(a[i] * b[i])));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/taneja.js","var tanimotoS = require('./../similarities/tanimoto');\n\nmodule.exports = function tanimoto(a, b, bitvector) {\n    if (bitvector)\n        return 1 - tanimotoS(a, b, bitvector);\n    else {\n        var ii = a.length,\n            p = 0,\n            q = 0,\n            m = 0;\n        for (var i = 0; i < ii ; i++) {\n            p += a[i];\n            q += b[i];\n            m += Math.min(a[i],b[i]);\n        }\n        return (p + q - 2 * m) / (p + q - m);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/tanimoto.js","module.exports = function topsoe(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * Math.log(2 * a[i] / (a[i] + b[i])) + b[i] * Math.log(2 * b[i] / (a[i] + b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/topsoe.js","\"use strict\";\n\n/**\n * Function that creates the tree\n * @param {Array <number>} X - chemical shifts of the signal\n * @param {Array <number>} Y - intensity of the signal\n * @param {number} from - the low limit of x\n * @param {number} to - the top limit of x\n * @param {number} minWindow - smallest range to accept in x\n * @param {number} threshold - smallest range to accept in y\n * @returns {{sum: number, center: number, left: {json}, right: {json}}}\n * left and right have the same structure than the parent, or have a\n * undefined value if are leafs\n */\nfunction createTree (X, Y, from, to, minWindow, threshold) {\n    minWindow = minWindow || 0.16;\n    threshold = threshold || 0.01;\n    if ((to - from) < minWindow)\n        return undefined;\n    var sum = 0;\n    for (var i = 0; X[i] < to; i++) {\n        if (X[i] > from)\n            sum += Y[i];\n    }\n    if (sum < threshold) {\n        return undefined;\n    }\n    var center = 0;\n    for (var j = 0; X[j] < to; j++) {\n        if (X[i] > from)\n            center += X[j] * Y[j];\n    }\n    center = center / sum;\n    if (((center - from) < 10e-6) || ((to - center) < 10e-6)) return undefined;\n    if ((center - from) < (minWindow /4)) {\n        return createTree(X, Y, center, to, minWindow, threshold);\n    }\n    else {\n        if ((to - center) < (minWindow / 4)) {\n            return createTree(X, Y, from, center, minWindow, threshold);\n        }\n        else {\n            return {\n                'sum': sum,\n                'center': center,\n                'left': createTree(X, Y, from, center, minWindow, threshold),\n                'right': createTree(X, Y, center, to, minWindow, threshold)\n            };\n        }\n    }\n}\n\n/**\n * Similarity between two nodes\n * @param {{sum: number, center: number, left: {json}, right: {json}}} a - tree A node\n * @param {{sum: number, center: number, left: {json}, right: {json}}} b - tree B node\n * @param {number} alpha - weights the relative importance of intensity vs. shift match\n * @param {number} beta - weights the relative importance of node matching and children matching\n * @param {number} gamma - controls the attenuation of the effect of chemical shift differences\n * @returns {number} similarity measure between tree nodes\n */\nfunction S(a, b, alpha, beta, gamma) {\n    if (a === undefined || b === undefined) {\n        return 0;\n    }\n    else {\n        var C = (alpha*Math.min(a.sum, b.sum)/Math.max(a.sum, b.sum)+ (1-alpha)*Math.exp(-gamma*Math.abs(a.center - b.center)));\n    }\n    return beta*C + (1-beta)*(S(a.left, b.left, alpha, beta, gamma)+S(a.right, b.right, alpha, beta, gamma));\n}\n\n/**\n * @type {number} alpha - weights the relative importance of intensity vs. shift match\n * @type {number} beta - weights the relative importance of node matching and children matching\n * @type {number} gamma - controls the attenuation of the effect of chemical shift differences\n * @type {number} minWindow - smallest range to accept in x\n * @type {number} threshold - smallest range to accept in y\n */\nvar defaultOptions = {\n    minWindow: 0.16,\n    threshold : 0.01,\n    alpha: 0.1,\n    beta: 0.33,\n    gamma: 0.001\n};\n\n/**\n * Builds a tree based in the spectra and compares this trees\n * @param {{x: Array<number>, y: Array<number>}} A - first spectra to be compared\n * @param {{x: Array<number>, y: Array<number>}} B - second spectra to be compared\n * @param {number} from - the low limit of x\n * @param {number} to - the top limit of x\n * @param {{minWindow: number, threshold: number, alpha: number, beta: number, gamma: number}} options\n * @returns {number} similarity measure between the spectra\n */\nfunction tree(A, B, from, to, options) {\n    options = options || {};\n    for (var o in defaultOptions)\n        if (!options.hasOwnProperty(o)) {\n            options[o] = defaultOptions[o];\n        }\n    var Atree, Btree;\n    if (A.sum)\n        Atree = A;\n    else\n        Atree = createTree(A.x, A.y, from, to, options.minWindow, options.threshold);\n    if (B.sum)\n        Btree = B;\n    else\n        Btree = createTree(B.x, B.y, from, to, options.minWindow, options.threshold);\n    return S(Atree, Btree, options.alpha, options.beta, options.gamma);\n}\n\nmodule.exports = {\n    calc: tree,\n    createTree: createTree\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-tree-similarity/src/index.js","module.exports = function waveHedges(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += 1 - (Math.min(a[i], b[i]) / Math.max(a[i], b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/waveHedges.js","\"use strict\";\n\nexports.cosine = require('./similarities/cosine');\nexports.czekanowski = require('./similarities/czekanowski');\nexports.dice = require('./similarities/dice');\nexports.intersection = require('./similarities/intersection');\nexports.jaccard = require('./similarities/jaccard');\nexports.kulczynski = require('./similarities/kulczynski');\nexports.motyka = require('./similarities/motyka');\nexports.pearson = require('./similarities/pearson');\nexports.squaredChord = require('./similarities/squaredChord');\nexports.tanimoto = require('./similarities/tanimoto');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities.js","var diceD = require('./../distances/dice');\n\nmodule.exports = function dice(a, b) {\n    return 1 - diceD(a,b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/dice.js","var intersectionD = require('./../distances/intersection');\n\nmodule.exports = function intersection(a, b) {\n    return 1 - intersectionD(a,b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/intersection.js","var jaccardD = require('./../distances/jaccard');\n\nmodule.exports = function jaccard(a, b) {\n    return 1 - jaccardD(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/jaccard.js","var kulczynskiD = require('./../distances/kulczynski');\n\nmodule.exports = function kulczynski(a, b) {\n    return 1 / kulczynskiD(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/kulczynski.js","var motykaD = require('./../distances/motyka');\n\nmodule.exports = function motyka(a, b) {\n    return 1 - motykaD(a,b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/motyka.js","'use strict';\n\nvar stat=require('ml-stat').array;\nvar cosine=require('./cosine');\n\nmodule.exports = function pearson(a, b) {\n    var avgA=stat.mean(a);\n    var avgB=stat.mean(b);\n\n    var newA=new Array(a.length);\n    var newB=new Array(b.length);\n    for (var i=0; i<newA.length; i++) {\n        newA[i]=a[i]-avgA;\n        newB[i]=b[i]-avgB;\n    }\n\n    return cosine(newA, newB);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/pearson.js","var squaredChordD = require('./../distances/squaredChord');\n\nmodule.exports = function squaredChord(a, b) {\n    return 1 - squaredChordD(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/squaredChord.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LOOP = 8;\nvar FLOAT_MUL = 1 / 16777216;\n\nfunction multiply_uint32(n, m) {\n    n >>>= 0;\n    m >>>= 0;\n    var nlo = n & 0xffff;\n    var nhi = n - nlo;\n    return (nhi * m >>> 0) + nlo * m >>> 0;\n}\n\nvar XSadd = (function () {\n    function XSadd() {\n        var seed = arguments.length <= 0 || arguments[0] === undefined ? Date.now() : arguments[0];\n\n        _classCallCheck(this, XSadd);\n\n        this.state = new Uint32Array(4);\n        this.init(seed);\n    }\n\n    _createClass(XSadd, [{\n        key: \"init\",\n        value: function init(seed) {\n            this.state[0] = seed;\n            this.state[1] = 0;\n            this.state[2] = 0;\n            this.state[3] = 0;\n            for (var i = 1; i < LOOP; i++) {\n                this.state[i & 3] ^= i + multiply_uint32(1812433253, this.state[i - 1 & 3] ^ this.state[i - 1 & 3] >>> 30 >>> 0) >>> 0;\n            }\n            period_certification(this);\n            for (var i = 0; i < LOOP; i++) {\n                next_state(this);\n            }\n        }\n\n        /**\n         * Returns a 32-bit integer r (0 <= r < 2^32)\n         */\n    }, {\n        key: \"getUint32\",\n        value: function getUint32() {\n            next_state(this);\n            return this.state[3] + this.state[2] >>> 0;\n        }\n\n        /**\n         * Returns a floating point number r (0.0 <= r < 1.0)\n         */\n    }, {\n        key: \"getFloat\",\n        value: function getFloat() {\n            return (this.getUint32() >>> 8) * FLOAT_MUL;\n        }\n    }, {\n        key: \"random\",\n        get: function get() {\n            if (!this._random) {\n                this._random = this.getFloat.bind(this);\n            }\n            return this._random;\n        }\n    }]);\n\n    return XSadd;\n})();\n\nexports[\"default\"] = XSadd;\n\nfunction period_certification(xsadd) {\n    if (xsadd.state[0] === 0 && xsadd.state[1] === 0 && xsadd.state[2] === 0 && xsadd.state[3] === 0) {\n        xsadd.state[0] = 88; // X\n        xsadd.state[1] = 83; // S\n        xsadd.state[2] = 65; // A\n        xsadd.state[3] = 68; // D\n    }\n}\n\nvar sh1 = 15;\nvar sh2 = 18;\nvar sh3 = 11;\nfunction next_state(xsadd) {\n    var t = xsadd.state[0];\n    t ^= t << sh1;\n    t ^= t >>> sh2;\n    t ^= xsadd.state[3] << sh3;\n    xsadd.state[0] = xsadd.state[1];\n    xsadd.state[1] = xsadd.state[2];\n    xsadd.state[2] = xsadd.state[3];\n    xsadd.state[3] = t;\n}\nmodule.exports = exports[\"default\"];\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-xsadd/xsadd-es5.js","'use strict';\n\nconst measures = require('./measures');\n\nclass Performance {\n    /**\n     *\n     * @param prediction - The prediction matrix\n     * @param target - The target matrix (values: truthy for same class, falsy for different class)\n     * @param options\n     *\n     * @option    all    True if the entire matrix must be used. False to ignore the diagonal and lower part (default is false, for similarity/distance matrices)\n     * @option    max    True if the max value corresponds to a perfect match (like in similarity matrices), false if it is the min value (default is false, like in distance matrices. All values will be multiplied by -1)\n     */\n    constructor(prediction, target, options) {\n        options = options || {};\n        if (prediction.length !== target.length || prediction[0].length !== target[0].length) {\n            throw new Error('dimensions of prediction and target do not match');\n        }\n        const rows = prediction.length;\n        const columns = prediction[0].length;\n        const isDistance = !options.max;\n\n        const predP = [];\n\n        if (options.all) {\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    predP.push({\n                        pred: prediction[i][j],\n                        targ: target[i][j]\n                    });\n                }\n            }\n        } else {\n            if (rows < 3 || rows !== columns) {\n                throw new Error('When \"all\" option is false, the prediction matrix must be square and have at least 3 columns');\n            }\n            for (var i = 0; i < rows - 1; i++) {\n                for (var j = i + 1; j < columns; j++) {\n                    predP.push({\n                        pred: prediction[i][j],\n                        targ: target[i][j]\n                    });\n                }\n            }\n        }\n\n        if (isDistance) {\n            predP.sort((a, b) => a.pred - b.pred);\n        } else {\n            predP.sort((a, b) => b.pred - a.pred);\n        }\n        \n        const cutoffs = this.cutoffs = [isDistance ? Number.MIN_VALUE : Number.MAX_VALUE];\n        const fp = this.fp = [0];\n        const tp = this.tp = [0];\n\n        var nPos = 0;\n        var nNeg = 0;\n\n        var currentPred = predP[0].pred;\n        var nTp = 0;\n        var nFp = 0;\n        for (var i = 0; i < predP.length; i++) {\n            if (predP[i].pred !== currentPred) {\n                cutoffs.push(currentPred);\n                fp.push(nFp);\n                tp.push(nTp);\n                currentPred = predP[i].pred;\n            }\n            if (predP[i].targ) {\n                nPos++;\n                nTp++;\n            } else {\n                nNeg++;\n                nFp++;\n            }\n        }\n        cutoffs.push(currentPred);\n        fp.push(nFp);\n        tp.push(nTp);\n\n        const l = cutoffs.length;\n        const fn = this.fn = new Array(l);\n        const tn = this.tn = new Array(l);\n        const nPosPred = this.nPosPred = new Array(l);\n        const nNegPred = this.nNegPred = new Array(l);\n\n        for (var i = 0; i < l; i++) {\n            fn[i] = nPos - tp[i];\n            tn[i] = nNeg - fp[i];\n\n            nPosPred[i] = tp[i] + fp[i];\n            nNegPred[i] = tn[i] + fn[i];\n        }\n\n        this.nPos = nPos;\n        this.nNeg = nNeg;\n        this.nSamples = nPos + nNeg;\n    }\n\n    /**\n     * Computes a measure from the prediction object.\n     *\n     * Many measures are available and can be combined :\n     * To create a ROC curve, you need fpr and tpr\n     * To create a DET curve, you need fnr and fpr\n     * To create a Lift chart, you need rpp and lift\n     *\n     * Possible measures are : threshold (Threshold), acc (Accuracy), err (Error rate),\n     * fpr (False positive rate), tpr (True positive rate), fnr (False negative rate), tnr (True negative rate), ppv (Positive predictive value),\n     * npv (Negative predictive value), pcfall (Prediction-conditioned fallout), pcmiss (Prediction-conditioned miss), lift (Lift value), rpp (Rate of positive predictions), rnp (Rate of negative predictions)\n     *\n     * @param measure - The short name of the measure\n     *\n     * @return [number]\n     */\n    getMeasure(measure) {\n        if (typeof measure !== 'string') {\n            throw new Error('No measure specified');\n        }\n        if (!measures[measure]) {\n            throw new Error(`The specified measure (${measure}) does not exist`);\n        }\n        return measures[measure](this);\n    }\n\n    /**\n     * Returns the area under the ROC curve\n     */\n    getAURC() {\n        const l = this.cutoffs.length;\n        const x = new Array(l);\n        const y = new Array(l);\n        for (var i = 0; i < l; i++) {\n            x[i] = this.fp[i] / this.nNeg;\n            y[i] = this.tp[i] / this.nPos;\n        }\n        var auc = 0;\n        for (i = 1; i < l; i++) {\n            auc += 0.5 * (x[i] - x[i - 1]) * (y[i] + y[i - 1]);\n        }\n        return auc;\n    }\n\n    /**\n     * Returns the area under the DET curve\n     */\n    getAUDC() {\n        const l = this.cutoffs.length;\n        const x = new Array(l);\n        const y = new Array(l);\n        for (var i = 0; i < l; i++) {\n            x[i] = this.fn[i] / this.nPos;\n            y[i] = this.fp[i] / this.nNeg;\n        }\n        var auc = 0;\n        for (i = 1; i < l; i++) {\n            auc += 0.5 * (x[i] + x[i - 1]) * (y[i] - y[i - 1]);\n        }\n        return auc;\n    }\n\n    getDistribution(options) {\n        options = options || {};\n        var cutLength = this.cutoffs.length;\n        var cutLow = options.xMin || Math.floor(this.cutoffs[cutLength - 1] * 100) / 100;\n        var cutHigh = options.xMax || Math.ceil(this.cutoffs[1] * 100) / 100;\n        var interval = options.interval || Math.floor(((cutHigh - cutLow) / 20 * 10000000) - 1) / 10000000; // Trick to avoid the precision problem of float numbers\n\n        var xLabels = [];\n        var interValues = [];\n        var intraValues = [];\n        var interCumPercent = [];\n        var intraCumPercent = [];\n\n        var nTP = this.tp[cutLength - 1], currentTP = 0;\n        var nFP = this.fp[cutLength - 1], currentFP = 0;\n\n        for (var i = cutLow, j = (cutLength - 1); i <= cutHigh; i += interval) {\n            while (this.cutoffs[j] < i)\n                j--;\n\n            xLabels.push(i);\n\n            var thisTP = nTP - currentTP - this.tp[j];\n            var thisFP = nFP - currentFP - this.fp[j];\n\n            currentTP += thisTP;\n            currentFP += thisFP;\n\n            interValues.push(thisFP);\n            intraValues.push(thisTP);\n\n            interCumPercent.push(100 - (nFP - this.fp[j]) / nFP * 100);\n            intraCumPercent.push(100 - (nTP - this.tp[j]) / nTP * 100);\n        }\n\n        return {\n            xLabels: xLabels,\n            interValues: interValues,\n            intraValues: intraValues,\n            interCumPercent: interCumPercent,\n            intraCumPercent: intraCumPercent\n        };\n    }\n}\n\nPerformance.names = {\n    acc: 'Accuracy',\n    err: 'Error rate',\n    fpr: 'False positive rate',\n    tpr: 'True positive rate',\n    fnr: 'False negative rate',\n    tnr: 'True negative rate',\n    ppv: 'Positive predictive value',\n    npv: 'Negative predictive value',\n    pcfall: 'Prediction-conditioned fallout',\n    pcmiss: 'Prediction-conditioned miss',\n    lift: 'Lift value',\n    rpp: 'Rate of positive predictions',\n    rnp: 'Rate of negative predictions',\n    threshold: 'Threshold'\n};\n\nmodule.exports = Performance;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-performance/src/index.js","'use strict';\n\n// Accuracy\nexports.acc = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.tn[i] + pred.tp[i]) / (l - 1);\n    }\n    return result;\n};\n\n// Error rate\nexports.err = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fn[i] + pred.fp[i] / (l - 1));\n    }\n    return result;\n};\n\n// False positive rate\nexports.fpr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.fp[i] / pred.nNeg;\n    }\n    return result;\n};\n\n// True positive rate\nexports.tpr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.tp[i] / pred.nPos;\n    }\n    return result;\n};\n\n// False negative rate\nexports.fnr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.fn[i] / pred.nPos;\n    }\n    return result;\n};\n\n// True negative rate\nexports.tnr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.tn[i] / pred.nNeg;\n    }\n    return result;\n};\n\n// Positive predictive value\nexports.ppv = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fp[i] + pred.tp[i] !== 0) ? (pred.tp[i] / (pred.fp[i] + pred.tp[i])) : 0;\n    }\n    return result;\n};\n\n// Negative predictive value\nexports.npv = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fn[i] + pred.tn[i] !== 0) ? (pred.tn[i] / (pred.fn[i] + pred.tn[i])) : 0;\n    }\n    return result;\n};\n\n// Prediction conditioned fallout\nexports.pcfall = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fp[i] + pred.tp[i] !== 0) ? 1 - (pred.tp[i] / (pred.fp[i] + pred.tp[i])) : 1;\n    }\n    return result;\n};\n\n// Prediction conditioned miss\nexports.pcmiss = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fn[i] + pred.tn[i] !== 0) ? 1 - (pred.tn[i] / (pred.fn[i] + pred.tn[i])) : 1;\n    }\n    return result;\n};\n\n// Lift value\nexports.lift = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.nPosPred[i] !== 0) ? ((pred.tp[i] / pred.nPos) / (pred.nPosPred[i] / pred.nSamples)) : 0;\n    }\n    return result;\n};\n\n// Rate of positive predictions\nexports.rpp = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.nPosPred[i] / pred.nSamples;\n    }\n    return result;\n};\n\n// Rate of negative predictions\nexports.rnp = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.nNegPred[i] / pred.nSamples;\n    }\n    return result;\n};\n\n// Threshold\nexports.threshold = pred => {\n    const clone = pred.cutoffs.slice();\n    clone[0] = clone[1]; // Remove the infinite value\n    return clone;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-performance/src/measures.js","'use strict';\n\nvar matrixLib = require('ml-matrix');\nvar Matrix = matrixLib.Matrix;\nvar inverse = matrixLib.inverse;\nvar padArray = require('ml-pad-array');\nvar extend = require('extend');\n\nvar defaultOptions = {\n    windowSize: 5,\n    derivative: 1,\n    polynomial: 2,\n    pad: 'none',\n    padValue: 'replicate'\n};\n\n/**\n * Savitzky-Golay filter\n * @param {Array <number>} data\n * @param {number} h\n * @param {Object} options\n * @returns {Array}\n */\nfunction SavitzkyGolay (data, h, options) {\n    options = extend({}, defaultOptions, options);\n    if ((options.windowSize % 2 === 0) || (options.windowSize < 5) || !(Number.isInteger(options.windowSize)))\n        throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');\n    if ((options.derivative < 0) || !(Number.isInteger(options.derivative)))\n        throw new RangeError('Derivative should be a positive integer');\n    if ((options.polynomial < 1) || !(Number.isInteger(options.polynomial)))\n        throw new RangeError('Polynomial should be a positive integer');\n\n    var C, norm;\n    var step = Math.floor(options.windowSize / 2);\n\n    if (options.pad === 'pre') {\n        data = padArray(data, {size: step, value: options.padValue});\n    }\n\n    var ans =  new Array(data.length - 2*step);\n\n    if ((options.windowSize === 5) && (options.polynomial === 2) && ((options.derivative === 1) || (options.derivative === 2))) {\n        if (options.derivative === 1) {\n            C = [-2,-1,0,1,2];\n            norm = 10;\n        }\n        else {\n            C = [2, -1, -2, -1, 2];\n            norm = 7;\n        }\n    }\n    else {\n        var J = Matrix.ones(options.windowSize, options.polynomial + 1);\n        var inic = -(options.windowSize - 1) / 2;\n        for (var i = 0; i < J.length; i++) {\n            for (var j = 0; j < J[i].length; j++) {\n                if ((inic + 1 !== 0) || (j !== 0))\n                    J[i][j] = Math.pow((inic + i), j);\n            }\n        }\n        var Jtranspose = J.transposeView();\n        var Jinv = inverse(Jtranspose.mmul(J));\n        C = Jinv.mmul(Jtranspose);\n        C = C[options.derivative];\n        norm = 1;\n    }\n    var det = norm * Math.pow(h, options.derivative);\n    for (var k = step; k < (data.length - step); k++) {\n        var d = 0;\n        for (var l = 0; l < C.length; l++)\n            d += C[l] * data[l + k - step] / det;\n        ans[k - step] = d;\n    }\n\n    if (options.pad === 'post') {\n        ans = padArray(ans, {size: step, value: options.padValue});\n    }\n\n    return ans;\n}\n\nmodule.exports = SavitzkyGolay;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-savitzky-golay/src/index.js","//Code translate from Pascal source in http://pubs.acs.org/doi/pdf/10.1021/ac00205a007\nvar extend = require('extend');\nvar stat = require('ml-stat');\n\nvar defaultOptions = {\n    windowSize: 9,\n    derivative: 0,\n    polynomial: 3,\n};\n\n\nfunction SavitzkyGolay(data, h, options) {\n    options = extend({}, defaultOptions, options);\n\n    if ((options.windowSize % 2 === 0) || (options.windowSize < 5) || !(Number.isInteger(options.windowSize)))\n            throw new RangeError('Invalid window size (should be odd and at least 5 integer number)')\n\n\n    if (options.windowSize>data.length)\n        throw new RangeError('Window size is higher than the data length '+options.windowSize+\">\"+data.length);\n    if ((options.derivative < 0) || !(Number.isInteger(options.derivative)))\n        throw new RangeError('Derivative should be a positive integer');\n    if ((options.polynomial < 1) || !(Number.isInteger(options.polynomial)))\n        throw new RangeError('Polynomial should be a positive integer');\n    if (options.polynomial >= 6)\n        console.warn('You should not use polynomial grade higher than 5 if you are' +\n            ' not sure that your data arises from such a model. Possible polynomial oscillation problems');\n\n    var windowSize = options.windowSize;\n\n    var half = Math.floor(windowSize/2);\n    var np = data.length;\n    var ans = new Array(np);\n    var weights = fullWeights(windowSize,options.polynomial,options.derivative);\n    var hs = 0;\n    var constantH = true;\n    if( Object.prototype.toString.call( h ) === '[object Array]' ) {\n        constantH = false;\n    }\n    else{\n        hs = Math.pow(h, options.derivative);\n    }\n    //console.log(\"Constant h: \"+constantH);\n    //For the borders\n    for(var i=0;i<half;i++){\n        var wg1=weights[half-i-1];\n        var wg2=weights[half+i+1];\n        var d1 = 0,d2=0;\n        for (var l = 0; l < windowSize; l++){\n            d1 += wg1[l] * data[l];\n            d2 += wg2[l] * data[np-windowSize+l-1];\n        }\n        if(constantH){\n            ans[half-i-1] = d1/hs;\n            ans[np-half+i] = d2/hs;\n        }\n        else{\n            hs = getHs(h,half-i-1,half, options.derivative);\n            ans[half-i-1] = d1/hs;\n            hs = getHs(h,np-half+i,half, options.derivative);\n            ans[np-half+i] = d2/hs;\n        }\n    }\n    //For the internal points\n    var wg = weights[half];\n    for(var i=windowSize;i<np+1;i++){\n        var d = 0;\n        for (var l = 0; l < windowSize; l++)\n            d += wg[l] * data[l+i-windowSize];\n        if(!constantH)\n            hs = getHs(h,i-half-1,half, options.derivative);\n        ans[i-half-1] = d/hs;\n    }\n    return ans;\n}\n\nfunction getHs(h,center,half,derivative){\n    var hs = 0;\n    var count = 0;\n    for(var i=center-half;i<center+half;i++){\n        if(i>=0 && i < h.length-1){\n            hs+= (h[i+1]-h[i]);\n            count++;\n        }\n    }\n    return Math.pow(hs/count,derivative);\n}\n\nfunction GramPoly(i,m,k,s){\n    var Grampoly = 0;\n    if(k>0){\n        Grampoly = (4*k-2)/(k*(2*m-k+1))*(i*GramPoly(i,m,k-1,s) +\n            s*GramPoly(i,m,k-1,s-1)) - ((k-1)*(2*m+k))/(k*(2*m-k+1))*GramPoly(i,m,k-2,s);\n    }\n    else{\n        if(k==0&&s==0){\n            Grampoly=1;\n        }\n        else{\n            Grampoly=0;\n        }\n    }\n    //console.log(Grampoly);\n    return Grampoly;\n}\n\nfunction GenFact(a,b){\n    var gf=1;\n    if(a>=b){\n        for(var j=a-b+1;j<=a;j++){\n            gf*=j;\n        }\n    }\n    return gf;\n}\n\nfunction Weight(i,t,m,n,s){\n    var sum=0;\n    for(var k=0;k<=n;k++){\n        //console.log(k);\n        sum+=(2*k+1)*(GenFact(2*m,k)/GenFact(2*m+k+1,k+1))*GramPoly(i,m,k,0)*GramPoly(t,m,k,s)\n    }\n    return sum;\n}\n\n/**\n *\n * @param m  Number of points\n * @param n  Polynomial grade\n * @param s  Derivative\n */\nfunction fullWeights(m,n,s){\n    var weights = new Array(m);\n    var np = Math.floor(m/2);\n    for(var t=-np;t<=np;t++){\n        weights[t+np] = new Array(m);\n        for(var j=-np;j<=np;j++){\n            weights[t+np][j+np]=Weight(j,t,np,n,s);\n        }\n    }\n    return weights;\n}\n\n/*function entropy(data,h,options){\n    var trend = SavitzkyGolay(data,h,trendOptions);\n    var copy = new Array(data.length);\n    var sum = 0;\n    var max = 0;\n    for(var i=0;i<data.length;i++){\n        copy[i] = data[i]-trend[i];\n    }\n\n    sum/=data.length;\n    console.log(sum+\" \"+max);\n    console.log(stat.array.standardDeviation(copy));\n    console.log(Math.abs(stat.array.mean(copy))/stat.array.standardDeviation(copy));\n    return sum;\n\n}\n\n\n\nfunction guessWindowSize(data, h){\n    console.log(\"entropy \"+entropy(data,h,trendOptions));\n    return 5;\n}\n*/\nmodule.exports = SavitzkyGolay;\n \n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-savitzky-golay-generalized/src/index.js","'use strict';\n\nvar eightBits = require('./creator');\n\n/**\n * Count the number of true values in an array\n * @param {Array} arr\n * @return {number}\n */\nfunction count(arr) {\n    var c = 0;\n    for (var i = 0; i < arr.length; i++) {\n        c += eightBits[arr[i] & 0xff] + eightBits[(arr[i] >> 8) & 0xff] + eightBits[(arr[i] >> 16) & 0xff] + eightBits[(arr[i] >> 24) & 0xff];\n    }\n    return c;\n}\n\n/**\n * Logical AND operation\n * @param {Array} arr1\n * @param {Array} arr2\n * @return {Array}\n */\nfunction and(arr1, arr2) {\n    var ans = new Array(arr1.length);\n    for (var i = 0; i < arr1.length; i++)\n        ans[i] = arr1[i] & arr2[i];\n    return ans;\n}\n\n/**\n * Logical OR operation\n * @param {Array} arr1\n * @param {Array} arr2\n * @return {Array}\n */\nfunction or(arr1, arr2) {\n    var ans = new Array(arr1.length);\n    for (var i = 0; i < arr1.length; i++)\n        ans[i] = arr1[i] | arr2[i];\n    return ans;\n}\n\n/**\n * Logical XOR operation\n * @param {Array} arr1\n * @param {Array} arr2\n * @return {Array}\n */\nfunction xor(arr1, arr2) {\n    var ans = new Array(arr1.length);\n    for (var i = 0; i < arr1.length; i++)\n        ans[i] = arr1[i] ^ arr2[i];\n    return ans;\n}\n\n/**\n * Logical NOT operation\n * @param {Array} arr\n * @return {Array}\n */\nfunction not(arr) {\n    var ans = new Array(arr.length);\n    for (var i = 0; i < ans.length; i++)\n        ans[i] = ~arr[i];\n    return ans;\n}\n\n/**\n * Gets the n value of array arr\n * @param {Array} arr\n * @param {number} n\n * @return {boolean}\n */\nfunction getBit(arr, n) {\n    var index = n >> 5; // Same as Math.floor(n/32)\n    var mask = 1 << (31 - n % 32);\n    return Boolean(arr[index] & mask);\n}\n\n/**\n * Sets the n value of array arr to the value val\n * @param {Array} arr\n * @param {number} n\n * @param {boolean} val\n * @return {Array}\n */\nfunction setBit(arr, n, val) {\n    var index = n >> 5; // Same as Math.floor(n/32)\n    var mask = 1 << (31 - n % 32);\n    if (val)\n        arr[index] = mask | arr[index];\n    else\n        arr[index] = ~mask & arr[index];\n    return arr;\n}\n\n/**\n * Translates an array of numbers to a string of bits\n * @param {Array} arr\n * @returns {string}\n */\nfunction toBinaryString(arr) {\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        var obj = (arr[i] >>> 0).toString(2);\n        str += '00000000000000000000000000000000'.substr(obj.length) + obj;\n    }\n    return str;\n}\n\n/**\n * Creates an array of numbers based on a string of bits\n * @param {string} str\n * @returns {Array}\n */\nfunction parseBinaryString(str) {\n    var len = str.length / 32;\n    var ans = new Array(len);\n    for (var i = 0; i < len; i++) {\n        ans[i] = parseInt(str.substr(i*32, 32), 2) | 0;\n    }\n    return ans;\n}\n\n/**\n * Translates an array of numbers to a hex string\n * @param {Array} arr\n * @returns {string}\n */\nfunction toHexString(arr) {\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        var obj = (arr[i] >>> 0).toString(16);\n        str += '00000000'.substr(obj.length) + obj;\n    }\n    return str;\n}\n\n/**\n * Creates an array of numbers based on a hex string\n * @param {string} str\n * @returns {Array}\n */\nfunction parseHexString(str) {\n    var len = str.length / 8;\n    var ans = new Array(len);\n    for (var i = 0; i < len; i++) {\n        ans[i] = parseInt(str.substr(i*8, 8), 16) | 0;\n    }\n    return ans;\n}\n\n/**\n * Creates a human readable string of the array\n * @param {Array} arr\n * @returns {string}\n */\nfunction toDebug(arr) {\n    var binary = toBinaryString(arr);\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        str += '0000'.substr((i * 32).toString(16).length) + (i * 32).toString(16) + ':';\n        for (var j = 0; j < 32; j += 4) {\n            str += ' ' + binary.substr(i * 32 + j, 4);\n        }\n        if (i < arr.length - 1) str += '\\n';\n    }\n    return str\n}\n\nmodule.exports = {\n    count: count,\n    and: and,\n    or: or,\n    xor: xor,\n    not: not,\n    getBit: getBit,\n    setBit: setBit,\n    toBinaryString: toBinaryString,\n    parseBinaryString: parseBinaryString,\n    toHexString: toHexString,\n    parseHexString: parseHexString,\n    toDebug: toDebug\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-bit-array/src/index.js","// auxiliary file to create the 256 look at table elements\n\nvar ans = new Array(256);\nfor (var i = 0; i < 256; i++) {\n    var num = i;\n    var c = 0;\n    while (num) {\n        num = num & (num - 1);\n        c++;\n    }\n    ans[i] = c;\n}\n\nmodule.exports = ans;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-bit-array/src/creator.js","'use strict';\n\nmodule.exports = exports = require('./ArrayUtils');\n\nexports.getEquallySpacedData = require('./getEquallySpaced').getEquallySpacedData;\nexports.SNV = require('./snv').SNV;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/index.js","'use strict';\n\nconst Stat = require('ml-stat').array;\n/**\n * Function that returns an array of points given 1D array as follows:\n *\n * [x1, y1, .. , x2, y2, ..]\n *\n * And receive the number of dimensions of each point.\n * @param array\n * @param dimensions\n * @returns {Array} - Array of points.\n */\nfunction coordArrayToPoints(array, dimensions) {\n    if (array.length % dimensions !== 0) {\n        throw new RangeError('Dimensions number must be accordance with the size of the array.');\n    }\n\n    var length = array.length / dimensions;\n    var pointsArr = new Array(length);\n\n    var k = 0;\n    for (var i = 0; i < array.length; i += dimensions) {\n        var point = new Array(dimensions);\n        for (var j = 0; j < dimensions; ++j) {\n            point[j] = array[i + j];\n        }\n\n        pointsArr[k] = point;\n        k++;\n    }\n\n    return pointsArr;\n}\n\n\n/**\n * Function that given an array as follows:\n * [x1, y1, .. , x2, y2, ..]\n *\n * Returns an array as follows:\n * [[x1, x2, ..], [y1, y2, ..], [ .. ]]\n *\n * And receives the number of dimensions of each coordinate.\n * @param array\n * @param dimensions\n * @returns {Array} - Matrix of coordinates\n */\nfunction coordArrayToCoordMatrix(array, dimensions) {\n    if (array.length % dimensions !== 0) {\n        throw new RangeError('Dimensions number must be accordance with the size of the array.');\n    }\n\n    var coordinatesArray = new Array(dimensions);\n    var points = array.length / dimensions;\n    for (var i = 0; i < coordinatesArray.length; i++) {\n        coordinatesArray[i] = new Array(points);\n    }\n\n    for (i = 0; i < array.length; i += dimensions) {\n        for (var j = 0; j < dimensions; ++j) {\n            var currentPoint = Math.floor(i / dimensions);\n            coordinatesArray[j][currentPoint] = array[i + j];\n        }\n    }\n\n    return coordinatesArray;\n}\n\n/**\n * Function that receives a coordinate matrix as follows:\n * [[x1, x2, ..], [y1, y2, ..], [ .. ]]\n *\n * Returns an array of coordinates as follows:\n * [x1, y1, .. , x2, y2, ..]\n *\n * @param coordMatrix\n * @returns {Array}\n */\nfunction coordMatrixToCoordArray(coordMatrix) {\n    var coodinatesArray = new Array(coordMatrix.length * coordMatrix[0].length);\n    var k = 0;\n    for (var i = 0; i < coordMatrix[0].length; ++i) {\n        for (var j = 0; j < coordMatrix.length; ++j) {\n            coodinatesArray[k] = coordMatrix[j][i];\n            ++k;\n        }\n    }\n\n    return coodinatesArray;\n}\n\n/**\n * Tranpose a matrix, this method is for coordMatrixToPoints and\n * pointsToCoordMatrix, that because only transposing the matrix\n * you can change your representation.\n *\n * @param matrix\n * @returns {Array}\n */\nfunction transpose(matrix) {\n    var resultMatrix = new Array(matrix[0].length);\n    for (var i = 0; i < resultMatrix.length; ++i) {\n        resultMatrix[i] = new Array(matrix.length);\n    }\n\n    for (i = 0; i < matrix.length; ++i) {\n        for (var j = 0; j < matrix[0].length; ++j) {\n            resultMatrix[j][i] = matrix[i][j];\n        }\n    }\n\n    return resultMatrix;\n}\n\n/**\n * Function that transform an array of points into a coordinates array\n * as follows:\n * [x1, y1, .. , x2, y2, ..]\n *\n * @param points\n * @returns {Array}\n */\nfunction pointsToCoordArray(points) {\n    var coodinatesArray = new Array(points.length * points[0].length);\n    var k = 0;\n    for (var i = 0; i < points.length; ++i) {\n        for (var j = 0; j < points[0].length; ++j) {\n            coodinatesArray[k] = points[i][j];\n            ++k;\n        }\n    }\n\n    return coodinatesArray;\n}\n\n/**\n * Apply the dot product between the smaller vector and a subsets of the\n * largest one.\n *\n * @param firstVector\n * @param secondVector\n * @returns {Array} each dot product of size of the difference between the\n *                  larger and the smallest one.\n */\nfunction applyDotProduct(firstVector, secondVector) {\n    var largestVector, smallestVector;\n    if (firstVector.length <= secondVector.length) {\n        smallestVector = firstVector;\n        largestVector = secondVector;\n    } else {\n        smallestVector = secondVector;\n        largestVector = firstVector;\n    }\n\n    var difference = largestVector.length - smallestVector.length + 1;\n    var dotProductApplied = new Array(difference);\n\n    for (var i = 0; i < difference; ++i) {\n        var sum = 0;\n        for (var j = 0; j < smallestVector.length; ++j) {\n            sum += smallestVector[j] * largestVector[i + j];\n        }\n        dotProductApplied[i] = sum;\n    }\n\n    return dotProductApplied;\n}\n/**\n * To scale the input array between the specified min and max values. The operation is performed inplace\n * if the options.inplace is specified. If only one of the min or max parameters is specified, then the scaling\n * will multiply the input array by min/min(input) or max/max(input)\n * @param input\n * @param options\n * @returns {*}\n */\nfunction scale(input, options = {}) {\n    const {\n        min,\n        max\n    } = options;\n\n    var y = options.inPlace ? input : (new Array(input.length));\n    var minMax = Stat.minMax(input);\n\n    if (typeof max === 'number') {\n        if (typeof min === 'number') {\n            let factor = (max - min) / (minMax.max - minMax.min);\n            for (let i = 0; i < y.length; i++) {\n                y[i] = (input[i] - minMax.min) * factor + min;\n            }\n        } else if (minMax.max !== 0) {\n            let factor = max / minMax.max;\n            for (let i = 0; i < y.length; i++) {\n                y[i] = input[i] * factor;\n            }\n        } else {\n            options.min = minMax.min;\n            y = scale(input, options);\n        }\n    } else if (typeof min === 'number') {\n        if (minMax.min !== 0) {\n            let factor = min / minMax.min;\n            for (let i = 0; i < y.length; i++) {\n                y[i] = input[i] * factor;\n            }\n\n        } else {\n            options.max = minMax.max;\n            y = scale(input, options);\n        }\n    }\n    return y;\n}\n\nmodule.exports = {\n    coordArrayToPoints: coordArrayToPoints,\n    coordArrayToCoordMatrix: coordArrayToCoordMatrix,\n    coordMatrixToCoordArray: coordMatrixToCoordArray,\n    coordMatrixToPoints: transpose,\n    pointsToCoordArray: pointsToCoordArray,\n    pointsToCoordMatrix: transpose,\n    applyDotProduct: applyDotProduct,\n    scale: scale\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/ArrayUtils.js","'use strict';\n\n/**\n *\n * Function that returns a Number array of equally spaced numberOfPoints\n * containing a representation of intensities of the spectra arguments x\n * and y.\n *\n * The options parameter contains an object in the following form:\n * from: starting point\n * to: last point\n * numberOfPoints: number of points between from and to\n * variant: \"slot\" or \"smooth\" - smooth is the default option\n *\n * The slot variant consist that each point in the new array is calculated\n * averaging the existing points between the slot that belongs to the current\n * value. The smooth variant is the same but takes the integral of the range\n * of the slot and divide by the step size between two points in the new array.\n *\n * @param x - sorted increasing x values\n * @param y\n * @param options\n * @returns {Array} new array with the equally spaced data.\n *\n */\nfunction getEquallySpacedData(x, y, options = {}) {\n    var xLength = x.length;\n    if (x.length > 1 && x[0] > x[1]) {\n        x = x.slice().reverse();\n        y = y.slice().reverse();\n    }\n\n    var {\n        from = x[0],\n        to = x[xLength - 1],\n        variant = 'smooth',\n        numberOfPoints = 100\n    } = options;\n\n    if (xLength !== y.length) {\n        throw new RangeError(\"the x and y vector doesn't have the same size.\");\n    }\n\n    if (typeof from !== 'number' || isNaN(from)) {\n        throw new RangeError(\"'from' option must be a number\");\n    }\n\n    if (typeof to !== 'number' || isNaN(to)) {\n        throw new RangeError(\"'to' option must be a number\");\n    }\n\n    var reverse = from > to;\n    if (reverse) {\n        [from, to] = [to, from];\n    }\n\n    if (typeof numberOfPoints !== 'number' || isNaN(numberOfPoints)) {\n        throw new RangeError(\"'numberOfPoints' option must be a number\");\n    }\n    if (numberOfPoints < 1) {\n        throw new RangeError('the number of points must be at least 1');\n    }\n\n    var output = variant === 'slot' ? getEquallySpacedSlot(x, y, from, to, numberOfPoints) : getEquallySpacedSmooth(x, y, from, to, numberOfPoints);\n\n    return reverse ? output.reverse() : output;\n}\n\n/**\n * function that retrieves the getEquallySpacedData with the variant \"smooth\"\n *\n * @param x\n * @param y\n * @param from - Initial point\n * @param to - Final point\n * @param numberOfPoints\n * @returns {Array} - Array of y's equally spaced with the variant \"smooth\"\n */\nfunction getEquallySpacedSmooth(x, y, from, to, numberOfPoints) {\n    var xLength = x.length;\n\n    var step = (to - from) / (numberOfPoints - 1);\n    var halfStep = step / 2;\n\n    var output = new Array(numberOfPoints);\n\n    var initialOriginalStep = x[1] - x[0];\n    var lastOriginalStep = x[xLength - 1] - x[xLength - 2];\n\n    // Init main variables\n    var min = from - halfStep;\n    var max = from + halfStep;\n\n    var previousX = Number.MIN_VALUE;\n    var previousY = 0;\n    var nextX = x[0] - initialOriginalStep;\n    var nextY = 0;\n\n    var currentValue = 0;\n    var slope = 0;\n    var intercept = 0;\n    var sumAtMin = 0;\n    var sumAtMax = 0;\n\n    var i = 0; // index of input\n    var j = 0; // index of output\n\n    function getSlope(x0, y0, x1, y1) {\n        return (y1 - y0) / (x1 - x0);\n    }\n\n    main: while (true) {\n\n        if (previousX <= min && min <= nextX) {\n            add = integral(0, min - previousX, slope, previousY);\n            sumAtMin = currentValue + add;\n        }\n\n        while (nextX - max >= 0) {\n            // no overlap with original point, just consume current value\n            var add = integral(0, max - previousX, slope, previousY);\n            sumAtMax = currentValue + add;\n\n            output[j++] = (sumAtMax - sumAtMin) / step;\n\n            if (j === numberOfPoints) {\n                break main;\n            }\n\n            min = max;\n            max += step;\n            sumAtMin = sumAtMax;\n        }\n\n        currentValue += integral(previousX, nextX, slope, intercept);\n\n        previousX = nextX;\n        previousY = nextY;\n\n        if (i < xLength) {\n            nextX = x[i];\n            nextY = y[i];\n            i++;\n        } else if (i === xLength) {\n            nextX += lastOriginalStep;\n            nextY = 0;\n        }\n\n        slope = getSlope(previousX, previousY, nextX, nextY);\n        intercept = -slope * previousX + previousY;\n    }\n\n    return output;\n}\n\n/**\n * function that retrieves the getEquallySpacedData with the variant \"slot\"\n *\n * @param x\n * @param y\n * @param from - Initial point\n * @param to - Final point\n * @param numberOfPoints\n * @returns {Array} - Array of y's equally spaced with the variant \"slot\"\n */\nfunction getEquallySpacedSlot(x, y, from, to, numberOfPoints) {\n    var xLength = x.length;\n\n    var step = (to - from) / (numberOfPoints - 1);\n    var halfStep = step / 2;\n    var lastStep = x[x.length - 1] - x[x.length - 2];\n\n    var start = from - halfStep;\n    var output = new Array(numberOfPoints);\n\n    // Init main variables\n    var min = start;\n    var max = start + step;\n\n    var previousX = -Number.MAX_VALUE;\n    var previousY = 0;\n    var nextX = x[0];\n    var nextY = y[0];\n    var frontOutsideSpectra = 0;\n    var backOutsideSpectra = true;\n\n    var currentValue = 0;\n\n    // for slot algorithm\n    var currentPoints = 0;\n\n    var i = 1; // index of input\n    var j = 0; // index of output\n\n    main: while (true) {\n        if (previousX >= nextX) throw (new Error('x must be an increasing serie'));\n        while (previousX - max > 0) {\n            // no overlap with original point, just consume current value\n            if (backOutsideSpectra) {\n                currentPoints++;\n                backOutsideSpectra = false;\n            }\n\n            output[j] = currentPoints <= 0 ? 0 : currentValue / currentPoints;\n            j++;\n\n            if (j === numberOfPoints) {\n                break main;\n            }\n\n            min = max;\n            max += step;\n            currentValue = 0;\n            currentPoints = 0;\n        }\n\n        if (previousX > min) {\n            currentValue += previousY;\n            currentPoints++;\n        }\n\n        if (previousX === -Number.MAX_VALUE || frontOutsideSpectra > 1) {\n            currentPoints--;\n        }\n\n        previousX = nextX;\n        previousY = nextY;\n\n        if (i < xLength) {\n            nextX = x[i];\n            nextY = y[i];\n            i++;\n        } else {\n            nextX += lastStep;\n            nextY = 0;\n            frontOutsideSpectra++;\n        }\n    }\n\n    return output;\n}\n/**\n * Function that calculates the integral of the line between two\n * x-coordinates, given the slope and intercept of the line.\n * @param x0\n * @param x1\n * @param slope\n * @param intercept\n * @returns {number} integral value.\n */\nfunction integral(x0, x1, slope, intercept) {\n    return (0.5 * slope * x1 * x1 + intercept * x1) - (0.5 * slope * x0 * x0 + intercept * x0);\n}\n\nexports.getEquallySpacedData = getEquallySpacedData;\nexports.integral = integral;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/getEquallySpaced.js","'use strict';\n\nexports.SNV = SNV;\nvar Stat = require('ml-stat').array;\n\n/**\n * Function that applies the standard normal variate (SNV) to an array of values.\n *\n * @param data - Array of values.\n * @returns {Array} - applied the SNV.\n */\nfunction SNV(data) {\n    var mean = Stat.mean(data);\n    var std = Stat.standardDeviation(data);\n    var result = data.slice();\n    for (var i = 0; i < data.length; i++) {\n        result[i] = (result[i] - mean) / std;\n    }\n    return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/snv.js"],"sourceRoot":""}